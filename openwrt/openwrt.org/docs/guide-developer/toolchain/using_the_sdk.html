
<h1 class="sectionedit1" id="using_the_sdk">Using the SDK</h1>
<div class="level1">

<p>
The <a href="https://en.wikipedia.org/wiki/Software_development_kit" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/Software_development_kit">SDK</a> is a <a href="/docs/guide-developer/toolchain/use-buildsystem" class="wikilink1" title="docs:guide-developer:toolchain:use-buildsystem" data-wiki-id="docs:guide-developer:toolchain:use-buildsystem">stripped-down buildroot</a> and a pre-compiled <a href="https://en.wikipedia.org/wiki/Toolchain" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/Toolchain">toolchain</a> designed to <a href="https://en.wikipedia.org/wiki/Cross_compile" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/Cross_compile">cross compile</a> packages for a specific target without compiling the whole system from scratch.
</p>

<p>
Tasks you can do with the SDK:
</p>
<ul>
<li class="level1"><div class="li"> Compile custom software for a specific release while ensuring binary and feature compatibility</div>
</li>
<li class="level1"><div class="li"> Compile newer versions of certain packages for a specific release</div>
</li>
<li class="level1"><div class="li"> Recompile existing packages with custom patches or different features</div>
</li>
</ul>

<p>
Tasks you cannot do with the SDK:
</p>
<ul>
<li class="level1"><div class="li"> Use it as a drop-in for a cross-compiling toolchain to compile the whole firmware.</div>
</li>
</ul>

</div>

<h4 id="prerequisites">Prerequisites</h4>
<div class="level4">

<p>
The SDK has the same prerequisites as the buildroot system, so please see <a href="/docs/guide-developer/toolchain/install-buildsystem" class="wikilink1" title="docs:guide-developer:toolchain:install-buildsystem" data-wiki-id="docs:guide-developer:toolchain:install-buildsystem">Build system – Installation</a> page to install the needed software to build the packages on the SDK.
</p>

<p>
Note: On some hosts it is needed to install the <code>ccache</code> package.
</p>
<!-- EDIT{&quot;target&quot;:&quot;plugin_wrap_start&quot;,&quot;hid&quot;:&quot;&quot;,&quot;secid&quot;:2,&quot;range&quot;:&quot;0-&quot;} --><div class="wrap_important plugin_wrap"><ul>
<li class="level1"><div class="li"> Do everything as an unprivileged user, not root, without sudo.</div>
</li>
<li class="level1"><div class="li"> Make sure there are no spaces in the full path to the build directory.</div>
</li>
</ul>
</div><!-- EDIT{&quot;target&quot;:&quot;plugin_wrap_end&quot;,&quot;hid&quot;:&quot;&quot;,&quot;secid&quot;:3,&quot;range&quot;:&quot;0-&quot;} -->
</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Using the SDK&quot;,&quot;hid&quot;:&quot;using_the_sdk&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:1,&quot;range&quot;:&quot;1-1208&quot;} -->
<h2 class="sectionedit4" id="obtain_the_sdk">Obtain the SDK</h2>
<div class="level2">

<p>
You can either download a precompiled SDK or compile it yourself from sources.
Compilation from source is done by simply enabling the menuconfig option <code>Build the OpenWrt SDK</code> (CONFIG_SDK).
The precompiled SDK is found in the same download folder where you find the firmware images for your device.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Obtain the SDK&quot;,&quot;hid&quot;:&quot;obtain_the_sdk&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:4,&quot;range&quot;:&quot;1209-1537&quot;} -->
<h3 class="sectionedit5" id="downloads">Downloads</h3>
<div class="level3">
<ul>
<li class="level1"><div class="li"> <a href="https://downloads.openwrt.org/snapshots/targets/" class="urlextern" title="https://downloads.openwrt.org/snapshots/targets/" rel="ugc nofollow"> development snapshot SDK</a> →  <a href="/docs/platforms/start" class="wikilink1" title="docs:platforms:start" data-wiki-id="docs:platforms:start">Platforms</a> → Supplementary Files → openwrt-sdk-&lt;Platform&gt;_gcc-&lt;version&gt;_musl.Linux-x86_64.tar.zst</div>
</li>
<li class="level1"><div class="li"> <a href="https://downloads.openwrt.org/releases/21.02.3/targets/" class="urlextern" title="https://downloads.openwrt.org/releases/21.02.3/targets/" rel="ugc nofollow"> 21.02.3</a> → <a href="/docs/platforms/start" class="wikilink1" title="docs:platforms:start" data-wiki-id="docs:platforms:start">Platforms</a> → Supplementary Files → openwrt-sdk-&lt;Platform&gt;_gcc-&lt;version&gt;_musl.Linux-x86_64.tar.xz</div>
</li>
<li class="level1"><div class="li"> <a href="https://downloads.openwrt.org/releases/19.07.10/targets/" class="urlextern" title="https://downloads.openwrt.org/releases/19.07.10/targets/" rel="ugc nofollow"> 19.07.10</a> → <a href="/docs/platforms/start" class="wikilink1" title="docs:platforms:start" data-wiki-id="docs:platforms:start">Platforms</a> → Supplementary Files → openwrt-sdk-&lt;Platform&gt;_gcc-&lt;version&gt;_musl.Linux-x86_64.tar.xz</div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Downloads&quot;,&quot;hid&quot;:&quot;downloads&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:5,&quot;range&quot;:&quot;1538-2169&quot;} -->
<h3 class="sectionedit6" id="package_feeds">Package feeds</h3>
<div class="level3">

<p>
After decompressing the SDK archive, optionally edit the <code>feeds.conf.default</code> file to add your package feeds.
By default, this will contain the feeds used when the SDK was built.
You can add your own feeds, local or remote, just like using the buildroot.
If you are simply rebuilding extra packages, you don&#039;t need to do this at all.
</p>

<p>
NOTE: if you want to override packages coming from an existing feed, you must write your custom feed ABOVE the line of the package feed containing the packages you want to override.<br/>

For example, you want to make a custom version of a package that is already shipped in Packages feed, this is how your <strong>feeds.conf.default</strong> will look like (the first line is your own custom package feed)
</p>
<pre class="code bash">src-link <span class="kw3">local</span> <span class="sy0">/</span>path<span class="sy0">/</span>to<span class="sy0">/</span>local<span class="sy0">/</span>custom<span class="sy0">/</span>feed
src-git packages https:<span class="sy0">//</span>git.openwrt.org<span class="sy0">/</span>feed<span class="sy0">/</span>packages.git
src-git luci https:<span class="sy0">//</span>git.openwrt.org<span class="sy0">/</span>project<span class="sy0">/</span>luci.git
src-git routing https:<span class="sy0">//</span>git.openwrt.org<span class="sy0">/</span>feed<span class="sy0">/</span>routing.git
src-git telephony https:<span class="sy0">//</span>git.openwrt.org<span class="sy0">/</span>feed<span class="sy0">/</span>telephony.git
<span class="co0">#src-git video https://github.com/openwrt/video.git</span>
<span class="co0">#src-git targets https://github.com/openwrt/targets.git</span>
<span class="co0">#src-git oldpackages http://git.openwrt.org/packages.git</span>
<span class="co0">#src-link custom /usr/src/openwrt/custom-feed</span></pre>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Package feeds&quot;,&quot;hid&quot;:&quot;package_feeds&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:6,&quot;range&quot;:&quot;2170-3426&quot;} -->
<h3 class="sectionedit7" id="load_package_lists">Load package lists</h3>
<div class="level3">
<ul>
<li class="level1"><div class="li"> Use <code>./scripts/feeds update -a</code> command to obtain and update package definitions.</div>
</li>
<li class="level1"><div class="li"> After the definitions have been updated, <code>./scripts/feeds install &lt;packagename&gt;</code> to prepare the package and its dependencies.</div>
</li>
</ul>

<p>
<code>./scripts/feeds install -a</code> will make all packages available, again, just like in the buildroot.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Load package lists&quot;,&quot;hid&quot;:&quot;load_package_lists&quot;,&quot;codeblockOffset&quot;:1,&quot;secid&quot;:7,&quot;range&quot;:&quot;3427-3777&quot;} -->
<h2 class="sectionedit8" id="usage">Usage</h2>
<div class="level2">

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Usage&quot;,&quot;hid&quot;:&quot;usage&quot;,&quot;codeblockOffset&quot;:1,&quot;secid&quot;:8,&quot;range&quot;:&quot;3778-3795&quot;} -->
<h3 class="sectionedit9" id="select_packages">Select packages</h3>
<div class="level3">

<p>
Open a terminal in the SDK&#039;s folder and then open the SDK&#039;s menu by writing <code>make menuconfig</code>.
The SDK menuconfig system is the same as the buildroot.
Instructions are at the top and help is available via the <code>?</code> key.
</p>

<p>
You <em>probably</em> want to disable some default settings, which build every available package.
Enter <code>Global Build Settings</code> and in the submenu, deselect/exclude the following options:
</p>
<ul>
<li class="level1"><div class="li"> <code>Select all target specific packages by default</code></div>
</li>
<li class="level1"><div class="li"> <code>Select all kernel module packages by default</code></div>
</li>
<li class="level1"><div class="li"> <code>Select all userspace packages by default</code></div>
</li>
</ul>

<p>
Still in the menu, find the package you want to build and select it by pressing “m”, this will also select all the dependencies, and you will see that they are all tagged with “&lt;M&gt;” in the menu.
You can select multiple packages too.
</p>

<p>
Save the configuration and exit the menu.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Select packages&quot;,&quot;hid&quot;:&quot;select_packages&quot;,&quot;codeblockOffset&quot;:1,&quot;secid&quot;:9,&quot;range&quot;:&quot;3796-4664&quot;} -->
<h3 class="sectionedit10" id="compile_packages">Compile packages</h3>
<div class="level3">

<p>
After the Makefile is in place, the usual buildroot commands apply:
</p>
<ul>
<li class="level1"><div class="li"> <code>make package<em>/example</em>/download</code> - download the soures of <em>example</em></div>
</li>
<li class="level1"><div class="li"> <code>make package<em>/example</em>/prepare</code> - extract the sources, apply patches and download if necessary</div>
</li>
<li class="level1"><div class="li"> <code>make package<em>/example</em>/compile</code> - compile <em>example</em>, prepare and download if necessary</div>
</li>
<li class="level1"><div class="li"> <code>make package<em>/example</em>/clean</code> - clean the sourcecode</div>
</li>
<li class="level1"><div class="li"> <code>make package/index</code> - build a repository index to make the output directory usable as local <em>opkg</em> source</div>
</li>
</ul>

<p>
Or, just run <code>make</code> to build everything selected.
You can compile faster by writing <code>make -j5</code> or similar as appropriate for your build host.
</p>

<p>
After the compilation is finished, the generated .ipk files are placed in the bin/packages and bin/targets directories inside the directory you extracted the SDK into.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Compile packages&quot;,&quot;hid&quot;:&quot;compile_packages&quot;,&quot;codeblockOffset&quot;:1,&quot;secid&quot;:10,&quot;range&quot;:&quot;4665-&quot;} -->