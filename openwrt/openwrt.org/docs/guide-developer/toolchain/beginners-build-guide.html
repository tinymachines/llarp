
<h1 class="sectionedit1" id="quick_image_building_guide">Quick image building guide</h1>
<div class="level1">

<p>
See also:
<a href="/docs/guide-developer/start#using_the_toolchain" class="wikilink1" title="docs:guide-developer:start" data-wiki-id="docs:guide-developer:start">Using the toolchain</a>,
<a href="/docs/guide-user/additional-software/imagebuilder" class="wikilink1" title="docs:guide-user:additional-software:imagebuilder" data-wiki-id="docs:guide-user:additional-software:imagebuilder">Using the Image Builder</a>
</p>

<p>
The goal of this guide is to let you build your own flashable firmware in as few simple steps as possible.
The main advantage of building your own firmware is that it compresses the files, so that you will have room for much more stuff.
It is particularly noticeable on routers with 16 <abbr title="Megabyte">MB</abbr> flash RAM or less.
It also lets you change some options that can only be changed at build time, for instance the features included in BusyBox and the block size of SquashFS.
Larger block size will give better compression, but may also slow down the loading of files.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Quick image building guide&quot;,&quot;hid&quot;:&quot;quick_image_building_guide&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:1,&quot;range&quot;:&quot;1-758&quot;} -->
<h2 class="sectionedit2" id="instructions">Instructions</h2>
<div class="level2">
<ol>
<li class="level1"><div class="li"> <a href="/docs/guide-developer/buildserver_virtualbox" class="wikilink1" title="docs:guide-developer:buildserver_virtualbox" data-wiki-id="docs:guide-developer:buildserver_virtualbox">Set up a build machine in VirtualBox</a> This first step is optionnal, as you can use whatever build system you might want, but it is recommended to avoid possible unknown problem; look at the prerequesites in the next step.</div>
</li>
<li class="level1"><div class="li"> <a href="/docs/guide-developer/toolchain/install-buildsystem#debianubuntu" class="wikilink1" title="docs:guide-developer:toolchain:install-buildsystem" data-wiki-id="docs:guide-developer:toolchain:install-buildsystem">Install building dependencies</a></div>
</li>
<li class="level1"><div class="li"> <a href="/docs/guide-developer/toolchain/use-buildsystem" class="wikilink1" title="docs:guide-developer:toolchain:use-buildsystem" data-wiki-id="docs:guide-developer:toolchain:use-buildsystem">Build OpenWrt images</a></div>
</li>
</ol>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Instructions&quot;,&quot;hid&quot;:&quot;instructions&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:2,&quot;range&quot;:&quot;759-1235&quot;} -->
<h3 class="sectionedit3" id="general_tips_on_using_the_config_system">General tips on using the config system</h3>
<div class="level3">
<ul>
<li class="level1"><div class="li"> You select a package using space one or more times. When you select something, always make sure it has a <code>*</code> and not an <code>M</code> in the selected field. <code>*</code> means it will be included in the image, while <code>M</code> means that it will only create a package for it, which kind of defeats the point of following this guide.</div>
</li>
<li class="level1"><div class="li"> Except for choosing the target I suggest that you don&#039;t mess with the options above Base system. Also, in general, don&#039;t uncheck anything that is selected by default unless you really know what you&#039;re doing. If something is selected with <code>-*-</code> (so you can&#039;t uncheck it) it is because something else depends on it.</div>
</li>
<li class="level1"><div class="li"> Instructions on how to include config files in the image (for instance from the backup you can download from the router): <a href="/docs/guide-developer/toolchain/use-buildsystem#custom_files" class="wikilink1" title="docs:guide-developer:toolchain:use-buildsystem" data-wiki-id="docs:guide-developer:toolchain:use-buildsystem">Custom files</a></div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;General tips on using the config system&quot;,&quot;hid&quot;:&quot;general_tips_on_using_the_config_system&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:3,&quot;range&quot;:&quot;1236-2128&quot;} -->
<h3 class="sectionedit4" id="determining_targetselecting_the_router_model">Determining target / Selecting the router model</h3>
<div class="level3">
<ol>
<li class="level1"><div class="li"> Do a web search for &lt;your router model&gt; wikidevi. For instance, if you have an Asus RT-N56U then search for RT-N56U wikidevi. This would give <a href="https://wikidevi.com/wiki/ASUS_RT-N56U" class="urlextern" title="https://wikidevi.com/wiki/ASUS_RT-N56U" rel="ugc nofollow">https://wikidevi.com/wiki/ASUS_RT-N56U</a> as the first response on most search engines. Find CPU on the page. In the case of RT-N56U it says Ralink RT3662F. If you type / in the builder you can search for RT-N56U. This will give a bunch of hits, which among other things says Symbol: TARGET_DEVICE_PACKAGES_ramips_rt3883_DEVICE_rt-n56u. Notice the ramips part. Now select Target System. In the list you will find “Mediatek Ralink ARM” and “Mediatek Ralink MIPS”. Given the information we have you can probably guess that the correct choice is “Mediatek Ralink MIPS”.</div>
</li>
<li class="level1"><div class="li"> Select Subtarget. From the wikidevi page you know that it is a Ralink RT3662F, and the best fit in the list is “RT3662/RT3883 based boards”.</div>
</li>
<li class="level1"><div class="li"> Select Target Profile. Asus RT-N56U is now listed here, so you know you chose the correct target and subtarget.</div>
</li>
</ol>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Determining target \/ Selecting the router model&quot;,&quot;hid&quot;:&quot;determining_targetselecting_the_router_model&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:4,&quot;range&quot;:&quot;2129-3158&quot;} -->
<h3 class="sectionedit5" id="tips_on_what_to_include_to_get_a_functional_image">Tips on what to include to get a functional image</h3>
<div class="level3">
<ul>
<li class="level1"><div class="li"> Don&#039;t remove any of the default packages unless you know what you are doing. Some of them are crucial. See <a href="/docs/guide-user/additional-software/saving_space" class="wikilink1" title="docs:guide-user:additional-software:saving_space" data-wiki-id="docs:guide-user:additional-software:saving_space">Saving firmware space</a></div>
</li>
<li class="level1"><div class="li"> You&#039;ll probably want the LuCi web admin interface, so choose LuCi/Collections/luci. If LuCI is not available then you have not successfully checked out the feeds, or they have been removed. This can also happen if you for instance run make clean.</div>
</li>
<li class="level1"><div class="li"> The selectable software is in the submenues from “Base system” and downwards. Start by going to LuCI / Applications, as this section lists the LuCI packages for the most commonly used software. Selecting them will also include the required dependencies.</div>
</li>
<li class="level1"><div class="li"> When you build your own firmware you can&#039;t use the downloadable kernel packages (packages named kmod-&lt;something&gt;), so try to make sure you select everything you need. If you need more kernel modules later you will have to build a new firmware. It is also possible to select all the kernel modules using m and copy them to the router later if needed. Packages are placed in bin/targets/*/*/packages/.</div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Tips on what to include to get a functional image&quot;,&quot;hid&quot;:&quot;tips_on_what_to_include_to_get_a_functional_image&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:5,&quot;range&quot;:&quot;3159-&quot;} -->