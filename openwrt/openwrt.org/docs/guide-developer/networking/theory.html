
<h1 class="sectionedit1" id="theory">Theory</h1>
<div class="level1">

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Theory&quot;,&quot;hid&quot;:&quot;theory&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:1,&quot;range&quot;:&quot;1-22&quot;} -->
<h2 class="sectionedit2" id="networking">Networking</h2>
<div class="level2">

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Networking&quot;,&quot;hid&quot;:&quot;networking&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:2,&quot;range&quot;:&quot;23-46&quot;} -->
<h3 class="sectionedit3" id="is_packet_based">... is packet based</h3>
<div class="level3">

<p>
Information (data) is broken into <a href="/docs/guide-user/network/traffic-shaping/packet.scheduler.theory#packets" class="wikilink1" title="docs:guide-user:network:traffic-shaping:packet.scheduler.theory" data-wiki-id="docs:guide-user:network:traffic-shaping:packet.scheduler.theory">packets</a> prior to being transported to their destination(s).
</p>

<p>
<strong>Example:</strong><br/>

</p>
<ul>
<li class="level1 node"><div class="li"> <a href="https://en.wikipedia.org/wiki/Ethernet" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/Ethernet">Ethernet</a> (see <a href="https://en.wikipedia.org/wiki/IEEE 802" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/IEEE 802">IEEE 802</a> for even more standards) is a huge and successful family of modular <em>communication protocols</em>, <a href="https://en.wikipedia.org/wiki/Fast Ethernet" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/Fast Ethernet">Fast Ethernet</a> comprises the ones that have a gross throughput (<a href="https://en.wikipedia.org/wiki/Data signaling rate" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/Data signaling rate">Data signaling rate</a>) of 100MBit/s and <a href="https://en.wikipedia.org/wiki/100BASE-TX" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/100BASE-TX">100BASE-TX</a> is one distinct example, one specific standard.</div>
<ul>
<li class="level2"><div class="li"> <a href="https://en.wikipedia.org/wiki/Ethernet frame" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/Ethernet frame">Ethernet frame</a> is the denomination for data chunk, a packet transmitted over Ethernet. This is common for all Ethernet standards, whereas the cabling, the encoding and other stuff is not. Depending on the wiring <a href="https://en.wikipedia.org/wiki/Carrier sense multiple access with collision detection" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/Carrier sense multiple access with collision detection">CSMA/CD</a> could be avoided.</div>
</li>
<li class="level2"><div class="li"> <em>As you can see, this layer, has very technical aspects, and also some theoretical, logical or software aspects.</em></div>
</li>
</ul>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;... is packet based&quot;,&quot;hid&quot;:&quot;is_packet_based&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:3,&quot;range&quot;:&quot;47-1018&quot;} -->
<h3 class="sectionedit4" id="is_layer_based">... is layer based</h3>
<div class="level3">

<p>
The <a href="https://en.wikipedia.org/wiki/OSI model" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/OSI model">OSI model</a> outlines the various layers that data must traverse on it&#039;s journey from its source to its destination(s).
</p>

<p>
Each layer has it&#039;s own set of rules (protocols) for handling data packets and adds or removes it&#039;s own header (and sometimes a footer) before passing data packets to the next layer. It treats each packet, with or without formatting from other layers, as a simple payload, ignoring it&#039;s contents.  This process is referred to as <a href="https://en.wikipedia.org/wiki/Encapsulation_(networking)" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/Encapsulation_(networking)">encapsulation</a>.
</p>

<p>
The software and hardware associated with each individual layer is not concerned with, and in fact, not even aware of what happens to the packets in the other layers.  It&#039;s only function is to format the packets it receives from the layer above or below in a predictable fashion.  In this way a very complex process is broken down into a series of simple steps which allows all kinds of different technologies to simply and reliably interact with one another. 
</p>
<ul>
<li class="level1"><div class="li"> <a href="http://www.routemybrain.com/wp-content/uploads/2010/04/encapsulation.jpg" class="urlextern" title="http://www.routemybrain.com/wp-content/uploads/2010/04/encapsulation.jpg" rel="ugc nofollow">Encapsulation</a></div>
</li>
<li class="level1"><div class="li"> <a href="http://upload.wikimedia.org/wikipedia/commons/3/37/Netfilter-packet-flow.svg" class="urlextern" title="http://upload.wikimedia.org/wikipedia/commons/3/37/Netfilter-packet-flow.svg" rel="ugc nofollow">Detailed abstract data flow NOT through the layers in one host</a></div>
</li>
<li class="level1"><div class="li"> <a href="http://www.infocellar.com/networks/images/osi.gif" class="urlextern" title="http://www.infocellar.com/networks/images/osi.gif" rel="ugc nofollow">Data flow through OSI layers</a></div>
</li>
</ul>

<p>
The <em>physical layer</em> always concerns itself with the medium the signal traverses through (or over) while the <em>link layer</em> could be split into two sub-layers: <em><a href="https://en.wikipedia.org/wiki/Media Access Control" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/Media Access Control">Media Access Control</a></em> and <em><a href="https://en.wikipedia.org/wiki/Logical Link Control" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/Logical Link Control">Logical Link Control</a></em>.  The <a href="https://en.wikipedia.org/wiki/Media Independent Interface" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/Media Independent Interface">Media Independent Interface</a> is again something different, this is used to connect the distinct switch-chip to the SoC.
</p>

<p>
How big a packet is, and how it&#039;s header looks like depends on the protocol or standard it abides by. Read about this:   , <a href="https://en.wikipedia.org/wiki/IP packet" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/IP packet">IP packet</a>, for an overview. For real precise technical data, read the corresponding RFCs.
</p>

<p>
 These protocols, in turn, 
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;... is layer based&quot;,&quot;hid&quot;:&quot;is_layer_based&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:4,&quot;range&quot;:&quot;1019-2962&quot;} -->
<h3 class="sectionedit5" id="packet_structure">Packet Structure</h3>
<div class="level3">
<div class="table sectionedit6"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Protocol </th><th class="col1"> Header Size in Bytes </th><th class="col2"> Total Size in Bytes </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0 leftalign"> <a href="https://en.wikipedia.org/wiki/Ethernet frame" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/Ethernet frame">Ethernet frame</a>                               </td><td class="col1 centeralign">  38–42   </td><td class="col2 leftalign"> Size: 84–1542Bytes, with <a href="https://en.wikipedia.org/wiki/Jumbo frame" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/Jumbo frame">Jumbo frame</a> up to 9042  </td>
	</tr>
	<tr class="row2">
		<td class="col0 leftalign"> <a href="https://en.wikipedia.org/wiki/IEEE 802.11" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/IEEE 802.11">IEEE 802.11</a>                                  </td><td class="col1 centeralign">  ???     </td><td class="col2 centeralign">  ????  </td>
	</tr>
	<tr class="row3">
		<td class="col0 leftalign" colspan="3"> <a href="http://www.cisco.com/web/about/ac123/ac147/images/ipj/ipj_11-4/114_wireless-fig1b_lg.gif" class="urlextern" title="http://www.cisco.com/web/about/ac123/ac147/images/ipj/ipj_11-4/114_wireless-fig1b_lg.gif" rel="ugc nofollow">Cisco Picture</a> <a href="http://spacehopper.org/mirrors/www.geocities.com/backgndtest/wlan_mac_frame.jpg" class="urlextern" title="http://spacehopper.org/mirrors/www.geocities.com/backgndtest/wlan_mac_frame.jpg" rel="ugc nofollow">WLAN mac mode</a>  <a href="http://wireless.agilent.com/wireless/helpfiles/n7617b/ppduframeb_2.gif" class="urlextern" title="http://wireless.agilent.com/wireless/helpfiles/n7617b/ppduframeb_2.gif" rel="ugc nofollow">PPDU Frame</a>  </td>
	</tr>
	<tr class="row4">
		<td class="col0 leftalign"> <a href="https://en.wikipedia.org/wiki/IPv4#Packet_structure" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/IPv4#Packet_structure">IPv4 Packet Structure</a>  </td><td class="col1 centeralign">  20–60   </td><td class="col2 centeralign">  Size: 20– (20-byte header + 0 bytes data) 65.535  </td>
	</tr>
	<tr class="row5">
		<td class="col0 leftalign"> <a href="https://en.wikipedia.org/wiki/IPv6 packet" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/IPv6 packet">IPv6 Packet Structure</a>            </td><td class="col1 centeralign">  40 fixed, Optional Extension Header possible  </td><td class="col2 centeralign">  up to 65.535  </td>
	</tr>
	<tr class="row6">
		<td class="col0 leftalign"> <a href="https://en.wikipedia.org/wiki/Transmission_Control_Protocol#TCP_segment_structure" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/Transmission_Control_Protocol#TCP_segment_structure">TCP Segment Structure</a>  </td><td class="col1 centeralign">  20–60  </td><td class="col2 centeralign">  up to 65.535  </td>
	</tr>
	<tr class="row7">
		<td class="col0 leftalign"> <a href="https://en.wikipedia.org/wiki//User_Datagram_Protocol#Packet_structure" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki//User_Datagram_Protocol#Packet_structure">UDP Packet Structure</a>  </td><td class="col1 centeralign">  4–8 with <abbr title="Internet Protocol version 4">IPv4</abbr> and 6–8 with <abbr title="Internet Protocol version 6">IPv6</abbr>  </td><td class="col2 centeralign">  up to 65.535  </td>
	</tr>
</table></div>
<!-- EDIT{&quot;target&quot;:&quot;table&quot;,&quot;name&quot;:&quot;&quot;,&quot;hid&quot;:&quot;table&quot;,&quot;secid&quot;:6,&quot;range&quot;:&quot;2990-4043&quot;} -->
<p>
Please see <a href="https://en.wikipedia.org/wiki/Maximum transmission unit" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/Maximum transmission unit">MTU</a>
</p>
<div class="table sectionedit7"><table class="inline">
	<tr class="row0">
		<th class="col0">Ethernet </th><td class="col1 centeralign">  Preamble  </td><td class="col2 centeralign">  Start of frame delimiter  </td><td class="col3 centeralign">  MAC dest  </td><td class="col4 centeralign">  MAC source  </td><td class="col5 centeralign">  802.1Q tag (opt.)  </td><td class="col6 centeralign">  Ethertype or length  </td><td class="col7 centeralign" colspan="27">  <strong>Payload</strong>  </td><td class="col34 leftalign"> CRC  </td><td class="col35 centeralign">  Interframe gap  </td>
	</tr>
	<tr class="row1">
		<th class="col0"> Octets </th><td class="col1 centeralign">  7  </td><td class="col2 centeralign">  1  </td><td class="col3 centeralign">  6  </td><td class="col4 centeralign">  6  </td><td class="col5 centeralign">  4  </td><td class="col6 centeralign">  2  </td><td class="col7 centeralign" colspan="27">  <strong>46–1500</strong>  </td><td class="col34 centeralign">  4  </td><td class="col35 centeralign">  12  </td>
	</tr>
	<tr class="row2">
		<th class="col0"> <abbr title="Internet Protocol version 4">IPv4</abbr> </th><td class="col1 leftalign">     </td><td class="col2 leftalign">     </td><td class="col3 leftalign">     </td><td class="col4 leftalign">     </td><td class="col5 leftalign">     </td><td class="col6 leftalign">     </td><td class="col7 centeralign">  Version  </td><td class="col8 centeralign">  Header Length  </td><td class="col9 centeralign">  Differentiated Services Code Point  </td><td class="col10 centeralign">  Explicit Congestion Notification  </td><td class="col11 centeralign">  Total Length  </td><td class="col12 centeralign">  Identification  </td><td class="col13 centeralign">  Flags  </td><td class="col14 centeralign">  Fragment Offset  </td><td class="col15 centeralign">  Time to Live  </td><td class="col16 centeralign">  Protocol  </td><td class="col17 centeralign">  Header Checksum  </td><td class="col18 centeralign">  Source <abbr title="Internet Protocol">IP</abbr> Address  </td><td class="col19 centeralign">  Destination <abbr title="Internet Protocol">IP</abbr> Address  </td><td class="col20 centeralign">  Options ( if Header Length &gt; 5 )  </td><td class="col21 centeralign" colspan="13">  <strong>Payload</strong>  </td><td class="col34 leftalign">  </td><td class="col35 leftalign">  </td>
	</tr>
	<tr class="row3">
		<th class="col0"> Bits </th><td class="col1"> </td><td class="col2"> </td><td class="col3"> </td><td class="col4"> </td><td class="col5"> </td><td class="col6"> </td><td class="col7 centeralign">  4  </td><td class="col8 centeralign">  4  </td><td class="col9 centeralign">  6  </td><td class="col10 centeralign">  2  </td><td class="col11 centeralign">  16  </td><td class="col12 centeralign">  16  </td><td class="col13 centeralign">  3  </td><td class="col14 centeralign">  13  </td><td class="col15 centeralign">  8  </td><td class="col16 centeralign">  8  </td><td class="col17 centeralign">  16  </td><td class="col18 centeralign">  32  </td><td class="col19 centeralign">  32  </td><td class="col20 centeralign">  ?  </td><td class="col21 centeralign" colspan="13">  1440-1480Bytes  </td><td class="col34"> </td><td class="col35"> </td>
	</tr>
	<tr class="row4">
		<th class="col0"> <abbr title="Transmission Control Protocol">TCP</abbr> </th><td class="col1"> </td><td class="col2"> </td><td class="col3"> </td><td class="col4"> </td><td class="col5"> </td><td class="col6"> </td><td class="col7"> </td><td class="col8"> </td><td class="col9"> </td><td class="col10"> </td><td class="col11"> </td><td class="col12"> </td><td class="col13"> </td><td class="col14"> </td><td class="col15"> </td><td class="col16"> </td><td class="col17"> </td><td class="col18"> </td><td class="col19"> </td><td class="col20"> </td><td class="col21 centeralign">  Source port  </td><td class="col22 centeralign">  Destination port  </td><td class="col23 centeralign">  Sequence number  </td><td class="col24 centeralign">  Acknowledgment number  </td><td class="col25 centeralign">  Data offset  </td><td class="col26 centeralign">  Reserved  </td><td class="col27 centeralign">  Flag  </td><td class="col28 centeralign">  Window Size  </td><td class="col29 centeralign">  Checksum  </td><td class="col30 centeralign">  Urgent pointer  </td><td class="col31 centeralign">  Options (if Data Offset &gt; 5)  </td><td class="col32 centeralign">  padding  </td><td class="col33 centeralign">  <strong>Payload</strong>  </td><td class="col34"> </td><td class="col35"> </td>
	</tr>
	<tr class="row5">
		<th class="col0"> Bits </th><td class="col1"> </td><td class="col2"> </td><td class="col3"> </td><td class="col4"> </td><td class="col5"> </td><td class="col6"> </td><td class="col7"> </td><td class="col8"> </td><td class="col9"> </td><td class="col10"> </td><td class="col11"> </td><td class="col12"> </td><td class="col13"> </td><td class="col14"> </td><td class="col15"> </td><td class="col16"> </td><td class="col17"> </td><td class="col18"> </td><td class="col19"> </td><td class="col20"> </td><td class="col21 centeralign">  16  </td><td class="col22 centeralign">  16  </td><td class="col23 centeralign">  32  </td><td class="col24 centeralign">  32  </td><td class="col25 centeralign">  4  </td><td class="col26 centeralign">  4  </td><td class="col27 centeralign">  8  </td><td class="col28 centeralign">  16  </td><td class="col29 centeralign">  16  </td><td class="col30 centeralign">  16  </td><td class="col31 centeralign">  Options (if Data Offset &gt; 5)  </td><td class="col32 centeralign">  8  </td><td class="col33 centeralign">  <strong>Payload</strong>  </td><td class="col34"> </td><td class="col35"> </td>
	</tr>
</table></div>
<!-- EDIT{&quot;target&quot;:&quot;table&quot;,&quot;name&quot;:&quot;&quot;,&quot;hid&quot;:&quot;table1&quot;,&quot;secid&quot;:7,&quot;range&quot;:&quot;4094-5383&quot;} -->
<p>
Please note, that the Ethernet protocol family comprises standards of Layer 2 and also Layer 1. The latter are e.g. 100Base-TX or 1000Base-T. <a href="https://en.wikipedia.org/wiki/Point-to-Point Protocol over Ethernet" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/Point-to-Point Protocol over Ethernet">PPPoE</a> is yet another Layer 2 communication protocol! And DSL is another Layer 1 communication protocol. So the Modem on the customers side communicates over some DSL-protocol with the <a href="https://en.wikipedia.org/wiki/DSLAM" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/DSLAM">DSLAM</a> on the <abbr title="Internet Service Provider">ISP</abbr> side and the router communicates with the <a href="https://en.wikipedia.org/wiki/Broadband Remote Access Server" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/Broadband Remote Access Server">DSL-AC</a> over PPPoE.
</p>

<p>
Being Layer 1 protocols, 1000Base-T or DSL don&#039;t care about packets or whatever. Their logic is only concerned with transmitting the data over the specified medium.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Packet Structure&quot;,&quot;hid&quot;:&quot;packet_structure&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:5,&quot;range&quot;:&quot;2963-6045&quot;} -->
<h3 class="sectionedit8" id="networking_protocols">Networking Protocols</h3>
<div class="level3">

</div>

<h4 id="layer1_and_layer2">Layer1 and Layer2</h4>
<div class="level4">
<ul>
<li class="level1 node"><div class="li"> <a href="https://en.wikipedia.org/wiki/Ethernet" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/Ethernet">Ethernet</a></div>
<ul>
<li class="level2"><div class="li"> <a href="https://en.wikipedia.org/wiki/Point-to-Point Protocol over Ethernet" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/Point-to-Point Protocol over Ethernet">PPPoE</a></div>
</li>
</ul>
</li>
<li class="level1 node"><div class="li"> <a href="https://en.wikipedia.org/wiki/Asynchronous Transfer Mode" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/Asynchronous Transfer Mode">ATM</a></div>
<ul>
<li class="level2"><div class="li"> <a href="https://en.wikipedia.org/wiki/Point-to-Point Protocol over ATM" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/Point-to-Point Protocol over ATM">PPPoA</a></div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> <a href="https://en.wikipedia.org/wiki/IEEE 802.11" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/IEEE 802.11">IEEE 802.11</a></div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Networking Protocols&quot;,&quot;hid&quot;:&quot;networking_protocols&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:8,&quot;range&quot;:&quot;6046-&quot;} -->