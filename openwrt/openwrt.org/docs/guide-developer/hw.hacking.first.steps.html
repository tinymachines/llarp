
<h1 class="sectionedit1" id="hardware_hacking_first_steps">Hardware Hacking First Steps</h1>
<div class="level1">

<p>
You bought yourself a new router, and it&#039;s nice. You can connect a hard disc to it and then it shares its content over samba. It even can do torrent. Wow. But then you stumbled over OpenWrt and its 2000 packages you can install just like that. Never mind all the other <abbr title="Free &amp; Open-Source Software">FOSS</abbr> software you could compile for it. And you started crying and decided: you <strong>neeeed</strong> OpenWrt on your router. And if your router is already supported, dandy, flash it on and have fun. But if your router is not (yet) supported? Well, then do this:
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Hardware Hacking First Steps&quot;,&quot;hid&quot;:&quot;hardware_hacking_first_steps&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:1,&quot;range&quot;:&quot;1-565&quot;} -->
<h2 class="sectionedit2" id="gain_access">Gain Access</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> you could login to some <strong>unix shell</strong> <em>after booting</em>, over Ethernet with <code>telnet</code>/<code>ssh</code>. Example: <a href="/toh/seagate/dockstar/hacking.dockstar" class="wikilink1" title="toh:seagate:dockstar:hacking.dockstar" data-wiki-id="toh:seagate:dockstar:hacking.dockstar">hacking.dockstar</a> (<a href="/toh/seagate/dockstar" class="wikilink1" title="toh:seagate:dockstar" data-wiki-id="toh:seagate:dockstar">dockstar</a>)</div>
</li>
<li class="level1"><div class="li"> you could login to <strong>bootloader console</strong> <em>while booting</em>, over Ethernet or over the <a href="/docs/techref/hardware/port.serial" class="wikilink1" title="docs:techref:hardware:port.serial" data-wiki-id="docs:techref:hardware:port.serial">Serial Port</a></div>
</li>
<li class="level1"><div class="li"> you could access the hardware <em>without any booting, without any software present</em>, over the <a href="/docs/techref/hardware/port.jtag" class="wikilink1" title="docs:techref:hardware:port.jtag" data-wiki-id="docs:techref:hardware:port.jtag">JTAG Port</a> with JTAG Software, like HairyDairyMaid</div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Gain Access&quot;,&quot;hid&quot;:&quot;gain_access&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:2,&quot;range&quot;:&quot;566-1094&quot;} -->
<h2 class="sectionedit3" id="gather_information_about_hardware">Gather Information about Hardware</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> Depending on the <a href="/docs/techref/bootloader" class="wikilink1" title="docs:techref:bootloader" data-wiki-id="docs:techref:bootloader">bootloader</a> that is being used, you could utilize different <code>commands</code> to gather hardware information. Please see the manual for that particular bootloader to get this done. Once you have the information you could keep it for yourself or post it online. Depending on how fast you are, there probably is going to be information regarding this already available or you are the first one. This simple step is necessary because the manufacturer usually does not document exactly what hardware has been installed. Now with this information you are going to use google or the search engine of your choice, to see what GNU/Linux drivers are available, and if, in which kernel version they have been integrated into. For example:</div>
</li>
<li class="level1"><div class="li"> <a href="http://en.wikipedia.org/wiki/Comparison_of_open_source_wireless_drivers#Linux" class="urlextern" title="http://en.wikipedia.org/wiki/Comparison_of_open_source_wireless_drivers#Linux" rel="ugc nofollow">http://en.wikipedia.org/wiki/Comparison_of_open_source_wireless_drivers#Linux</a> you can see, since which or until which Kernel version drivers for wireless radio circuitry, has been integrated.</div>
</li>
<li class="level1"><div class="li"> But of course there is much more to a system, in this case in form of a SoC, then the wireless drivers. Anything needs drivers. For example the <a href="https://en.wikipedia.org/wiki/VLYNQ" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/VLYNQ">VLYNQ</a> needs to be supported by the Kernel. etc. And you are done. If you really want to continue, you could find help here:</div>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> <a href="http://www.tldp.org/LDP/tlk/tlk.html" class="urlextern" title="http://www.tldp.org/LDP/tlk/tlk.html" rel="ugc nofollow">http://www.tldp.org/LDP/tlk/tlk.html</a>  <em>The Linux Kernel</em></div>
</li>
<li class="level1"><div class="li"> <a href="http://www.tldp.org/LDP/lkmpg/index.html" class="urlextern" title="http://www.tldp.org/LDP/lkmpg/index.html" rel="ugc nofollow">http://www.tldp.org/LDP/lkmpg/index.html</a> <em>The Linux Kernel Module Programming Guide</em></div>
</li>
<li class="level1"><div class="li"> <a href="http://lwn.net/Articles/driver-porting/" class="urlextern" title="http://lwn.net/Articles/driver-porting/" rel="ugc nofollow">http://lwn.net/Articles/driver-porting/</a> you could also check this thread</div>
</li>
<li class="level1"><div class="li"> <del><a href="http://linux.junsun.net/porting-howto/porting-howto.html" class="urlextern" title="http://linux.junsun.net/porting-howto/porting-howto.html" rel="ugc nofollow">http://linux.junsun.net/porting-howto/porting-howto.html</a></del> <a href="https://web.archive.org/web/20191031031349/http://linux.junsun.net/porting-howto/porting-howto.html" class="urlextern" title="https://web.archive.org/web/20191031031349/http://linux.junsun.net/porting-howto/porting-howto.html" rel="ugc nofollow">Link on archive.org</a> Jun Sun&#039;s <em>Linux MIPS Porting Guide</em></div>
</li>
<li class="level1"><div class="li"> <a href="http://www.win.tue.nl/~aeb/linux/lk/lk.html" class="urlextern" title="http://www.win.tue.nl/~aeb/linux/lk/lk.html" rel="ugc nofollow">http://www.win.tue.nl/~aeb/linux/lk/lk.html</a> an overview over the history and also technical insights</div>
</li>
</ul>

<p>
Oh, you should also learn a programming language, like C.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Gather Information about Hardware&quot;,&quot;hid&quot;:&quot;gather_information_about_hardware&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:3,&quot;range&quot;:&quot;1095-3033&quot;} -->
<h2 class="sectionedit4" id="gather_information_about_software">Gather Information about Software</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> <a href="/docs/techref/bootloader" class="wikilink1" title="docs:techref:bootloader" data-wiki-id="docs:techref:bootloader">bootloader</a> This is probably going to be the first piece of software you are going to notice. But the rest of the system could be of interest as well:</div>
</li>
<li class="level1"><div class="li"> Most probably it&#039;s a kind of outdated GNU/Linux Kernel with <abbr title="Free &amp; Open-Source Software">FOSS</abbr> drivers or with binary only drivers or both. Then you are lucky, because the source code of the Linux Kernel is licensed under the GPLv2 and this constrains the seller to make the modified source code, if they actually bothered to modify anything, and they probably did, available to the customers (and not necessarily to the public) free of charge.</div>
</li>
</ul>

<p>
Now maybe the drivers for the components have already been integrated into mainline kernel, which means that a newer kernel should work on this device out of the box. If not, you could continue to use the one, from the manufacturer. So combine this kernel with other <abbr title="Free &amp; Open-Source Software">FOSS</abbr> software, you want to run on it... <img src="/lib/images/smileys/wink.svg" class="icon smiley" alt=";-)" />
</p>
<ul>
<li class="level1"><div class="li"> In case the manufacturer did not use a Linux Kernel but some kind of *BSD, you&#039;re fucked, since the license the *BSD sources are under are not <abbr title="GNU General Public License">GPL</abbr>. This particularly means, the usurper  does not have to make source code available. They could, but they don&#039;t have to. Oh may you have much “fun” with *BSD. <img src="/lib/images/smileys/razz.svg" class="icon smiley" alt=":-P" /></div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Gather Information about Software&quot;,&quot;hid&quot;:&quot;gather_information_about_software&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:4,&quot;range&quot;:&quot;3034-4297&quot;} -->
<h2 class="sectionedit5" id="gather_information_about_flash_layout">Gather Information about Flash Layout</h2>
<div class="level2">

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Gather Information about Flash Layout&quot;,&quot;hid&quot;:&quot;gather_information_about_flash_layout&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:5,&quot;range&quot;:&quot;4298-4348&quot;} -->
<h3 class="sectionedit6" id="overall_flash_layout">Overall Flash Layout</h3>
<div class="level3">

<p>
The overall Flash Layout looks like the <a href="/docs/techref/flash.layout#example_flash_partitioning" class="wikilink1" title="docs:techref:flash.layout" data-wiki-id="docs:techref:flash.layout">example</a>.
Simply an overview over the different MTD-partition there are. And what their meaning is.
</p>
<ul>
<li class="level1"><div class="li"> An even better example is the <a href="/toh/d-link/dir-300#flash_layout" class="wikilink1" title="toh:d-link:dir-300" data-wiki-id="toh:d-link:dir-300">DIR-300 flash layout</a>.</div>
</li>
<li class="level1"><div class="li"> Other ones you find here: <del><a href="http://wiki.ip-phone-forum.de/software:ds-mod:development:flash#flash_partitionierung" class="urlextern" title="http://wiki.ip-phone-forum.de/software:ds-mod:development:flash#flash_partitionierung" rel="ugc nofollow">http://wiki.ip-phone-forum.de/software:ds-mod:development:flash#flash_partitionierung</a></del> <a href="https://web.archive.org/web/20160306091048/http://wiki.ip-phone-forum.de/software:ds-mod:development:flash" class="urlextern" title="https://web.archive.org/web/20160306091048/http://wiki.ip-phone-forum.de/software:ds-mod:development:flash" rel="ugc nofollow">Link on archive.org</a></div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Overall Flash Layout&quot;,&quot;hid&quot;:&quot;overall_flash_layout&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:6,&quot;range&quot;:&quot;4349-4931&quot;} -->
<h3 class="sectionedit7" id="precise_flash_layout">Precise Flash Layout</h3>
<div class="level3">

<p>
This is more tricky, here you want to know exactly what is written on the flash:
<a href="/docs/techref/flash.layout" class="wikilink1" title="docs:techref:flash.layout" data-wiki-id="docs:techref:flash.layout">flash.layout</a>
</p>

<p>
The data could be zipped or g&#039;zipped or even be encrypted. Also, there is going to be some number&#039;s between the data blocks, like CRC or whatever.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Precise Flash Layout&quot;,&quot;hid&quot;:&quot;precise_flash_layout&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:7,&quot;range&quot;:&quot;4932-5223&quot;} -->
<h2 class="sectionedit8" id="software_development">Software Development</h2>
<div class="level2">

<p>
Now you want to run you own Software on your device.
Maybe its hardware has already support in <strong>some projects</strong>
or in the <strong>mainline kernel</strong>. If not, then consider adding a new device or a complete new platform to develop software for. Please do not bother developers or potential developers to write code for this. Present the information you gathered, if it is interesting enough, somebody is going to do that <img src="/lib/images/smileys/wink.svg" class="icon smiley" alt=";-)" /> Now to write code, the developer needs only some bread and water and a simple text editor, but to test this code, they&#039;re going to need the hardware itself. You could donate or maybe just lend the hardware.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Software Development&quot;,&quot;hid&quot;:&quot;software_development&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:8,&quot;range&quot;:&quot;5224-5882&quot;} -->
<h3 class="sectionedit9" id="add_device">Add Device</h3>
<div class="level3">

<p>
<a href="/docs/guide-developer/add.new.device" class="wikilink1" title="docs:guide-developer:add.new.device" data-wiki-id="docs:guide-developer:add.new.device">add.new.device</a>
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Add Device&quot;,&quot;hid&quot;:&quot;add_device&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:9,&quot;range&quot;:&quot;5883-5944&quot;} -->
<h3 class="sectionedit10" id="add_platform">Add Platform</h3>
<div class="level3">

<p>
<a href="/docs/guide-developer/add.new.platform" class="wikilink1" title="docs:guide-developer:add.new.platform" data-wiki-id="docs:guide-developer:add.new.platform">add.new.platform</a>
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Add Platform&quot;,&quot;hid&quot;:&quot;add_platform&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:10,&quot;range&quot;:&quot;5945-6011&quot;} -->
<h2 class="sectionedit11" id="software_development1">Software Development</h2>
<div class="level2">

<p>
The homepage needs no cookies, no javascript, no nothing enabled. It simply works. <img src="/lib/images/smileys/wink.svg" class="icon smiley" alt=";-)" /> It is available under the Creative Commons BY-SA license:
</p>
<ul>
<li class="level1"><div class="li"> <a href="http://bootlin.com/doc/legacy/block-drivers/" class="urlextern" title="http://bootlin.com/doc/legacy/block-drivers/" rel="ugc nofollow">http://bootlin.com/doc/legacy/block-drivers/</a> </div>
</li>
<li class="level1"><div class="li"> <a href="http://bootlin.com/doc/training/buildroot/" class="urlextern" title="http://bootlin.com/doc/training/buildroot/" rel="ugc nofollow">http://bootlin.com/doc/training/buildroot/</a></div>
</li>
<li class="level1"><div class="li"> <a href="http://toolchains.bootlin.com/" class="urlextern" title="http://toolchains.bootlin.com/" rel="ugc nofollow">http://toolchains.bootlin.com/</a></div>
</li>
<li class="level1"><div class="li"> <a href="http://bootlin.com/doc/legacy/network-drivers/" class="urlextern" title="http://bootlin.com/doc/legacy/network-drivers/" rel="ugc nofollow">http://bootlin.com/doc/legacy/network-drivers/</a></div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Software Development&quot;,&quot;hid&quot;:&quot;software_development1&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:11,&quot;range&quot;:&quot;6012-&quot;} -->