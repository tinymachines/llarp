
<h1 class="sectionedit1" id="the_openwrt_source_code">The OpenWrt source code</h1>
<div class="level1">

<p>
See also: <a href="/docs/guide-developer/adding_new_device" class="wikilink1" title="docs:guide-developer:adding_new_device" data-wiki-id="docs:guide-developer:adding_new_device">Adding a new device</a>
</p>

<p>
The OpenWrt project source code is stored inside a git tree which contains all branches and releases ever made.
</p>

<p>
All repositories can be browsed online through:
</p>
<ol>
<li class="level1"><div class="li"> <a href="https://git.openwrt.org/" class="urlextern" title="https://git.openwrt.org/" rel="ugc nofollow">GitWeb</a> - the master Git repository for OpenWrt</div>
</li>
<li class="level1"><div class="li"> <a href="https://github.com/openwrt" class="urlextern" title="https://github.com/openwrt" rel="ugc nofollow">GitHub</a> - a continually-updated mirror of GitWeb</div>
</li>
</ol>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;The OpenWrt source code&quot;,&quot;hid&quot;:&quot;the_openwrt_source_code&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:1,&quot;range&quot;:&quot;1-437&quot;} -->
<h2 class="sectionedit2" id="openwrt_source_code_repositories">OpenWrt source code repositories</h2>
<div class="level2">

<p>
Any OpenWrt development happens in the main Git repository which is accessible via both <abbr title="Hypertext Transfer Protocol">HTTP</abbr> and <abbr title="Hypertext Transfer Protocol Secure">HTTPS</abbr>:
</p>
<pre class="code bash"><span class="kw2">git clone</span> https:<span class="sy0">//</span>git.openwrt.org<span class="sy0">/</span>openwrt<span class="sy0">/</span>openwrt.git</pre>

<p>
You can find a mirror of the repository on GitHub:
</p>
<pre class="code bash"><span class="kw2">git clone</span> https:<span class="sy0">//</span>github.com<span class="sy0">/</span>openwrt<span class="sy0">/</span>openwrt.git</pre>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;OpenWrt source code repositories&quot;,&quot;hid&quot;:&quot;openwrt_source_code_repositories&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:2,&quot;range&quot;:&quot;438-784&quot;} -->
<h3 class="sectionedit3" id="general_source_structure">General source structure</h3>
<div class="level3">

<p>
These are the folders you can find in the project’s git:
</p>
<ul>
<li class="level1"><div class="li"> <strong>/config</strong> : configuration files for menuconfig</div>
</li>
<li class="level1"><div class="li"> <strong>/include</strong> : makefile configuration files</div>
</li>
<li class="level1"><div class="li"> <strong>/package</strong> : packages makefile and configuration</div>
</li>
<li class="level1"><div class="li"> <strong>/scripts</strong> : miscellaneous scripts used throughout the build process</div>
</li>
<li class="level1"><div class="li"> <strong>/target</strong> : makefile and configuration for building imagebuilder, kernel, sdk and the toolchain built by buildroot.</div>
</li>
<li class="level1"><div class="li"> <strong>/toolchain</strong> : makefile and configuration for building the toolchain</div>
</li>
<li class="level1"><div class="li"> <strong>/tools</strong> : miscellaneous tools used throughout the build process</div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;General source structure&quot;,&quot;hid&quot;:&quot;general_source_structure&quot;,&quot;codeblockOffset&quot;:2,&quot;secid&quot;:3,&quot;range&quot;:&quot;785-1378&quot;} -->
<h2 class="sectionedit4" id="releases">Releases</h2>
<div class="level2">

<p>
Generating releases has already been vastly automated.
The remaining parts of the process need to also be automated before the first LEDE release.
We will introduce a TESTERS file that is formatted similarly to the MAINTAINERS file of the kernel.
Community members can list themselves as testers for a target/profile/device.
Once a release has been generated testers should receive an email informing them of the requirement for images to be tested.
It needs to be decided if only tested images should be included in the binary release.
</p>

<p>
Releases should:
</p>
<ol>
<li class="level1"><div class="li"> Happen at least once a year</div>
</li>
<li class="level1"><div class="li"> Have at least one maintenance update</div>
</li>
<li class="level1"><div class="li"> Provide CVE/critical/… fixes for at least one year after the release</div>
</li>
<li class="level1"><div class="li"> Only include maintained targets</div>
</li>
<li class="level1"><div class="li"> Only include targets that have seen on device testing</div>
</li>
<li class="level1"><div class="li"> Be ready when they are ready</div>
</li>
</ol>

<p>
See the TODO page for more info.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Releases&quot;,&quot;hid&quot;:&quot;releases&quot;,&quot;codeblockOffset&quot;:2,&quot;secid&quot;:4,&quot;range&quot;:&quot;1379-2264&quot;} -->
<h2 class="sectionedit5" id="staging_trees">Staging trees</h2>
<div class="level2">

<p>
To create yourself a staging tree on git.openwrt.org (does not apply to regular users):
</p>
<pre class="code bash"><span class="kw2">ssh</span> <span class="kw2">git</span><span class="sy0">@</span>git.openwrt.org <span class="st0">&quot;create openwrt/staging/yournick&quot;</span>
<span class="kw2">ssh</span> <span class="kw2">git</span><span class="sy0">@</span>git.openwrt.org <span class="st0">&quot;desc openwrt/staging/yournick Staging tree of Your Name&quot;</span></pre>

<p>
To get your staging tree visible at <a href="https://git.openwrt.org" class="urlextern" title="https://git.openwrt.org" rel="ugc nofollow">https://git.openwrt.org</a>:
</p>
<pre class="code bash"><span class="kw2">ssh</span> <span class="kw2">git</span><span class="sy0">@</span>git.openwrt.org <span class="st0">&quot;perms openwrt/staging/yournick + READERS gitweb&quot;</span></pre>

<p>
To get your staging tree read accessible to everyone:
</p>
<pre class="code bash"><span class="kw2">ssh</span> <span class="kw2">git</span><span class="sy0">@</span>git.openwrt.org <span class="st0">&quot;perms openwrt/staging/yournick + READERS @all&quot;</span></pre>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Staging trees&quot;,&quot;hid&quot;:&quot;staging_trees&quot;,&quot;codeblockOffset&quot;:2,&quot;secid&quot;:5,&quot;range&quot;:&quot;2265-2845&quot;} -->
<h3 class="sectionedit6" id="kernel_updates">Kernel updates</h3>
<div class="level3">

<p>
It has proven impractical and a waste of time to always be on the very latest kernel within 2 days of its release.
It has caused the following:
</p>
<ol>
<li class="level1"><div class="li"> diversification of kernel versions</div>
</li>
<li class="level1"><div class="li"> pressure on maintainers to constantly upgrade rather than stabilize</div>
</li>
<li class="level1"><div class="li"> huge effort invested to upgrade 3-4 times between releases</div>
</li>
<li class="level1"><div class="li"> huge workload to maintain kmod-* packaging</div>
</li>
<li class="level1"><div class="li"> Upgrade to kernels that might not be fully tested</div>
</li>
</ol>

<p>
Obviously, this doesn&#039;t excuse old, dusty kernels.
A balanced path between the 2 should be taken that gives the community recent kernels without causing unnecessary workload and stability issues.
</p>

<p>
There should be a max of three concurrent kernel versions.
Having only two concurrent versions is better than three.
</p>

<p>
In short, stability should be valued higher than bleeding edge.
Bleeding edge is important, but not as a trade-off to stability.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Kernel updates&quot;,&quot;hid&quot;:&quot;kernel_updates&quot;,&quot;codeblockOffset&quot;:5,&quot;secid&quot;:6,&quot;range&quot;:&quot;2846-&quot;} -->