
<h1 class="sectionedit1" id="ubus_uci">ubus uci</h1>
<div class="level1">

<p>
<strong>Package: rpcd</strong>
</p>
<pre class="code"># ubus -v list uci
&#039;uci&#039; @4eb774a8
	&quot;configs&quot;:{}
	&quot;get&quot;:{&quot;config&quot;:&quot;String&quot;,&quot;section&quot;:&quot;String&quot;,&quot;option&quot;:&quot;String&quot;,&quot;type&quot;:&quot;String&quot;,&quot;match&quot;:&quot;Table&quot;,&quot;ubus_rpc_session&quot;:&quot;String&quot;}
	&quot;state&quot;:{&quot;config&quot;:&quot;String&quot;,&quot;section&quot;:&quot;String&quot;,&quot;option&quot;:&quot;String&quot;,&quot;type&quot;:&quot;String&quot;,&quot;match&quot;:&quot;Table&quot;,&quot;ubus_rpc_session&quot;:&quot;String&quot;}
	&quot;add&quot;:{&quot;config&quot;:&quot;String&quot;,&quot;type&quot;:&quot;String&quot;,&quot;name&quot;:&quot;String&quot;,&quot;values&quot;:&quot;Table&quot;,&quot;ubus_rpc_session&quot;:&quot;String&quot;}
	&quot;set&quot;:{&quot;config&quot;:&quot;String&quot;,&quot;section&quot;:&quot;String&quot;,&quot;type&quot;:&quot;String&quot;,&quot;match&quot;:&quot;Table&quot;,&quot;values&quot;:&quot;Table&quot;,&quot;ubus_rpc_session&quot;:&quot;String&quot;}
	&quot;delete&quot;:{&quot;config&quot;:&quot;String&quot;,&quot;section&quot;:&quot;String&quot;,&quot;type&quot;:&quot;String&quot;,&quot;match&quot;:&quot;Table&quot;,&quot;option&quot;:&quot;String&quot;,&quot;options&quot;:&quot;Array&quot;,&quot;ubus_rpc_session&quot;:&quot;String&quot;}
	&quot;rename&quot;:{&quot;config&quot;:&quot;String&quot;,&quot;section&quot;:&quot;String&quot;,&quot;option&quot;:&quot;String&quot;,&quot;name&quot;:&quot;String&quot;,&quot;ubus_rpc_session&quot;:&quot;String&quot;}
	&quot;order&quot;:{&quot;config&quot;:&quot;String&quot;,&quot;sections&quot;:&quot;Array&quot;,&quot;ubus_rpc_session&quot;:&quot;String&quot;}
	&quot;changes&quot;:{&quot;config&quot;:&quot;String&quot;,&quot;ubus_rpc_session&quot;:&quot;String&quot;}
	&quot;revert&quot;:{&quot;config&quot;:&quot;String&quot;,&quot;ubus_rpc_session&quot;:&quot;String&quot;}
	&quot;commit&quot;:{&quot;config&quot;:&quot;String&quot;,&quot;ubus_rpc_session&quot;:&quot;String&quot;}
	&quot;apply&quot;:{&quot;rollback&quot;:&quot;Boolean&quot;,&quot;timeout&quot;:&quot;Integer&quot;,&quot;ubus_rpc_session&quot;:&quot;String&quot;}
	&quot;confirm&quot;:{&quot;ubus_rpc_session&quot;:&quot;String&quot;}
	&quot;rollback&quot;:{&quot;ubus_rpc_session&quot;:&quot;String&quot;}
	&quot;reload_config&quot;:{}</pre>
<!-- EDIT{&quot;target&quot;:&quot;plugin_wrap_start&quot;,&quot;hid&quot;:&quot;&quot;,&quot;secid&quot;:2,&quot;range&quot;:&quot;0-&quot;} --><div class="wrap_warning plugin_wrap">
<p>
The “ubus uci” section of this documentation is severely outdated and incomplete.  It is only useful nowadays as a starting point for someone to actually rewrite it to match reality.
</p>
</div><!-- EDIT{&quot;target&quot;:&quot;plugin_wrap_end&quot;,&quot;hid&quot;:&quot;&quot;,&quot;secid&quot;:3,&quot;range&quot;:&quot;0-&quot;} --><div class="table sectionedit4"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Path </th><th class="col1"> Procedure </th><th class="col2"> Signature </th><th class="col3"> Description </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> <code>uci</code> </td><td class="col1"> <code>configs</code> </td><td class="col2"> <code>{ }</code> </td><td class="col3"> <!-- EDIT{&quot;target&quot;:&quot;plugin_wrap_start&quot;,&quot;hid&quot;:&quot;&quot;,&quot;secid&quot;:5,&quot;range&quot;:&quot;0-&quot;} --><div class="plugin_wrap">
<p>
List all available configs
</p>

<p>
Example:
</p>
<pre class="code"># ubus call uci configs &#039;{&quot;ubus_rpc_session&quot;:&quot;2db687f321a60414e77677bbb5dd6d6f&quot;}&#039;
{
	&quot;configs&quot;: [
		&quot;dhcp&quot;,
		&quot;dropbear&quot;,
		&quot;firewall&quot;,
		&quot;luci&quot;,
		&quot;network&quot;,
		&quot;radius&quot;,
		&quot;rpcd&quot;,
		&quot;system&quot;,
		&quot;ubootenv&quot;,
		&quot;ucitrack&quot;,
		&quot;uhttpd&quot;,
		&quot;wireless&quot;
	]
}</pre>
</div><!-- EDIT{&quot;target&quot;:&quot;plugin_wrap_end&quot;,&quot;hid&quot;:&quot;&quot;,&quot;secid&quot;:6,&quot;range&quot;:&quot;0-&quot;} --></td>
	</tr>
	<tr class="row2">
		<td class="col0"> <code>uci</code> </td><td class="col1"> <code>get</code> </td><td class="col2"> <code>{ “config”: “<em>config</em>”,
  “section”: “<em>sname</em>”,
  “type”:    “<em>type</em>”,
  “option”:  “<em>oname</em>” }</code> </td><td class="col3"> <!-- EDIT{&quot;target&quot;:&quot;plugin_wrap_start&quot;,&quot;hid&quot;:&quot;&quot;,&quot;secid&quot;:7,&quot;range&quot;:&quot;0-&quot;} --><div class="plugin_wrap">
<p>
Return the requested uci value(s), all arguments are optional.
</p>
<ol>
<li class="level1"><div class="li"> When called without argument or with empty object: return an array of package names in the <code>configs</code> field</div>
</li>
<li class="level1"><div class="li"> When called with <code><em>config</em></code> set: return an object containing all sections containing all options in a field named after the package</div>
</li>
<li class="level1"><div class="li"> When called with <code><em>config</em></code> and <code><em>type</em></code> set: return an object containing all sections of type <code><em>type</em></code> containing all options in a field named after the package</div>
</li>
<li class="level1"><div class="li"> When called with <code><em>config</em></code> and <code><em>sname</em></code> set: return an object containing all options of the section in a field named after the section</div>
</li>
<li class="level1"><div class="li"> When called with <code><em>config</em></code> and <code><em>type</em></code> and <code><em>oname</em></code> set: return an object containing the value of each option named <code><em>oname</em></code> within a section of type <code><em>type</em></code> in a field named after the matched section</div>
</li>
<li class="level1"><div class="li"> When called with <code><em>package</em></code> and <code><em>sname</em></code> and <code><em>oname</em></code> set: return the result string in a field named <code><em>oname</em></code> in case of options or an array of result strings in a field named <code><em>oname</em></code> in case of list options</div>
</li>
</ol>

<p>
Return messages:
</p>
<ol>
<li class="level1"><div class="li"> <code>{ “<em>config</em>”: {
  “sname1”: {
    “.type”:   “type1”,
    “option1”: “value1”,
    “option2”: [ “value2.1”, ... ],
    ... }, ... } }</code></div>
</li>
<li class="level1"><div class="li"> <code>{ “<em>config</em>”: {
  “sname1”: {
    “.type”:   “<em>type</em>”,
    “option1”: “value1”,
    “option2”: [ “value2.1”, ... ],
    ... }, ... } }</code></div>
</li>
<li class="level1"><div class="li"> <code>{ “<em>sname</em>”: {
    “.type”:   “type”,
    “option1”: “value1”,
    “option2”: [ “value2.1”, ... ],
    ... } }</code></div>
</li>
<li class="level1"><div class="li"> <code>{ “sectionname1”: “value1”,
  “sectionname2”: [ “value2.1”, ... ],
  ... }</code></div>
</li>
<li class="level1 node"><div class="li"></div>
<ol>
<li class="level2"><div class="li"> <code>{ “<em>oname</em>”: “value1” }</code></div>
</li>
<li class="level2"><div class="li"> <code>{ “<em>oname</em>”: [ “value1.1”, ... ] }</code></div>
</li>
</ol>
</li>
</ol>

<p>
Example:
</p>
<pre class="code"># ubus call uci get &#039;{&quot;ubus_rpc_session&quot;:&quot;2db687f321a60414e77677bbb5dd6d6f&quot;, &quot;config&quot;:&quot;wireless&quot;, &quot;section&quot;:&quot;wifinet2&quot;}&#039;
{
	&quot;values&quot;: {
		&quot;.anonymous&quot;: false,
		&quot;.type&quot;: &quot;wifi-iface&quot;,
		&quot;.name&quot;: &quot;wifinet2&quot;,
		&quot;device&quot;: &quot;radio0&quot;,
		&quot;mode&quot;: &quot;ap&quot;,
		&quot;ssid&quot;: &quot;ilwf-guest&quot;,
		&quot;encryption&quot;: &quot;sae-mixed&quot;,
		&quot;key&quot;: &quot;XXXX&quot;,
		&quot;network&quot;: &quot;lan&quot;,
		&quot;disabled&quot;: &quot;0&quot;
	}</pre>
</div><!-- EDIT{&quot;target&quot;:&quot;plugin_wrap_end&quot;,&quot;hid&quot;:&quot;&quot;,&quot;secid&quot;:8,&quot;range&quot;:&quot;0-&quot;} --></td>
	</tr>
	<tr class="row3">
		<td class="col0"> <code>uci</code> </td><td class="col1"> <code>state</code> </td><td class="col2"> <code>{ “config”: “<em>config</em>”,
  “section”: “<em>sname</em>”,
  “type”:    “<em>tname</em>”,
  “option”:  “<em>oname</em>” }</code> </td><td class="col3"> </td>
	</tr>
	<tr class="row4">
		<td class="col0"> <code>uci</code> </td><td class="col1"> <code>set</code> </td><td class="col2"> <code>{ “config”: “<em>config</em>”,
  “section”: “<em>sname</em>”,
  “type”:  “<em>tname</em>”,
  “values”:   “<em>array_of_values</em>” }</code> </td><td class="col3"> <!-- EDIT{&quot;target&quot;:&quot;plugin_wrap_start&quot;,&quot;hid&quot;:&quot;&quot;,&quot;secid&quot;:9,&quot;range&quot;:&quot;0-&quot;} --><div class="plugin_wrap">
<p>
Set the given value(s), the option argument is optional.
</p>
<ol>
<li class="level1"><div class="li"> When called with <code><em>config</em></code> and <code><em>sname</em></code> and <code><em>array_of_values</em></code> set: add a new section <code><em>sname</em></code> in <code><em>config</em></code> and set it to the type given in <code><em>tname</em></code></div>
</li>
<li class="level1"><div class="li"> When called with <code><em>config</em></code> and <code><em>sname</em></code>, <code><em>oname</em></code> and <code><em>array_of_values</em></code> set <code>array_of_values</code> as values in <code><em>sname</em></code></div>
</li>
</ol>

<p>
The call does not produce any data, instead it returns with the following status codes:
</p>
<ol>
<li class="level1"><div class="li"> If there already is a section called <code><em>sname</em></code>: <code>UBUS_STATUS_INVALID_ARGUMENT</code> else: <code>UBUS_STATUS_OK</code></div>
</li>
<li class="level1"><div class="li"> If there is no section <code><em>sname</em></code> or if <code><em>value</em></code> is neither a string nor an array: <code>UBUS_STATUS_INVALID_ARGUMENT</code> else: <code>UBUS_STATUS_OK</code></div>
</li>
</ol>

<p>
Example:
</p>
<pre class="code"># ubus call uci set &#039;{&quot;ubus_rpc_session&quot;:&quot;2db687f321a60414e77677bbb5dd6d6f&quot;, &quot;config&quot;:&quot;wireless&quot;, &quot;section&quot;:&quot;wifinet2&quot;, &quot;values&quot;:{&quot;disabled&quot;:&quot;1&quot;}}&#039;
# ubus call uci get &#039;{&quot;ubus_rpc_session&quot;:&quot;2db687f321a60414e77677bbb5dd6d6f&quot;, &quot;config&quot;:&quot;wireless&quot;, &quot;section&quot;:&quot;wifinet2&quot;}&#039;
{
	&quot;values&quot;: {
		&quot;.anonymous&quot;: false,
		&quot;.type&quot;: &quot;wifi-iface&quot;,
		&quot;.name&quot;: &quot;wifinet2&quot;,
		&quot;device&quot;: &quot;radio0&quot;,
		&quot;mode&quot;: &quot;ap&quot;,
		&quot;ssid&quot;: &quot;ilwf-guest&quot;,
		&quot;encryption&quot;: &quot;sae-mixed&quot;,
		&quot;key&quot;: &quot;XXXXXXXX&quot;,
		&quot;network&quot;: &quot;lan&quot;,
		&quot;disabled&quot;: &quot;1&quot;
	}
}</pre>
</div><!-- EDIT{&quot;target&quot;:&quot;plugin_wrap_end&quot;,&quot;hid&quot;:&quot;&quot;,&quot;secid&quot;:10,&quot;range&quot;:&quot;0-&quot;} --></td>
	</tr>
	<tr class="row5">
		<td class="col0"> <code>uci</code> </td><td class="col1"> <code>add</code> </td><td class="col2"> <code>{ “config”: “<em>config</em>”,
  “type”:    “<em>type</em>” }</code> </td><td class="col3"> <!-- EDIT{&quot;target&quot;:&quot;plugin_wrap_start&quot;,&quot;hid&quot;:&quot;&quot;,&quot;secid&quot;:11,&quot;range&quot;:&quot;0-&quot;} --><div class="plugin_wrap">
<p>
Add new anonymous section of given type.
</p>
<ol>
<li class="level1"><div class="li"> When called with <code><em>config</em></code> and <code><em>type</em></code> set: Add a new anonymous section of type <code><em>type</em></code>.</div>
</li>
</ol>

<p>
Return message:
</p>
<ol>
<li class="level1"><div class="li"> <code>{ “section”: “sectionname” }</code></div>
</li>
</ol>
</div><!-- EDIT{&quot;target&quot;:&quot;plugin_wrap_end&quot;,&quot;hid&quot;:&quot;&quot;,&quot;secid&quot;:12,&quot;range&quot;:&quot;0-&quot;} --></td>
	</tr>
	<tr class="row6">
		<td class="col0"> <code>uci</code> </td><td class="col1"> <code>delete</code> </td><td class="col2"> <code>{ “config”: “<em>config</em>”,
  “section”: “<em>sname</em>”,
  “type”:    “<em>type</em>”,
  “option”:  “<em>oname</em>” }</code> </td><td class="col3"> <!-- EDIT{&quot;target&quot;:&quot;plugin_wrap_start&quot;,&quot;hid&quot;:&quot;&quot;,&quot;secid&quot;:13,&quot;range&quot;:&quot;0-&quot;} --><div class="plugin_wrap">
<p>
Delete the given value(s) or section(s), the option and type arguments are optional.
</p>
<ol>
<li class="level1"><div class="li"> When called with <code><em>config</em></code> and <code><em>type</em></code> set: delete all sections of type <code><em>type</em></code> in <code><em>config</em></code></div>
</li>
<li class="level1"><div class="li"> When called with <code><em>config</em></code> and <code><em>sname</em></code> set: delete the section named <code><em>sname</em></code> in <code><em>config</em></code></div>
</li>
<li class="level1"><div class="li"> When called with <code><em>config</em></code>, <code><em>type</em></code> and <code><em>oname</em></code> set: delete the option named <code><em>oname</em></code> within each section of type <code><em>type</em></code> in <code><em>package</em></code></div>
</li>
<li class="level1"><div class="li"> When called with <code><em>config</em></code>, <code><em>sname</em></code> and <code><em>oname</em></code> set: delete the option named <code><em>oname</em></code> in section <code><em>sname</em></code> of <code><em>package</em></code></div>
</li>
</ol>

<p>
The call does not result in any data, instead it returns the following status codes:
</p>
<ol>
<li class="level1"><div class="li"> If no section of type <code><em>type</em></code> was found: <code>UBUS_STATUS_NOT_FOUND</code> else: <code>UBUS_STATUS_OK</code></div>
</li>
<li class="level1"><div class="li"> If no section named <code><em>sname</em></code> was found: <code>UBUS_STATUS_NOT_FOUND</code> else: <code>UBUS_STATUS_OK</code></div>
</li>
<li class="level1"><div class="li"> If no options named <code><em>oname</em></code> within sections of type <code><em>type</em></code> where found: <code>UBUS_STATUS_NOT_FOUND</code> else: <code>UBUS_STATUS_OK</code></div>
</li>
<li class="level1"><div class="li"> If the option named <code><em>oname</em></code> within named section <code><em>sname</em></code> was not found: <code>UBUS_STATUS_NOT_FOUND</code> else: <code>UBUS_STATUS_OK</code></div>
</li>
</ol>
</div><!-- EDIT{&quot;target&quot;:&quot;plugin_wrap_end&quot;,&quot;hid&quot;:&quot;&quot;,&quot;secid&quot;:14,&quot;range&quot;:&quot;0-&quot;} --></td>
	</tr>
	<tr class="row7">
		<td class="col0"> <code>uci</code> </td><td class="col1"> <code>rename</code> </td><td class="col2"> <code>{“config”:“String”,“section”:“String”,“option”:“String”,“name”:“String” }</code> </td><td class="col3"> </td>
	</tr>
	<tr class="row8">
		<td class="col0"> <code>uci</code> </td><td class="col1"> <code>order</code> </td><td class="col2"> <code>{“config”:“String”,“sections”:“Array” }</code> </td><td class="col3"> </td>
	</tr>
	<tr class="row9">
		<td class="col0"> <code>uci</code> </td><td class="col1"> <code>changes</code> </td><td class="col2"> <code>{“config”:“String” }</code> </td><td class="col3"> </td>
	</tr>
	<tr class="row10">
		<td class="col0"> <code>uci</code> </td><td class="col1"> <code>revert</code> </td><td class="col2"> <code>{“config”:“String” }</code> </td><td class="col3"> </td>
	</tr>
	<tr class="row11">
		<td class="col0"> <code>uci</code> </td><td class="col1"> <code>commit</code> </td><td class="col2"> <code>{“config”:“String” }</code> </td><td class="col3"> </td>
	</tr>
	<tr class="row12">
		<td class="col0"> <code>uci</code> </td><td class="col1"> <code>apply</code> </td><td class="col2"> <code>{“rollback”:“Boolean”,“timeout”:“Integer” }</code> </td><td class="col3"> </td>
	</tr>
	<tr class="row13">
		<td class="col0"> <code>uci</code> </td><td class="col1"> <code>confirm</code> </td><td class="col2"> <code>{ }</code> </td><td class="col3"> </td>
	</tr>
	<tr class="row14">
		<td class="col0"> <code>uci</code> </td><td class="col1"> <code>rollback</code> </td><td class="col2"> <code>{ }</code> </td><td class="col3"> </td>
	</tr>
	<tr class="row15">
		<td class="col0"> <code>uci</code> </td><td class="col1"> <code>reload_config</code> </td><td class="col2"> <code>{ }</code> </td><td class="col3"> </td>
	</tr>
</table></div>
<!-- EDIT{&quot;target&quot;:&quot;table&quot;,&quot;name&quot;:&quot;&quot;,&quot;hid&quot;:&quot;table&quot;,&quot;secid&quot;:4,&quot;range&quot;:&quot;1482-7896&quot;} -->
</div>
