
<h1 class="sectionedit1" id="using_the_sdk">Using the SDK</h1>
<div class="level1">
<!-- EDIT{&quot;target&quot;:&quot;plugin_wrap_start&quot;,&quot;hid&quot;:&quot;&quot;,&quot;secid&quot;:2,&quot;range&quot;:&quot;0-&quot;} --><div class="wrap_center wrap_round wrap_info plugin_wrap" style="width: 60%;">
<p>
THIS IS THE <em>OLD</em> DOCUMENT <img src="/lib/images/smileys/exclaim.svg" class="icon smiley" alt=":!:" /><br/>

<strong>See <a href="/docs/guide-developer/toolchain/using_the_sdk" class="wikilink1" title="docs:guide-developer:toolchain:using_the_sdk" data-wiki-id="docs:guide-developer:toolchain:using_the_sdk">Using the SDK</a> for the latest version</strong> <img src="/lib/images/smileys/exclaim.svg" class="icon smiley" alt=":!:" />
</p>
</div><!-- EDIT{&quot;target&quot;:&quot;plugin_wrap_end&quot;,&quot;hid&quot;:&quot;&quot;,&quot;secid&quot;:3,&quot;range&quot;:&quot;0-&quot;} -->
<p>
The <a href="https://en.wikipedia.org/wiki/Software_development_kit" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/Software_development_kit">SDK</a> is a relocatable, precompiled OpenWrt <a href="https://en.wikipedia.org/wiki/Toolchain" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/Toolchain">toolchain</a> suitable to <a href="https://en.wikipedia.org/wiki/Cross_compile" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/Cross_compile">cross compile</a> single <a href="https://en.wikipedia.org/wiki/User_space" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/User_space">userspace</a> packages for a specific target without compiling the whole system from scratch.
</p>

<p>
Reasons for using the SDK are:
</p>
<ul>
<li class="level1"><div class="li"> Compile custom software for a specific release while ensuring binary and feature compatibility</div>
</li>
<li class="level1"><div class="li"> Compile newer versions of certain packages</div>
</li>
<li class="level1"><div class="li"> Recompile existing packages with custom patches or different features</div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Using the SDK&quot;,&quot;hid&quot;:&quot;using_the_sdk&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:1,&quot;range&quot;:&quot;1-721&quot;} -->
<h2 class="sectionedit4" id="obtain_sdk">Obtain SDK</h2>
<div class="level2">

<p>
You can either download an already compiled SDK, or compile it yourself by using the “make menuconfig” command.
</p>

</div>

<h4 id="prerequisites">Prerequisites</h4>
<div class="level4">

<p>
Please see <a href="/docs/guide-developer/toolchain/install-buildsystem" class="wikilink1" title="docs:guide-developer:toolchain:install-buildsystem" data-wiki-id="docs:guide-developer:toolchain:install-buildsystem">Build system – Installation</a> page how to install the needed software to build the packages on the SDK.
</p>
<hr />

<p>
Note: On some hosts it is needed to install the <strong>ccache</strong> package
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Obtain SDK&quot;,&quot;hid&quot;:&quot;obtain_sdk&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:4,&quot;range&quot;:&quot;722-1123&quot;} -->
<h3 class="sectionedit5" id="download">Download</h3>
<div class="level3">

<p>
You should find bz2-archives ready for download in the corresponding download directory:
</p>
<ul>
<li class="level1"><div class="li"> <a href="https://downloads.openwrt.org/snapshots/trunk/" class="urlextern" title="https://downloads.openwrt.org/snapshots/trunk/" rel="ugc nofollow"> Trunk SDK</a> → <a href="https://dev.openwrt.org/wiki/platforms" class="urlextern" title="https://dev.openwrt.org/wiki/platforms" rel="ugc nofollow"> Platform</a> → OpenWrt-SDK-&lt;Platform&gt;-for-linux-x86_64-gcc-&lt;version&gt;-linaro-uClibc-&lt;version&gt;.tar.bz2</div>
</li>
<li class="level1"><div class="li"> <a href="https://downloads.openwrt.org/chaos_calmer/15.05.1/" class="urlextern" title="https://downloads.openwrt.org/chaos_calmer/15.05.1/" rel="ugc nofollow"> Stable SDK &quot;Chaos Calmer (15.05.1)&quot;</a> → <a href="https://dev.openwrt.org/wiki/platforms" class="urlextern" title="https://dev.openwrt.org/wiki/platforms" rel="ugc nofollow"> Platform</a> → OpenWrt-SDK-&lt;Platform&gt;-for-linux-x86_64-gcc-&lt;version&gt;-linaro-uClibc-&lt;version&gt;.tar.bz2</div>
</li>
<li class="level1"><div class="li"> <a href="https://downloads.openwrt.org/" class="urlextern" title="https://downloads.openwrt.org/" rel="ugc nofollow"> Legacy SDKs (Historic Releases)</a>, → <a href="https://dev.openwrt.org/wiki/platforms" class="urlextern" title="https://dev.openwrt.org/wiki/platforms" rel="ugc nofollow"> Platform</a> → OpenWrt-SDK-&lt;Platform&gt;-for-linux-x86_64-gcc-&lt;version&gt;-linaro-uClibc-&lt;version&gt;.tar.bz2</div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Download&quot;,&quot;hid&quot;:&quot;download&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:5,&quot;range&quot;:&quot;1124-1904&quot;} -->
<h3 class="sectionedit6" id="package_feeds">Package Feeds</h3>
<div class="level3">

<p>
After decompressing the SDK archive, edit the <code>feeds.conf.default</code> file to download the needed package definitions
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Package Feeds&quot;,&quot;hid&quot;:&quot;package_feeds&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:6,&quot;range&quot;:&quot;1905-2047&quot;} -->
<h2 class="sectionedit7" id="usage">Usage</h2>
<div class="level2">

<p>
By default the SDK ships with no package definitions.
Makefiles for packages to compile must be checked out from the OpenWrt repository and placed into the <code>package/</code> directory first.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Usage&quot;,&quot;hid&quot;:&quot;usage&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:7,&quot;range&quot;:&quot;2048-2252&quot;} -->
<h3 class="sectionedit8" id="obtain_definitions">Obtain Definitions</h3>
<div class="level3">
<ul>
<li class="level1"><div class="li"> Use the <code>./scripts/feeds update -a</code> command to obtain package definitions. </div>
</li>
<li class="level1"><div class="li"> After the definitions have been updates, execute <code>./scripts/feeds install &lt;packagename&gt;</code> to prepare the package and its dependencies.</div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Obtain Definitions&quot;,&quot;hid&quot;:&quot;obtain_definitions&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:8,&quot;range&quot;:&quot;2253-2505&quot;} -->
<h3 class="sectionedit9" id="compile_packages">Compile Packages</h3>
<div class="level3">

<p>
After the Makefile is in place, the usual buildroot commands apply:
</p>
<ul>
<li class="level1"><div class="li"> <code>make package<em>/example</em>/download</code> - download the soures of <em>example</em></div>
</li>
<li class="level1"><div class="li"> <code>make package<em>/example</em>/prepare</code> - extract the sources, apply patches and download if necessary</div>
</li>
<li class="level1"><div class="li"> <code>make package<em>/example</em>/compile</code> - compile <em>example</em>, prepare and download if necessary</div>
</li>
<li class="level1"><div class="li"> <code>make package<em>/example</em>/clean</code> - clean the sourcecode</div>
</li>
<li class="level1"><div class="li"> <code>make package/index</code> - build a repository index to make the output directory usable as local <em>opkg</em> source</div>
</li>
</ul>

<p>
Some packages are built on host:
</p>
<div class="table sectionedit10"><table class="inline">
	<tr class="row0">
		<td class="col0"> <code>$ make package<em>/example</em>/host/{clean,compile} V=99</code> </td>
	</tr>
</table></div>
<!-- EDIT{&quot;target&quot;:&quot;table&quot;,&quot;name&quot;:&quot;&quot;,&quot;hid&quot;:&quot;table&quot;,&quot;secid&quot;:10,&quot;range&quot;:&quot;3095-3155&quot;} -->
<p>
The common command to recompile a package <em>example</em> and enable verbose output is:
</p>
<div class="table sectionedit11"><table class="inline">
	<tr class="row0">
		<td class="col0"> <code>$ make package<em>/example</em>/{clean,compile} V=99</code> </td>
	</tr>
</table></div>
<!-- EDIT{&quot;target&quot;:&quot;table&quot;,&quot;name&quot;:&quot;&quot;,&quot;hid&quot;:&quot;table1&quot;,&quot;secid&quot;:11,&quot;range&quot;:&quot;3242-3297&quot;} -->
<p>
After the compilation is finished, the generated .ipk files are placed in the bin directory.
</p>

<p>
The output of make might contain <code>WARNING: your configuration is out of sync. Please run make menuconfig, oldconfig or defconfig!</code>. That warning is misleading and wrong in the SDK case. Since everything is precompiled you cannot run oldconfig (see <a href="https://forum.openwrt.org/viewtopic.php?id=43055" class="urlextern" title="https://forum.openwrt.org/viewtopic.php?id=43055" rel="ugc nofollow">Why is the SDK configuration out of sync?</a>).
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Compile Packages&quot;,&quot;hid&quot;:&quot;compile_packages&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:9,&quot;range&quot;:&quot;2506-3740&quot;} -->
<h3 class="sectionedit12" id="exampleexisting_package">Example: existing package</h3>
<div class="level3">

<p>
The example below rebuilds <em>tmux</em>.
</p>
<pre class="code">$ ./scripts/feeds install tmux
Installing package &#039;tmux&#039;
Installing package &#039;toolchain&#039;
Installing package &#039;ncurses&#039;
Installing package &#039;libevent2&#039;
Installing package &#039;openssl&#039;
Installing package &#039;zlib&#039;
Installing package &#039;ocf-crypto-headers&#039;
$ make package/tmux/download
Collecting package info: done
tmp/.config-package.in:36:warning: ignoring type redefinition of &#039;PACKAGE_libc&#039; from &#039;boolean&#039; to &#039;tristate&#039;
tmp/.config-package.in:64:warning: ignoring type redefinition of &#039;PACKAGE_libgcc&#039; from &#039;boolean&#039; to &#039;tristate&#039;
#
# configuration written to .config
#
 make[1] package/tmux/download
 make[2] -C feeds/packages/utils/tmux download
$ make package/tmux/prepare
tmp/.config-package.in:36:warning: ignoring type redefinition of &#039;PACKAGE_libc&#039; from &#039;boolean&#039; to &#039;tristate&#039;
tmp/.config-package.in:64:warning: ignoring type redefinition of &#039;PACKAGE_libgcc&#039; from &#039;boolean&#039; to &#039;tristate&#039;
#
# configuration written to .config
#
 make[1] package/tmux/prepare
 make[2] -C feeds/packages/utils/tmux prepare
$ make package/tmux/compile
tmp/.config-package.in:36:warning: ignoring type redefinition of &#039;PACKAGE_libc&#039; from &#039;boolean&#039; to &#039;tristate&#039;
tmp/.config-package.in:64:warning: ignoring type redefinition of &#039;PACKAGE_libgcc&#039; from &#039;boolean&#039; to &#039;tristate&#039;
#
# configuration written to .config
#
 make[1] package/tmux/compile
 make[2] -C feeds/base/package/libs/toolchain compile
 make[2] -C feeds/base/package/libs/ocf-crypto-headers compile
 make[2] -C feeds/base/package/libs/zlib compile
 make[2] -C feeds/base/package/libs/openssl compile
 make[2] -C feeds/base/package/libs/libevent2 compile
 make[2] -C feeds/base/package/libs/ncurses host-compile
 make[2] -C feeds/base/package/libs/ncurses compile
 make[2] -C feeds/base/package/libs/ncurses compile
 make[2] -C feeds/base/package/libs/ncurses compile
 make[2] -C feeds/packages/utils/tmux compile

 make[1] package/index

 make[1] package/index
$ ls bin/ar71xx/packages/packages
tmux_1.9a-1_ar71xx.ipk</pre>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Example: existing package&quot;,&quot;hid&quot;:&quot;exampleexisting_package&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:12,&quot;range&quot;:&quot;3741-5785&quot;} -->
<h3 class="sectionedit13" id="build_your_own_packages">Build your own packages</h3>
<div class="level3">

<p>
See <a href="/docs/guide-developer/packages" class="wikilink1" title="docs:guide-developer:packages" data-wiki-id="docs:guide-developer:packages">Creating packages</a>
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Build your own packages&quot;,&quot;hid&quot;:&quot;build_your_own_packages&quot;,&quot;codeblockOffset&quot;:1,&quot;secid&quot;:13,&quot;range&quot;:&quot;5786-5876&quot;} -->
<h2 class="sectionedit14" id="troubleshooting">Troubleshooting</h2>
<div class="level2">

<p>
<img src="/lib/images/smileys/exclaim.svg" class="icon smiley" alt=":!:" /> Some SDK versions have bugs.
</p>

<p>
Bug: BB SDK for BRCM2708: wants to compile with “ccache_cc”
see <a href="https://dev.openwrt.org/ticket/13949" class="urlextern" title="https://dev.openwrt.org/ticket/13949" rel="ugc nofollow">https://dev.openwrt.org/ticket/13949</a>
</p>

<p>
Bug: BB SDK for BRCM2708: static compilation broken
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Troubleshooting&quot;,&quot;hid&quot;:&quot;troubleshooting&quot;,&quot;codeblockOffset&quot;:1,&quot;secid&quot;:14,&quot;range&quot;:&quot;5877-&quot;} -->