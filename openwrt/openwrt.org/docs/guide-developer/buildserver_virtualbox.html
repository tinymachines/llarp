
<h2 class="sectionedit1" id="setting_up_a_build_vm_in_virtualbox">Setting up a build VM in VirtualBox</h2>
<div class="level2">

<p>
The OpenWrt build VM will run on a Debian <abbr title="Operating System">OS</abbr> in VirtualBox.
You are required to have a 64-bit <abbr title="Operating System">OS</abbr> and at least 8 <abbr title="Gigabyte">GB</abbr> free disk space.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Setting up a build VM in VirtualBox&quot;,&quot;hid&quot;:&quot;setting_up_a_build_vm_in_virtualbox&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:1,&quot;range&quot;:&quot;1-181&quot;} -->
<h2 class="sectionedit2" id="instructions">Instructions</h2>
<div class="level2">

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Instructions&quot;,&quot;hid&quot;:&quot;instructions&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:2,&quot;range&quot;:&quot;182-206&quot;} -->
<h3 class="sectionedit3" id="get_virtualbox">1. Get VirtualBox</h3>
<div class="level3">

<p>
This program will let you run a virtual Linux machine on your PC.
Download the newest version from <a href="https://www.virtualbox.org/" class="urlextern" title="https://www.virtualbox.org/" rel="ugc nofollow">virtualbox.org</a> and install using default settings.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;1. Get VirtualBox&quot;,&quot;hid&quot;:&quot;get_virtualbox&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:3,&quot;range&quot;:&quot;207-417&quot;} -->
<h3 class="sectionedit4" id="get_a_debian_image">2. Get a Debian image</h3>
<div class="level3">

<p>
Download the newest VirtualBox (VDI) 64-bit Debian image (currently 12 Bookworm) from <a href="http://www.osboxes.org/debian/" class="urlextern" title="http://www.osboxes.org/debian/" rel="ugc nofollow">osboxes.org</a> and unpack it using 7zip.
7zip can be downloaded from <a href="http://www.7-zip.org/" class="urlextern" title="http://www.7-zip.org/" rel="ugc nofollow">7-zip.org</a>.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;2. Get a Debian image&quot;,&quot;hid&quot;:&quot;get_a_debian_image&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:4,&quot;range&quot;:&quot;418-674&quot;} -->
<h3 class="sectionedit5" id="install_the_virtual_machine">3. Install the virtual machine</h3>
<div class="level3">
<ol>
<li class="level1"><div class="li"> Start Oracle VM VirtualBox</div>
</li>
<li class="level1"><div class="li"> Click New</div>
</li>
<li class="level1"><div class="li"> Name: OpenWrtDev</div>
</li>
<li class="level1"><div class="li"> Type: Linux</div>
</li>
<li class="level1"><div class="li"> Version: Debian (64-bit). See <a href="https://superuser.com/questions/866962/why-does-virtualbox-only-have-32-bit-option-no-64-bit-option-on-windows-7" class="urlextern" title="https://superuser.com/questions/866962/why-does-virtualbox-only-have-32-bit-option-no-64-bit-option-on-windows-7" rel="ugc nofollow">here</a> if 64-bit is not available.</div>
</li>
<li class="level1"><div class="li"> Hard Disk: Select “Use an existing virtual hard disk file” and choose the Debian .vdi file you just unpacked.</div>
</li>
<li class="level1"><div class="li"> Click Create</div>
</li>
<li class="level1"><div class="li"> Right click on the OpenWrtDev image and click Settings</div>
</li>
<li class="level1"><div class="li"> Select General, Advanced, Shared Clipboard: Bidirectional</div>
</li>
<li class="level1"><div class="li"> Select Shared Folders</div>
</li>
<li class="level1"><div class="li"> Right click Machine Folders and select Add Shared Folder</div>
</li>
<li class="level1"><div class="li"> Folder path: Click the down arrow, select Other and then the folder you want to share with the virtual Debian machine (for transferring the firmware).</div>
</li>
<li class="level1"><div class="li"> Folder Name: Shared</div>
</li>
<li class="level1"><div class="li"> Select Auto-mount</div>
</li>
</ol>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;3. Install the virtual machine&quot;,&quot;hid&quot;:&quot;install_the_virtual_machine&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:5,&quot;range&quot;:&quot;675-1522&quot;} -->
<h3 class="sectionedit6" id="initial_debian_setup">4. Initial Debian setup</h3>
<div class="level3">
<ol>
<li class="level1"><div class="li"> Select the OpenWrtDev image and click Start</div>
</li>
<li class="level1"><div class="li"> Wait for it to finish booting and click osboxes.org</div>
</li>
<li class="level1"><div class="li"> Password: osboxes.org</div>
</li>
<li class="level1"><div class="li"> Click Activities, type term in the search field and click terminal</div>
</li>
</ol>

<p>
The interface for changing the keyboard is a bit weird, but you can find the correct place like this:
</p>
<ol>
<li class="level1"><div class="li"> Click Activites, type reg, click Region &amp; Language</div>
</li>
<li class="level1"><div class="li"> Click + under Input Sources and then the vertical dots</div>
</li>
<li class="level1"><div class="li"> Click Other, select the language and click Add. You can now delete English.</div>
</li>
</ol>

<p>
From now on, whenever you should be in the terminal to type a command the syntax will look like this:
</p>
<pre class="code bash"><span class="kw2">ls</span> <span class="re5">-l</span></pre>

<p>
This means you should type <code>ls -l</code> and press enter (try it).
</p>

<p>
Follow up questions with obvious answers like typing the passsword (osboxes.org) og confirming with y will not be included specifically in this guide.
Cut and paste will unfortunately not work at this moment.
</p>
<pre class="code bash"><span class="kw2">su</span> -
<span class="kw2">nano</span> <span class="sy0">/</span>etc<span class="sy0">/</span>apt<span class="sy0">/</span>sources.list</pre>

<p>
You are now editing the list of servers to get updates from.
</p>
<ul>
<li class="level1"><div class="li"> Delete the lines containing “deb cdrom”. Lines can be deleted with ctrl-k.</div>
</li>
<li class="level1"><div class="li"> From the last two lines, remove the leading # and space, and the -updates after bullseye. They should now look like this:</div>
</li>
</ul>
<pre class="code">deb http://deb.debian.org/debian/ bullseye main contrib
deb-src http://deb.debian.org/debian/ bullseye main contrib</pre>
<ul>
<li class="level1"><div class="li"> Type ctrl-x and then y and then enter to save and exit.</div>
</li>
</ul>
<pre class="code bash"><span class="kw2">su</span> - 
apt update
apt dist-upgrade
apt <span class="kw2">install</span> linux-headers-amd64 <span class="kw2">make</span> <span class="kw2">sudo</span>
reboot</pre>

<p>
Log in and open the terminal again when it has rebooted.
</p>

<p>
Click Devices (top line), select the last option (Install Guest Additions).
The automatic install does not seem to work, so it doesn&#039;t matter if you select cancel or run.
</p>
<pre class="code bash"><span class="kw2">su</span> -
<span class="kw2">sh</span> <span class="sy0">/</span>media<span class="sy0">/</span>cdrom<span class="sy0">/</span>VBoxLinuxAdditions.run</pre>

<p>
Finally, allow osboxes to use sudo (takes effect next time osboxes logs in).
</p>
<pre class="code bash">adduser osboxes <span class="kw2">sudo</span></pre>

<p>
After this you will need to start the machine again.
</p>

<p>
Now you can change to a higher resolution so you get a larger window if you like:
</p>
<ol>
<li class="level1"><div class="li"> Click Activities, type disp in the search field.</div>
</li>
<li class="level1"><div class="li"> Click Displays, VBX</div>
</li>
<li class="level1"><div class="li"> Select a different resolution</div>
</li>
</ol>

<p>
Your virtual Debian machine should now be set up correctly for following the rest of the guide.
Congratulations.
As a bonus, you now have a fully functional Linux computer that you can use for anything, and with the added safety of running it as a virtual machine.
If you let the resolution match your monitor and select View/Full-screen mode there is almost no difference from a standalone Linux computer.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;4. Initial Debian setup&quot;,&quot;hid&quot;:&quot;initial_debian_setup&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:6,&quot;range&quot;:&quot;1523-&quot;} -->