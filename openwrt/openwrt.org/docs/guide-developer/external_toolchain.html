
<h1 class="sectionedit1" id="external_toolchain">External Toolchain</h1>
<div class="level1">

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;External Toolchain&quot;,&quot;hid&quot;:&quot;external_toolchain&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:1,&quot;range&quot;:&quot;1-34&quot;} -->
<h2 class="sectionedit2" id="use_openwrt_as_external_toolchain">Use OpenWrt as External Toolchain</h2>
<div class="level2">

<p>
Using an external toolchain reduce build time when starting with a cleaned-up source tree. Useful when using an automated build system like Hudson/Tinderbox. <br/>

</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Use OpenWrt as External Toolchain&quot;,&quot;hid&quot;:&quot;use_openwrt_as_external_toolchain&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:2,&quot;range&quot;:&quot;35-244&quot;} -->
<h3 class="sectionedit3" id="step_1build_toolchain">Step 1: Build Toolchain</h3>
<div class="level3">

<p>
Just do the same as everytime you (re)compile OpenWrt. Checkout openwrt repo, set your options in .config and build the whole thing. Only difference you have to select <code>Package the OpenWrt-based Toolchain</code> in the main view of <code>make menuconfig</code>
</p>

<p>
Alternatively you can download precompiled toolchain from openwrt download page by searching for the correct toolchain for your target.
For example if you need precompiled toolchain for openwrt 22.03.0 for target ipq806x/generic <a href="https://downloads.openwrt.org/releases/22.03.0/targets/ipq806x/generic/openwrt-toolchain-22.03.0-ipq806x-generic_gcc-11.2.0_musl_eabi.Linux-x86_64.tar.xz" class="urlextern" title="https://downloads.openwrt.org/releases/22.03.0/targets/ipq806x/generic/openwrt-toolchain-22.03.0-ipq806x-generic_gcc-11.2.0_musl_eabi.Linux-x86_64.tar.xz" rel="ugc nofollow">this is the link to use</a>. 
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Step 1: Build Toolchain&quot;,&quot;hid&quot;:&quot;step_1build_toolchain&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:3,&quot;range&quot;:&quot;245-942&quot;} -->
<h3 class="sectionedit4" id="step_2build_firmware">Step 2: Build Firmware</h3>
<div class="level3">
<ol>
<li class="level1"><div class="li"> Checkout OpenWrt into directory <strong>openwrt</strong></div>
</li>
<li class="level1"><div class="li"> Follow normal instruction for openwrt prereq</div>
</li>
<li class="level1"><div class="li"> Use the utility script to setup your buildroot <pre class="code">   ./scripts/ext-toolchain.sh \
            --toolchain TOOLCHAIN_FILE_LOCATION \
            --config TARGET_NAME (example ipq806x/generic)
  </pre>
</div>
</li>
<li class="level1"><div class="li"> Use your buildroot like a normal one. Edit your config with <code>make menuconfig</code> and run <code>make</code> to compile your image</div>
</li>
</ol>

<p>
If you want to update a .config to use an external toolchain you can use the <code>--overwrite-config</code>. For example:
</p>
<pre class="code">   ./scripts/ext-toolchain.sh \
            --toolchain TOOLCHAIN_FILE_LOCATION \
            --overwrite-config
            --config TARGET_NAME (example ipq806x/generic)</pre>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Step 2: Build Firmware&quot;,&quot;hid&quot;:&quot;step_2build_firmware&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:4,&quot;range&quot;:&quot;943-&quot;} -->