
<h1 class="sectionedit1" id="how_to_create_a_service_release">How to create a service release</h1>
<div class="level1">
<!-- EDIT{&quot;target&quot;:&quot;plugin_wrap_start&quot;,&quot;hid&quot;:&quot;&quot;,&quot;secid&quot;:2,&quot;range&quot;:&quot;0-&quot;} --><div class="wrap_round wrap_info plugin_wrap" style="width: 30%;">
<p>
See also <a href="/docs/guide-developer/releases/release-process" class="wikilink1" title="docs:guide-developer:releases:release-process" data-wiki-id="docs:guide-developer:releases:release-process">release-process</a> for more general guidance.
</p>
</div><!-- EDIT{&quot;target&quot;:&quot;plugin_wrap_end&quot;,&quot;hid&quot;:&quot;&quot;,&quot;secid&quot;:3,&quot;range&quot;:&quot;0-&quot;} -->
</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;How to create a service release&quot;,&quot;hid&quot;:&quot;how_to_create_a_service_release&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:1,&quot;range&quot;:&quot;1-163&quot;} -->
<h2 class="sectionedit4" id="prerequisites">0) Prerequisites</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> Fetch maintainer scripts from <a href="https://git.openwrt.org/maintainer-tools.git" class="urlextern" title="https://git.openwrt.org/maintainer-tools.git" rel="ugc nofollow">https://git.openwrt.org/maintainer-tools.git</a></div>
</li>
<li class="level1"><div class="li"> Ensure that GPG and usign keys are published and working according to <a href="https://openwrt.org/docs/guide-user/security/keygen" class="urlextern" title="https://openwrt.org/docs/guide-user/security/keygen" rel="ugc nofollow">https://openwrt.org/docs/guide-user/security/keygen</a></div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;0) Prerequisites&quot;,&quot;hid&quot;:&quot;prerequisites&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:4,&quot;range&quot;:&quot;164-399&quot;} -->
<h2 class="sectionedit5" id="prepare_release_tag">1) Prepare release tag</h2>
<div class="level2">
<ul>
<li class="level1 node"><div class="li"> Fetch pristine source tree, best do a new local clone, e.g. <pre class="code">git clone git@git.openwrt.org:openwrt/openwrt.git
git checkout openwrt-24.10</pre>
</div>
<ul>
<li class="level2"><div class="li"> Replace branch name with appropriate one</div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> Place <code>maketag.sh</code> script from maintainer repo into the clone</div>
</li>
<li class="level1 node"><div class="li"> Execute <code>./maketag.sh -k 818021EBB6C9ECDA -v 24.10.0</code></div>
<ul>
<li class="level2"><div class="li"> Replace key ID and version number with appropriate values</div>
</li>
</ul>
</li>
<li class="level1 node"><div class="li"> Review auto generated commits with <code>git log -p -2</code></div>
<ul>
<li class="level2"><div class="li"> Should show one setting adjustment and one setting revert commit</div>
</li>
</ul>
</li>
<li class="level1 node"><div class="li"> Review auto generated tag with <code>git show v24.10.0</code></div>
<ul>
<li class="level2"><div class="li"> Should show a git tag with associated GPG info and commit references</div>
</li>
<li class="level2"><div class="li"> Replace version number accordingly</div>
</li>
</ul>
</li>
<li class="level1 node"><div class="li"> Compare the files changed automatically with a previous tag</div>
<ul>
<li class="level2"><div class="li"> <code>git diff v24.10.0-rc7 v24.10.0 -- feeds.conf.default include/version.mk package/base-files/image-config.in version version.date</code></div>
</li>
</ul>
</li>
<li class="level1 node"><div class="li"> Check the signature on the tag with <code>git verify-tag  -v v24.10.0</code></div>
<ul>
<li class="level2"><div class="li"> Should show “Good signature from &lt;your name&gt;</div>
</li>
</ul>
</li>
<li class="level1 node"><div class="li"> Push auto generated commits and tag to the remote: <pre class="code">git push origin openwrt-24.10
git push --follow-tags origin refs/tags/v24.10.0:refs/tags/v24.10.0</pre>
</div>
<ul>
<li class="level2"><div class="li"> Replace version numbers and branch name accordingly</div>
</li>
<li class="level2"><div class="li"> Review <a href="https://git.openwrt.org/?p=openwrt/openwrt.git;a=tags" class="urlextern" title="https://git.openwrt.org/?p=openwrt/openwrt.git;a=tags" rel="ugc nofollow">https://git.openwrt.org/?p=openwrt/openwrt.git;a=tags</a></div>
</li>
</ul>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;1) Prepare release tag&quot;,&quot;hid&quot;:&quot;prepare_release_tag&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:5,&quot;range&quot;:&quot;400-1747&quot;} -->
<h2 class="sectionedit6" id="trigger_builds">2) Trigger builds</h2>
<div class="level2">
<ul>
<li class="level1 node"><div class="li"> Log into <a href="https://buildbot.openwrt.org/images/#/builders/119" class="urlextern" title="https://buildbot.openwrt.org/images/#/builders/119" rel="ugc nofollow">https://buildbot.openwrt.org/images/#/builders/119</a></div>
<ul>
<li class="level2"><div class="li"> Use credentials provided by admin</div>
</li>
</ul>
</li>
<li class="level1 node"><div class="li"> Open the “Builds → Builders” page</div>
<ul>
<li class="level2"><div class="li"> Select <code>00_force_build</code> builder</div>
</li>
<li class="level2"><div class="li"> Click on <code>Force builds</code> button at the top of the page</div>
</li>
</ul>
</li>
<li class="level1 node"><div class="li"> Fill out the form</div>
<ul>
<li class="level2"><div class="li"> Enter your name at <code>Your name</code> input box <img src="/lib/images/smileys/smile.svg" class="icon smiley" alt=":-)" /> </div>
</li>
<li class="level2"><div class="li"> Enter for example “Trigger release builds” as reason</div>
</li>
<li class="level2"><div class="li"> Select Git tag you want to build from <code>Build tag</code> list</div>
</li>
<li class="level2"><div class="li"> Click “Force Build”</div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> Review buildbot activity in waterfall view</div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;2) Trigger builds&quot;,&quot;hid&quot;:&quot;trigger_builds&quot;,&quot;codeblockOffset&quot;:2,&quot;secid&quot;:6,&quot;range&quot;:&quot;1748-2295&quot;} -->
<h2 class="sectionedit7" id="create_changelogs">3) Create changelogs</h2>
<div class="level2">
<ul>
<li class="level1 node"><div class="li"> Copy <code>make-changelog.pl</code> from maintainer repo into the local clone</div>
<ul>
<li class="level2"><div class="li"> The script needs the perl module JSON.pm, install <code>libjson-perl</code> and <code>libtext-csv-perl</code> on Debian</div>
</li>
</ul>
</li>
<li class="level1 node"><div class="li"> Execute <code>./make-changelog.pl v24.10.0..v24.10.1</code></div>
<ul>
<li class="level2"><div class="li"> Replace version numbers accordingly</div>
</li>
<li class="level2"><div class="li"> Revision range should cover all commits since last release</div>
</li>
<li class="level2"><div class="li"> Suggest to redirect stdout to a file</div>
</li>
</ul>
</li>
<li class="level1 node"><div class="li"> Copy resulting change log into <a href="https://openwrt.org/releases/24.10/changelog-24.10.0" class="urlextern" title="https://openwrt.org/releases/24.10/changelog-24.10.0" rel="ugc nofollow">https://openwrt.org/releases/24.10/changelog-24.10.0</a></div>
<ul>
<li class="level2"><div class="li"> Replace base and minor versions accordingly</div>
</li>
<li class="level2"><div class="li"> Take care to preserve the first introductory paragraph in the wiki pages</div>
</li>
<li class="level2"><div class="li"> Ideally use a prior change log page as template</div>
</li>
</ul>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;3) Create changelogs&quot;,&quot;hid&quot;:&quot;create_changelogs&quot;,&quot;codeblockOffset&quot;:2,&quot;secid&quot;:7,&quot;range&quot;:&quot;2296-2987&quot;} -->
<h2 class="sectionedit8" id="update_release_information_page">4) Update release information page</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> Once the release builds are finished and uploaded to <a href="https://downloads.openwrt.org/releases/24.10.0/targets/" class="urlextern" title="https://downloads.openwrt.org/releases/24.10.0/targets/" rel="ugc nofollow">https://downloads.openwrt.org/releases/24.10.0/targets/</a> ...</div>
</li>
<li class="level1 node"><div class="li"> ... head to release series parent page at <a href="https://openwrt.org/releases/24.10/start" class="urlextern" title="https://openwrt.org/releases/24.10/start" rel="ugc nofollow">https://openwrt.org/releases/24.10/start</a></div>
<ul>
<li class="level2"><div class="li"> Replace base version accordingly if needed</div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> Update timeline and latest version number, links etc. to point to the latest release</div>
</li>
<li class="level1 node"><div class="li"> Start preparing release notes at <a href="https://openwrt.org/releases/24.10/notes-24.10.0" class="urlextern" title="https://openwrt.org/releases/24.10/notes-24.10.0" rel="ugc nofollow">https://openwrt.org/releases/24.10/notes-24.10.0</a></div>
<ul>
<li class="level2"><div class="li"> Replace version accordingly</div>
</li>
<li class="level2"><div class="li"> Mention most important changes since last release</div>
</li>
<li class="level2"><div class="li"> Use old release note pages as template</div>
</li>
<li class="level2"><div class="li"> Good technique is to skim through detailed change log and taking note of outstanding commits or series of commits</div>
</li>
<li class="level2"><div class="li"> Add redirect for ToH <a href="/wiki/internal/toh_maintenance#add_new_release" class="wikilink1" title="wiki:internal:toh_maintenance" data-wiki-id="wiki:internal:toh_maintenance">toh_maintenance</a></div>
</li>
</ul>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;4) Update release information page&quot;,&quot;hid&quot;:&quot;update_release_information_page&quot;,&quot;codeblockOffset&quot;:2,&quot;secid&quot;:8,&quot;range&quot;:&quot;2988-3813&quot;} -->
<h2 class="sectionedit9" id="update_toh_to_new_release">5) Update ToH to new release</h2>
<div class="level2">

<p>
See <a href="/wiki/internal/toh_update_to_new_release" class="wikilink1" title="wiki:internal:toh_update_to_new_release" data-wiki-id="wiki:internal:toh_update_to_new_release">Update ToH to new release</a>
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;5) Update ToH to new release&quot;,&quot;hid&quot;:&quot;update_toh_to_new_release&quot;,&quot;codeblockOffset&quot;:2,&quot;secid&quot;:9,&quot;range&quot;:&quot;3814-3930&quot;} -->
<h2 class="sectionedit10" id="announce">6) Announce</h2>
<div class="level2">
<ul>
<li class="level1 node"><div class="li"> Write an announcement to the mailing lists</div>
<ul>
<li class="level2"><div class="li"> Use <a href="http://lists.infradead.org/pipermail/openwrt-devel/2017-October/009401.html" class="urlextern" title="http://lists.infradead.org/pipermail/openwrt-devel/2017-October/009401.html" rel="ugc nofollow">http://lists.infradead.org/pipermail/openwrt-devel/2017-October/009401.html</a> as template</div>
</li>
</ul>
</li>
<li class="level1 node"><div class="li"> Write an announcement in the forum</div>
<ul>
<li class="level2"><div class="li"> All forum users in the <a href="https://forum.openwrt.org/g" class="urlextern" title="https://forum.openwrt.org/g" rel="ugc nofollow">developer, moderator or admin group</a> can create new topics in this forum category</div>
</li>
<li class="level2"><div class="li"> Use <a href="https://forum.openwrt.org/t/lede-v17-01-4-service-release/7573" class="urlextern" title="https://forum.openwrt.org/t/lede-v17-01-4-service-release/7573" rel="ugc nofollow">https://forum.openwrt.org/t/lede-v17-01-4-service-release/7573</a> as template</div>
</li>
<li class="level2"><div class="li"> “Pin” the topic for 4-8 weeks</div>
</li>
</ul>
</li>
<li class="level1 node"><div class="li"> Update references to the most recent release on the following services:</div>
<ul>
<li class="level2"><div class="li"> Update <abbr title="Internet Relay Chat">IRC</abbr> channel topics (ping rmilecki)</div>
</li>
<li class="level2"><div class="li"> Update <a href="https://sysupgrade.openwrt.org/" class="urlextern" title="https://sysupgrade.openwrt.org/" rel="ugc nofollow">https://sysupgrade.openwrt.org/</a> (ping aparcar)</div>
</li>
<li class="level2"><div class="li"> Update <a href="https://downloads.openwrt.org" class="urlextern" title="https://downloads.openwrt.org" rel="ugc nofollow">https://downloads.openwrt.org</a> page (ping jow)</div>
</li>
</ul>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;6) Announce&quot;,&quot;hid&quot;:&quot;announce&quot;,&quot;codeblockOffset&quot;:2,&quot;secid&quot;:10,&quot;range&quot;:&quot;3931-&quot;} -->