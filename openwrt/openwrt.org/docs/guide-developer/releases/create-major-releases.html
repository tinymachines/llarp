
<h1 class="sectionedit1" id="how_to_create_a_major_release">How to create a major release</h1>
<div class="level1">

<p>
Here is an example how to create the major release 21.02.
</p>
<ol>
<li class="level1"><div class="li"> create a commit to set branch defaults</div>
</li>
<li class="level1"><div class="li"> create branches</div>
</li>
<li class="level1"><div class="li"> create release keys</div>
</li>
<li class="level1"><div class="li"> configure build bots</div>
</li>
</ol>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;How to create a major release&quot;,&quot;hid&quot;:&quot;how_to_create_a_major_release&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:1,&quot;range&quot;:&quot;1-217&quot;} -->
<h2 class="sectionedit2" id="create_a_branch_openwrt-2102">Create a branch openwrt-21.02</h2>
<div class="level2">

<p>
First create the release branch on
</p>
<ul>
<li class="level1"><div class="li"> source.git (main repo)</div>
</li>
<li class="level1"><div class="li"> package.git</div>
</li>
<li class="level1"><div class="li"> routing.git</div>
</li>
<li class="level1"><div class="li"> telephony.git</div>
</li>
<li class="level1"><div class="li"> lucy.git</div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Create a branch openwrt-21.02&quot;,&quot;hid&quot;:&quot;create_a_branch_openwrt-2102&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:2,&quot;range&quot;:&quot;218-388&quot;} -->
<h2 class="sectionedit3" id="create_a_commit_changing_the_defaults">Create a commit changing the defaults</h2>
<div class="level2">

<p>
similiar to <a href="https://git.openwrt.org/?p=openwrt/openwrt.git;a=commit;h=1cd121dd11aadc799b179ebb8600f27621acc84f" class="interwiki iw_commit" title="https://git.openwrt.org/?p=openwrt/openwrt.git;a=commit;h=1cd121dd11aadc799b179ebb8600f27621acc84f">?p=openwrt/openwrt.git;a=commit;h=1cd121dd11aadc799b179ebb8600f27621acc84f</a>
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Create a commit changing the defaults&quot;,&quot;hid&quot;:&quot;create_a_commit_changing_the_defaults&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:3,&quot;range&quot;:&quot;389-538&quot;} -->
<h3 class="sectionedit4" id="feedsconfdefault">feeds.conf.default:</h3>
<div class="level3">

<p>
append the branch as ;21.02. E.g. src-git packages <a href="https://git.openwrt.org/feed/packages.git;openwrt-21.02" class="urlextern" title="https://git.openwrt.org/feed/packages.git;openwrt-21.02" rel="ugc nofollow">https://git.openwrt.org/feed/packages.git;openwrt-21.02</a>
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;feeds.conf.default:&quot;,&quot;hid&quot;:&quot;feedsconfdefault&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:4,&quot;range&quot;:&quot;539-676&quot;} -->
<h3 class="sectionedit5" id="includeversionmk">include/version.mk:</h3>
<div class="level3">
<pre class="code">VERSION_NUMBER = 21.02-SNAPSHOT
VERSION_REPO = &quot;http://downloads.openwrt.org/releases/21.02-SNAPSHOT&quot;</pre>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;include\/version.mk:&quot;,&quot;hid&quot;:&quot;includeversionmk&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:5,&quot;range&quot;:&quot;677-813&quot;} -->
<h3 class="sectionedit6" id="packagebase-filesimage-configin">package/base-files/image-config.in</h3>
<div class="level3">
<pre class="code">VERSION_REPO:
  default: http://downloads.openwrt.org/releases/21.02-SNAPSHOT</pre>

<p>
TODO: put this patching step into maketag.sh (<a href="https://github.com/KanjiMonster/maintainer-tools" class="urlextern" title="https://github.com/KanjiMonster/maintainer-tools" rel="ugc nofollow">https://github.com/KanjiMonster/maintainer-tools</a>)
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;package\/base-files\/image-config.in&quot;,&quot;hid&quot;:&quot;packagebase-filesimage-configin&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:6,&quot;range&quot;:&quot;814-&quot;} -->