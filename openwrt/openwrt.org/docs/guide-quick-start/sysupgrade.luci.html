
<h1 class="sectionedit1" id="upgrading_openwrt_firmware_using_luci">Upgrading OpenWrt firmware using LuCI</h1>
<div class="level1">
<!-- EDIT{&quot;target&quot;:&quot;plugin_wrap_start&quot;,&quot;hid&quot;:&quot;&quot;,&quot;secid&quot;:2,&quot;range&quot;:&quot;0-&quot;} --><div class="wrap_round wrap_info plugin_wrap" style="width: 100%;">
<p>
Note that this article describes the basic upgrade process, for which more modern tools may better suit your needs.  LuCI Attended Sysupgrade (or its command line alternative <code>auc</code>) combines the upgrade process described below with creation of a custom image containing any extra packages that you have installed, often streamlining the upgrade process considerably.<br/>

<br/>

For more, see <a href="/docs/guide-user/installation/attended.sysupgrade" class="wikilink1" title="docs:guide-user:installation:attended.sysupgrade" data-wiki-id="docs:guide-user:installation:attended.sysupgrade">Upgrade using Attended Sysupgrade</a>.
</p>
</div><!-- EDIT{&quot;target&quot;:&quot;plugin_wrap_end&quot;,&quot;hid&quot;:&quot;&quot;,&quot;secid&quot;:3,&quot;range&quot;:&quot;0-&quot;} -->
<p>
Your device must already have an older OpenWrt firmware installed, to be eligible for this “sysupgrade” procedure.
</p>
<ul>
<li class="level1"><div class="li"> Alternatively refer to the <a href="/docs/guide-quick-start/factory_installation" class="wikilink1" title="docs:guide-quick-start:factory_installation" data-wiki-id="docs:guide-quick-start:factory_installation">factory installation</a> howto, to install OpenWrt on a device that still has vendor factory firmware on it.</div>
</li>
<li class="level1"><div class="li"> If your current OpenWrt installation does not have web interface installed or if you prefer to upgrade from the command line (upgrade from command line provides more fine-grained control), refer to <a href="/docs/guide-user/installation/sysupgrade.cli" class="wikilink1" title="docs:guide-user:installation:sysupgrade.cli" data-wiki-id="docs:guide-user:installation:sysupgrade.cli">Upgrading OpenWrt firmware using CLI</a>. </div>
</li>
<li class="level1"><div class="li"> If you have any questions about this description, ask for help on the <a href="https://forum.openwrt.org/c/installation" class="urlextern" title="https://forum.openwrt.org/c/installation" rel="ugc nofollow">Installing and Using OpenWrt forum section</a> before beginning.</div>
</li>
<li class="level1"><div class="li"> Be aware of major config <a href="/docs/guide-quick-start/admingui_sysupgrade_keepsettings#upgrade_compatibility" class="wikilink1" title="docs:guide-quick-start:admingui_sysupgrade_keepsettings" data-wiki-id="docs:guide-quick-start:admingui_sysupgrade_keepsettings">incompatibilities</a> and version compatibility.</div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Upgrading OpenWrt firmware using LuCI&quot;,&quot;hid&quot;:&quot;upgrading_openwrt_firmware_using_luci&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:1,&quot;range&quot;:&quot;1-1486&quot;} -->
<h2 class="sectionedit4" id="back_up_openwrt_configuration">Back up OpenWrt configuration</h2>
<div class="level2">

</div>
<!-- EDIT{&quot;target&quot;:&quot;plugin_include_start&quot;,&quot;name&quot;:&quot;docs:guide-user:installation:sysupgrade.cli&quot;,&quot;hid&quot;:&quot;&quot;,&quot;secid&quot;:5,&quot;range&quot;:&quot;0-&quot;} --><div class="plugin_include_content plugin_include__docs:guide-user:installation:sysupgrade.cli">
<div class="level2">

<p>
Follow <a href="/docs/guide-user/troubleshooting/backup_restore" class="wikilink1" title="docs:guide-user:troubleshooting:backup_restore" data-wiki-id="docs:guide-user:troubleshooting:backup_restore">Backup and restore</a>, or skip this section if you do not want to preserve existing configuration.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;plugin_include_end&quot;,&quot;name&quot;:&quot;docs:guide-user:installation:sysupgrade.cli&quot;,&quot;hid&quot;:&quot;&quot;,&quot;secid&quot;:6,&quot;range&quot;:&quot;0-&quot;} --></div>
<div class="level2">

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Back up OpenWrt configuration&quot;,&quot;hid&quot;:&quot;back_up_openwrt_configuration&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:4,&quot;range&quot;:&quot;1487-1646&quot;} -->
<h2 class="sectionedit7" id="locate_and_download_the_openwrt_firmware">Locate and download the OpenWrt firmware</h2>
<div class="level2">
<ol>
<li class="level1"><div class="li"> On the <a href="/toh/views/toh_fwdownload" class="wikilink1" title="toh:views:toh_fwdownload" data-wiki-id="toh:views:toh_fwdownload">Table of Hardware: Firmware downloads</a> page, locate your specific device.</div>
</li>
<li class="level1"><div class="li"> Download the sysupgrade file. <strong>Please note that not all devices do have a firmware image called sysupgrade.bin.</strong></div>
</li>
</ol>

<p>
Troubleshooting:
</p>
<ul>
<li class="level1"><div class="li"> <strong>Some devices lack a sysupgrade image</strong> and require a special (and usually a bit more complex) installation procedure that is device-specific. This tutorial won&#039;t apply for such devices. Instead <strong>follow the custom installation description on the corresponding device page</strong> in the OpenWrt wiki.</div>
</li>
<li class="level1"><div class="li"> If you don&#039;t find your device in the Table of Hardware or Device Pages/Techdata pages, you can also try <a href="/docs/guide-quick-start/alternate-directory-search" class="wikilink1" title="docs:guide-quick-start:alternate-directory-search" data-wiki-id="docs:guide-quick-start:alternate-directory-search">alternative ways to find OpenWrt firmware images.</a></div>
</li>
<li class="level1"><div class="li"> If you have accidentally browsed the generic OpenWrt download folders to locate your device, you might see some more download files matching your device.</div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Locate and download the OpenWrt firmware&quot;,&quot;hid&quot;:&quot;locate_and_download_the_openwrt_firmware&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:7,&quot;range&quot;:&quot;1647-2621&quot;} -->
<h2 class="sectionedit8" id="verify_firmware_file_and_flash_the_firmware">Verify firmware file and flash the firmware</h2>
<div class="level2">
<ol>
<li class="level1"><div class="li"> Connect to the device via Ethernet cable (Only use wireless if the device has no Ethernet connection options) </div>
</li>
<li class="level1"><div class="li"> Log into the web interface and in the <strong>System → Backup/Flash Firmware</strong> menu, go to the “Flash new firmware image” section.</div>
</li>
<li class="level1"><div class="li"> <strong>Uncheck</strong>/clear the <strong>“Keep settings”</strong> checkbox especially for major version upgrades, so that new defaults will get applied. Keeping settings may be possible for minor upgrades, but there is always a risk of incompatible settings. (more info regarding the <a href="/docs/guide-quick-start/admingui_sysupgrade_keepsettings" class="wikilink1" title="docs:guide-quick-start:admingui_sysupgrade_keepsettings" data-wiki-id="docs:guide-quick-start:admingui_sysupgrade_keepsettings">&quot;Keep settings&quot; checkbox</a> and its use cases).</div>
</li>
<li class="level1"><div class="li"> Ensure that the OpenWrt firmware file you are about to flash matches your router model and is called <strong>“....sysupgrade.bin”</strong> (the file type varies like .bin .tar.gz etc., but the key is “sysupgrade”), as you will <strong>upgrade</strong> an existing OpenWrt system towards a newer OpenWrt firmware version.</div>
</li>
<li class="level1"><div class="li"> In the <strong>“Flash new firmware image”</strong> section, click <strong>“Choose file”</strong> to select the image file, then click “Flash image...”. This displays a “Flash Firmware - Verify“ page, containing a SHA256 checksum of the image file just uploaded to the router.</div>
</li>
<li class="level1"><div class="li"> <a href="/docs/guide-quick-start/verify_firmware_checksum" class="wikilink1" title="docs:guide-quick-start:verify_firmware_checksum" data-wiki-id="docs:guide-quick-start:verify_firmware_checksum">Check</a> that the firmware-checksum displayed in web interface matches the SHA256 checksum from the OpenWrt download page. If it does not match, do NOT continue, as it is a corrupt file and will likely brick your device.  Note: If you are upgrading from OpenWrt 15.05, the 32 character displayed is an MD5 checksum, not SHA256. Please verify this MD5 checksum on your operating system before proceeding. </div>
</li>
<li class="level1"><div class="li">  If the checksum matches, click “Proceed”. This starts the “System - Flashing ...” along with a spinning wheel and “Waiting for changes to be applied...”</div>
</li>
<li class="level1"><div class="li"> It can take several minutes, while the router uploads the firmware image and write it into its flash ROM and finally reboots. </div>
</li>
<li class="level1"><div class="li"> The new firmware has been installed. Continue with the next section to check the result.</div>
</li>
</ol>

<p>
Troubleshooting:
</p>
<ul>
<li class="level1"><div class="li"> if the checksum process failed, do NOT start flashing, as the download could be corrupt. A corrupt firmware file can brick your device! Instead repeat this howto with another download attempt from the download section.</div>
</li>
<li class="level1"><div class="li"> if the checksum step fails repeatedly, you can consult the <a href="https://forum.openwrt.org/c/installation" class="urlextern" title="https://forum.openwrt.org/c/installation" rel="ugc nofollow">Installing and Using OpenWrt Forum</a> for help. Be sure to include the exact brand, model, and version of your device.</div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Verify firmware file and flash the firmware&quot;,&quot;hid&quot;:&quot;verify_firmware_file_and_flash_the_firmware&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:8,&quot;range&quot;:&quot;2622-5152&quot;} -->
<h2 class="sectionedit9" id="post-upgrade_steps">Post-upgrade steps</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> After your device has finished flashing and rebooting, check if you can access the LuCI web interface (or the <abbr title="Internet Protocol">IP</abbr> that you know of).</div>
</li>
<li class="level1"><div class="li"> See <strong>Post-upgrade steps</strong> in <a href="/docs/guide-user/installation/sysupgrade.cli" class="wikilink1" title="docs:guide-user:installation:sysupgrade.cli" data-wiki-id="docs:guide-user:installation:sysupgrade.cli">Upgrading OpenWrt firmware using CLI</a></div>
</li>
</ul>

<p>
Troubleshooting:
</p>
<ul>
<li class="level1"><div class="li"> If you have flashed a development/snapshot firmware of OpenWrt, you first need to manually enable the web interface: <a href="/docs/guide-quick-start/developmentinstallation" class="wikilink1" title="docs:guide-quick-start:developmentinstallation" data-wiki-id="docs:guide-quick-start:developmentinstallation">development installation guide</a>. Or verify the result by <abbr title="Secure Shell">SSH</abbr>-connecting to your OpenWrt device.</div>
</li>
<li class="level1"><div class="li"> The router may have succeeded, but gotten a different <abbr title="Internet Protocol">IP</abbr> address than you expected. Either scan your local network, check your regular router&#039;s status page (to find out about the <abbr title="Internet Protocol">IP</abbr> address it has assigned to your OpenWrt device) or use <a href="/docs/guide-user/troubleshooting/failsafe_and_factory_reset" class="wikilink1" title="docs:guide-user:troubleshooting:failsafe_and_factory_reset" data-wiki-id="docs:guide-user:troubleshooting:failsafe_and_factory_reset">failsafe mode</a>, to manually reset OpenWrt&#039;s settings (which includes the network settings)</div>
</li>
<li class="level1"><div class="li"> If you have checkmarked the “Keep settings” checkbox in the previous section and the system fails to boot after flashing, you need to consult the <a href="/docs/guide-user/troubleshooting/failsafe_and_factory_reset" class="wikilink1" title="docs:guide-user:troubleshooting:failsafe_and_factory_reset" data-wiki-id="docs:guide-user:troubleshooting:failsafe_and_factory_reset">failsafe mode</a>, to manually reset all settings.</div>
</li>
<li class="level1"><div class="li"> Otherwise you need to start configuring from scratch. In this case, remember to properly <strong>set your country code in the OpenWrt Wi-Fi configuration</strong> again, to comply with your country&#039;s Wi-Fi legal regulation, e.g. see in <a href="/docs/guide-quick-start/basic_wifi" class="wikilink1" title="docs:guide-quick-start:basic_wifi" data-wiki-id="docs:guide-quick-start:basic_wifi">basic Wi-Fi setup</a>.</div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Post-upgrade steps&quot;,&quot;hid&quot;:&quot;post-upgrade_steps&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:9,&quot;range&quot;:&quot;5153-&quot;} -->