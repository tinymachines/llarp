
<h1 class="sectionedit1" id="enabling_a_wi-fi_access_point_on_openwrt">Enabling a Wi-Fi access point on OpenWrt</h1>
<div class="level1">

<p>
Devices with Ethernet ports have Wi-Fi turned off by default for security reasons. This page contains basic settings to enable Wi-Fi.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Enabling a Wi-Fi access point on OpenWrt&quot;,&quot;hid&quot;:&quot;enabling_a_wi-fi_access_point_on_openwrt&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:1,&quot;range&quot;:&quot;1-189&quot;} -->
<h2 class="sectionedit2" id="setup_with_the_web_gui">Setup with the web GUI</h2>
<div class="level2">
<ol>
<li class="level1"><div class="li"> Connect to LuCI at <a href="http://192.168.1.1" class="urlextern" title="http://192.168.1.1" rel="ugc nofollow">http://192.168.1.1</a>, and login with your “root” password.</div>
</li>
<li class="level1"><div class="li"> Go to <strong>Network → Wireless</strong>. This page lists a separate Wi-Fi network for each physical radio (e.g. one for 2.4 <abbr title="Gigahertz">GHz</abbr> and one for 5 <abbr title="Gigahertz">GHz</abbr>).</div>
</li>
<li class="level1 node"><div class="li"> For each Wi-Fi network, click <code>Edit</code> to configure (if not there click <code>Add</code> to create a network):</div>
<ul>
<li class="level3"><div class="li"> In <strong>General Setup</strong>, select the <code>Country Code</code> where your OpenWrt device is used. This is to ensure your Wi-Fi meets local regulations. Note this was formerly in the <strong>Advanced Settings</strong> tab.</div>
</li>
<li class="level3"><div class="li"> In <strong>General Setup</strong>, enter an <code>ESSID</code>, the name for your Wi-Fi network.</div>
</li>
<li class="level3"><div class="li"> In <strong>Wireless Security</strong>, select an <code>Encryption</code> method, “WPA2-PSK” or “WPA3-SAE” is recommended.</div>
</li>
<li class="level3"><div class="li"> In <strong>Wireless Security</strong>, enter a <code>Key</code>, the password devices use to connect to your Wi-Fi network.</div>
</li>
<li class="level3"><div class="li"> As desired, configure any other settings such as a channel and width, KRACK countermeasures, or 802.11r.</div>
</li>
<li class="level3"><div class="li"> Click <code>Save</code> when you&#039;re done with these settings.</div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> Click <code>Save &amp; Apply</code>.</div>
</li>
<li class="level1"><div class="li"> Finally, click <code>Enable</code> on each network you would like to activate.</div>
</li>
</ol>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Setup with the web GUI&quot;,&quot;hid&quot;:&quot;setup_with_the_web_gui&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:2,&quot;range&quot;:&quot;190-1337&quot;} -->
<h2 class="sectionedit3" id="about_the_country_code">About the Country Code</h2>
<div class="level2">

<p>
To comply with your local regulatory laws, the country code for the radios on your device must be set. The default 00 (Rest of the World) country code limits operation to the limited set of channels and transmission power that is allowed anywhere in the world. You will typically have more available channels and higher power levels when you set the country code to your own. Be aware that setting the wrong country code could get you in trouble with local authorities because selecting a channel or transmitting at higher power than is allowed could interfere with other equipment, like radar. You can also interfere with your neighbor&#039;s devices.
</p>

<p>
On Linux based devices, like OpenWrt, the database of regulatory domains comes from the <a href="https://git.kernel.org/pub/scm/linux/kernel/git/wens/wireless-regdb.git/tree/db.txt" class="urlextern" title="https://git.kernel.org/pub/scm/linux/kernel/git/wens/wireless-regdb.git/tree/db.txt" rel="ugc nofollow">wireless-regdb</a>. In there is the list of countries sorted alphabetically by their <a href="https://en.wikipedia.org/wiki/ISO 3166-1 alpha-2" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/ISO 3166-1 alpha-2">ISO 3166-1 alpha-2</a> with allowed frequencies, channel bandwith, and transmission strength (dBm) or power (mW). If you plan to set your country code using the web <abbr title="Graphical User Interface">GUI</abbr>, do that from the dropdown, but if you intend to do it via command line, take note of your <a href="https://en.wikipedia.org/wiki/ISO 3166-1 alpha-2" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/ISO 3166-1 alpha-2">ISO 3166-1 alpha-2</a> code on the link.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;About the Country Code&quot;,&quot;hid&quot;:&quot;about_the_country_code&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:3,&quot;range&quot;:&quot;1338-2588&quot;} -->
<h2 class="sectionedit4" id="troubleshooting">Troubleshooting</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> If you configured 5 <abbr title="Gigahertz">GHz</abbr> Wi-Fi and have just enabled it, but it does not start up immediately, consider the following: If your device supports Wi-Fi channels &gt;100, your OpenWrt device first must scan for weather radar on these channels before you can actually use such channels for Wi-Fi because of <a href="/docs/techref/dfs" class="wikilink1" title="docs:techref:dfs" data-wiki-id="docs:techref:dfs">DFS</a>. This will take 1-10 minutes once after first reboot depending on your Wi-Fi situation and on the number of device-supported channels &gt;100. You may also experience 1 minute delay on each automatic channel change, as the same scan delay is required for regulation compliance.</div>
</li>
<li class="level1"><div class="li"> Network / Wireless / Edit / Interface Configuration / General Setup / Network should be left to the “lan” default or to another interface where there is an active <abbr title="Dynamic Host Configuration Protocol">DHCP</abbr> server. DO NOT select “wan” or “wan6” as that&#039;s the interface for the Internet.</div>
</li>
<li class="level1"><div class="li"> If you are connecting your wireless device to an existing router and simply want to configure it as an access point (aka Dumb <abbr title="Access Point">AP</abbr>) use the <a href="/docs/guide-user/network/wifi/wifiextenders/bridgedap" class="wikilink1" title="docs:guide-user:network:wifi:wifiextenders:bridgedap" data-wiki-id="docs:guide-user:network:wifi:wifiextenders:bridgedap">bridgedap</a> guide.</div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Troubleshooting&quot;,&quot;hid&quot;:&quot;troubleshooting&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:4,&quot;range&quot;:&quot;2589-3679&quot;} -->
<h2 class="sectionedit5" id="using_the_command_line">Using the command line</h2>
<div class="level2">

<p>
This section is not a complete howto on creating a fine tuned Wi-Fi network. It just shows important steps to set the basics for enabling Wi-Fi on the command line and meet the legal regulations of your country:
</p>
<ul>
<li class="level1"><div class="li"> Connect with <abbr title="Secure Shell">SSH</abbr> to your OpenWrt device: <code>$ ssh root@192.168.1.1</code></div>
</li>
<li class="level1"><div class="li"> Execute <code>uci show wireless</code> to see all the wireless configurations and how many Wi-Fi chips (called “radio” in the config) there are on the device. Identify the radio number (0, 1, 2, etc) that are you aiming to configure, e.g., <code>radio0</code>, <code>radio1</code>, <code>radio2</code>.</div>
</li>
<li class="level1"><div class="li"> Execute <code>uci set wireless.radio<strong>N</strong>.country=&#039;XX&#039; </code> to set the country code XX for each (N = 0, 1, 2) radio devices your router may have. Refer to the first section of this page.</div>
</li>
<li class="level1"><div class="li"> Execute <code>uci set wireless.radio<strong>N</strong>.disabled=&#039;0&#039; </code> to enable all the said radio(s).</div>
</li>
<li class="level1"><div class="li"> Commit the changes executing: <code>uci commit wireless</code>.</div>
</li>
<li class="level1"><div class="li"> Reload the wifi interfaces: <code>wifi reload</code>.</div>
</li>
<li class="level1"><div class="li"> Wait a couple of minutes to allow the radio(s) to start and 5 <abbr title="Gigahertz">GHz</abbr> DFS scanning. Enjoy.</div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Using the command line&quot;,&quot;hid&quot;:&quot;using_the_command_line&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:5,&quot;range&quot;:&quot;3680-&quot;} -->