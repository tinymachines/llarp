
<h1 class="sectionedit1" id="internet_connection">Internet connection</h1>
<div class="level1">

<p>
A connection to the Internet can be realized with different <a href="/docs/techref/hardware/internet.access.technologies" class="wikilink1" title="docs:techref:hardware:internet.access.technologies" data-wiki-id="docs:techref:hardware:internet.access.technologies">Internet access technologies</a> implementing diverse protocols:
</p>
<div class="table sectionedit2"><table class="inline">
	<tr class="row0">
		<td class="col0"> <img src="/_media/meta/icons/tango/dialog-information.png" class="media" loading="lazy" alt="" /> </td><td class="col1 leftalign"> <strong><em><code>Note1</code>:</em></strong> – forwarding of <abbr title="Internet Protocol version 4">IPv4</abbr> is already <code>enabled</code> (in file <code><a href="/docs/guide-user/base-system/notuci.config#etcsysctlconf" class="wikilink1" title="docs:guide-user:base-system:notuci.config" data-wiki-id="docs:guide-user:base-system:notuci.config">/etc/sysctl.conf</a></code>)<br/>
<strong><em><code>Note2</code>:</em></strong> – <code><a href="https://en.wikipedia.org/wiki/Network address translation" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/Network address translation">MASQUERADING</a></code> is also already <code>enabled</code> (in file <code><a href="/docs/guide-user/firewall/firewall_configuration" class="wikilink1" title="docs:guide-user:firewall:firewall_configuration" data-wiki-id="docs:guide-user:firewall:firewall_configuration">/etc/config/firewall</a></code>) <br/>
<strong><em><code>Note3</code>:</em></strong> – The <abbr title="Local Area Network">LAN</abbr> and the wireless <a href="/docs/guide-developer/networking/start#network_interfaces" class="wikilink1" title="docs:guide-developer:networking:start" data-wiki-id="docs:guide-developer:networking:start">network interfaces</a> are bridged together<br/>
<strong><em><code>Note4</code>:</em></strong> The <abbr title="Wireless Local Area Network">WLAN</abbr> is <code>disabled</code> by default (in file <code><a href="/docs/guide-user/network/wifi/basic" class="wikilink1" title="docs:guide-user:network:wifi:basic" data-wiki-id="docs:guide-user:network:wifi:basic">/etc/config/wireless</a></code>)  </td>
	</tr>
</table></div>
<!-- EDIT{&quot;target&quot;:&quot;table&quot;,&quot;name&quot;:&quot;&quot;,&quot;hid&quot;:&quot;table&quot;,&quot;secid&quot;:2,&quot;range&quot;:&quot;212-883&quot;} -->
</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Internet connection&quot;,&quot;hid&quot;:&quot;internet_connection&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:1,&quot;range&quot;:&quot;1-884&quot;} -->
<h2 class="sectionedit3" id="general_configuration">General configuration</h2>
<div class="level2">

<p>
The network is configured using the <a href="/docs/guide-user/base-system/uci" class="wikilink1" title="docs:guide-user:base-system:uci" data-wiki-id="docs:guide-user:base-system:uci">uci</a> file <code><a href="/docs/guide-user/network/network_configuration" class="wikilink1" title="docs:guide-user:network:network_configuration" data-wiki-id="docs:guide-user:network:network_configuration">/etc/config/network</a></code>. This file may be edited manually or using the <a href="/docs/guide-user/base-system/uci#command_line_utility" class="wikilink1" title="docs:guide-user:base-system:uci" data-wiki-id="docs:guide-user:base-system:uci">uci command line</a>.
</p>

<p>
See the following sections that pertain to your particular connection requirements:
</p>
<ul>
<li class="level1 node"><div class="li"> <strong>DSL</strong> → <a href="/docs/guide-user/network/wan/wan_interface_protocols#protocol_ppp_ppp_over_modem" class="wikilink1" title="docs:guide-user:network:wan:wan_interface_protocols" data-wiki-id="docs:guide-user:network:wan:wan_interface_protocols">PPP</a> or <a href="/docs/guide-user/network/wan/wan_interface_protocols#protocol_pppoe_ppp_over_ethernet" class="wikilink1" title="docs:guide-user:network:wan:wan_interface_protocols" data-wiki-id="docs:guide-user:network:wan:wan_interface_protocols">PPPoE</a> or <a href="/docs/guide-user/network/wan/wan_interface_protocols#protocol_pppoa_ppp_over_atm_aal5" class="wikilink1" title="docs:guide-user:network:wan:wan_interface_protocols" data-wiki-id="docs:guide-user:network:wan:wan_interface_protocols">PPPoA</a>.</div>
<ul>
<li class="level2"><div class="li"> via built-in modem. Here is an example of a dummy pppoe over atm (most common) configuration, the values that you have to use vary depending on your <abbr title="Internet Service Provider">ISP</abbr>: <pre class="code"># Configure pppoe connection
uci set network.wan.proto=pppoe
uci set network.wan.username=&#039;yougotthisfromyour@isp.su&#039;
uci set network.wan.password=&#039;yourpassword&#039;
# Configure atm bridge
uci set network.atm.encaps=&#039;llc&#039;
uci set network.atm.payload=&#039;bridged&#039;
uci set network.atm.vpi=&#039;8&#039;
uci set network.atm.vci=&#039;32&#039;
# Configure adsl settings
uci set network.adsl.fwannex=&#039;a&#039;
uci set network.adsl.annex=&#039;a2p&#039;
# Save changes
uci commit network
# Restart network service to reflect changes
/etc/init.d/network restart
# Bring up the atm bridge and start it automatically on boot
/etc/init.d/br2684ctl start
/etc/init.d/br2684ctl enable</pre>
</div>
</li>
<li class="level2"><div class="li"> via a modem connected over an Ethernet cable: you could <a href="/docs/guide-user/network/wan/access.modem.through.nat" class="wikilink1" title="docs:guide-user:network:wan:access.modem.through.nat" data-wiki-id="docs:guide-user:network:wan:access.modem.through.nat">access.modem.through.nat</a> (imo uncommon to need to do this), or just log on through it with PPPoE after setting it up: <pre class="code">uci set network.wan.proto=pppoe
uci set network.wan.username=&#039;yougotthisfromyour@isp.su&#039;
uci set network.wan.password=&#039;yourpassword&#039;
uci commit network
ifup wan</pre>

<p>
 One might read more at <a href="/docs/guide-user/network/network_configuration" class="wikilink1" title="docs:guide-user:network:network_configuration" data-wiki-id="docs:guide-user:network:network_configuration">network_configuration</a>
</p>
</div>
</li>
</ul>
</li>
<li class="level1 node"><div class="li"> <strong>DOCSIS</strong> → <a href="/docs/guide-user/network/protocol.dhcp" class="wikilink1" title="docs:guide-user:network:protocol.dhcp" data-wiki-id="docs:guide-user:network:protocol.dhcp">DHCP</a> or <a href="/docs/guide-user/network/protocol.static" class="wikilink1" title="docs:guide-user:network:protocol.static" data-wiki-id="docs:guide-user:network:protocol.static">static IP address</a></div>
<ul>
<li class="level2"><div class="li"> via built-in modem: you can carry out adjustments</div>
</li>
<li class="level2"><div class="li"> via a modem connected over an Ethernet cable: you could <a href="/docs/guide-user/network/wan/access.modem.through.nat" class="wikilink1" title="docs:guide-user:network:wan:access.modem.through.nat" data-wiki-id="docs:guide-user:network:wan:access.modem.through.nat">access.modem.through.nat</a></div>
</li>
</ul>
</li>
<li class="level1 node"><div class="li"> HSDPA/<strong>UMTS</strong>/EDGE/GPRS/GSM → <a href="/docs/guide-user/network/wan/wan_interface_protocols#protocol_3g_ppp_over_ev-do_cdma_umts_or_gprs" class="wikilink1" title="docs:guide-user:network:wan:wan_interface_protocols" data-wiki-id="docs:guide-user:network:wan:wan_interface_protocols">3G</a></div>
<ul>
<li class="level2"><div class="li"> via built-in modem:</div>
</li>
<li class="level2"><div class="li"> via a modem connected over USB (often called a <em>3G dongle</em>):</div>
</li>
</ul>
</li>
<li class="level1 node"><div class="li"> via plain <strong>Ethernet</strong></div>
<ul>
<li class="level2"><div class="li"> <a href="/docs/guide-user/network/protocol.dhcp" class="wikilink1" title="docs:guide-user:network:protocol.dhcp" data-wiki-id="docs:guide-user:network:protocol.dhcp">DHCP</a> (default)</div>
</li>
<li class="level2 node"><div class="li"> <a href="/docs/guide-user/network/protocol.static" class="wikilink1" title="docs:guide-user:network:protocol.static" data-wiki-id="docs:guide-user:network:protocol.static">Static IP</a></div>
<ul>
<li class="level3"><div class="li"> Example configuration commands: <pre class="code">uci set network.wan.proto=static
uci set network.wan.ipaddr=74.125.115.103
uci set network.wan.netmask=255.255.255.0
uci set network.wan.gateway=74.125.115.1
uci set network.wan.dns=&#039;8.8.8.8 8.8.4.4&#039;
uci commit network
ifup wan</pre>
</div>
</li>
</ul>
</li>
<li class="level2"><div class="li"> <a href="/docs/guide-user/services/vpn/start" class="wikilink1" title="docs:guide-user:services:vpn:start" data-wiki-id="docs:guide-user:services:vpn:start">VPN</a></div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> via <a href="/docs/guide-user/network/ipv6_ipv4_transitioning#protocol_l2tp_ppp_over_l2tp_tunnel" class="wikilink1" title="docs:guide-user:network:ipv6_ipv4_transitioning" data-wiki-id="docs:guide-user:network:ipv6_ipv4_transitioning">protocol_l2tp_ppp_over_l2tp_tunnel</a> + <a href="/docs/guide-user/network/wan/connect_by_l2tp" class="wikilink1" title="docs:guide-user:network:wan:connect_by_l2tp" data-wiki-id="docs:guide-user:network:wan:connect_by_l2tp">connect_by_l2tp</a></div>
</li>
<li class="level1"><div class="li"> via <strong>wireless</strong> (one of the 802.11x-standards)</div>
</li>
<li class="level1"><div class="li"> for <strong>multiple connections</strong> to the Internet, you should first make them each working solitary with OpenWrt before trying this: <a href="/docs/guide-user/network/wan/multiwan/multiwan_package" class="wikilink1" title="docs:guide-user:network:wan:multiwan:multiwan_package" data-wiki-id="docs:guide-user:network:wan:multiwan:multiwan_package">MultiWAN</a></div>
</li>
<li class="level1 node"><div class="li"> via <strong><a href="/docs/guide-user/network/wan/smartphone.usb.tethering" class="wikilink1" title="docs:guide-user:network:wan:smartphone.usb.tethering" data-wiki-id="docs:guide-user:network:wan:smartphone.usb.tethering">USB tethering</a></strong> through your smartphone</div>
<ul>
<li class="level2"><div class="li"> <strong><code>Note:</code></strong> The opposite (<em><a href="/docs/guide-user/network/wan/smartphone.usb.reverse.tethering" class="wikilink1" title="docs:guide-user:network:wan:smartphone.usb.reverse.tethering" data-wiki-id="docs:guide-user:network:wan:smartphone.usb.reverse.tethering">USB reverse tethering</a></em> aka <em>USB internet passthrough</em>) is also possible.</div>
</li>
</ul>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;General configuration&quot;,&quot;hid&quot;:&quot;general_configuration&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:3,&quot;range&quot;:&quot;885-4541&quot;} -->
<h2 class="sectionedit4" id="ngnvoip_and_iptv">NGN: VoIP and IPTV</h2>
<div class="level2">

<p>
<a href="https://de.wikipedia.org/wiki/Next-generation network" class="interwiki iw_wpde" title="https://de.wikipedia.org/wiki/Next-generation network">Next-generation network</a> comprises <a href="/docs/guide-user/services/voip/start" class="wikilink1" title="docs:guide-user:services:voip:start" data-wiki-id="docs:guide-user:services:voip:start">VoIP (aka Voice over IP protocol)</a> and <a href="/docs/guide-user/network/wan/udp_multicast" class="wikilink1" title="docs:guide-user:network:wan:udp_multicast" data-wiki-id="docs:guide-user:network:wan:udp_multicast">IPTV / UDP multicast</a> and everything is based on the <a href="https://en.wikipedia.org/wiki/Internet Protocol" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/Internet Protocol">Internet Protocol</a>! These data streams should be separated from the usual data stream and routed to some hardware port where you can grab them with whatever device you wish to use them. If the output does not take place over a standard Ethernet Port, but e.g. over an ISDN- or a <a href="https://en.wikipedia.org/wiki/TAE connector" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/TAE connector">TAE connector</a>, a corresponding signal has to be generated in hardware. This needs Linux support as well.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;NGN: VoIP and IPTV&quot;,&quot;hid&quot;:&quot;ngnvoip_and_iptv&quot;,&quot;codeblockOffset&quot;:3,&quot;secid&quot;:4,&quot;range&quot;:&quot;4542-5189&quot;} -->
<h3 class="sectionedit5" id="da_trick_with_the_vlan_trunking">Da trick with the VLAN trunking</h3>
<div class="level3">

<p>
A trick to make the data packets belonging to the different services easily distinguishable from one another, is the usage of <abbr title="Virtual Local Area Network">VLAN</abbr> trunking. It has to be done on both sides, and you have to utilize the same VIDs as your <abbr title="Internet Service Provider">ISP</abbr> does. So, go learn about VLANs.
</p>

<p>
While you learn about <abbr title="Virtual Local Area Network">VLAN</abbr> and <abbr title="Virtual Local Area Network">VLAN</abbr> trunking it might be helpful to keep in mind, that with <abbr title="Virtual Local Area Network">VLAN</abbr> trunking you send three (respectively two) data services over one line, but want to simulate that you do this over three (respectively two) lines. So you have three virtual ports on the <abbr title="Internet Service Provider">ISP</abbr> side, each sends its packets over its own virtual line, to each its virtual port in your router. Now to get the data OUT of your router, each of the three virtual ports, has to have second port connected to it.
</p>

<p>
So, on your side, you would need six ports and three lines, but you (most likely) have only four ports and one line. So make the one port with the line connected to it, act as if it was three ports with each one separate line connected to it.  That&#039;s it. As easy as eating pancakes or opening a can with an electrical can opener.
</p>
<div class="table sectionedit6"><table class="inline">
	<tr class="row0">
		<td class="col0"> <img src="/_media/meta/icons/tango/48px-dialog-error-round.svg.png" class="media" loading="lazy" alt="" /> </td><td class="col1 leftalign"> <strong><code>Note:</code></strong> If you have <strong><a href="https://en.wikipedia.org/wiki/Triple play (telecommunications)" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/Triple play (telecommunications)">Dual/Triple/Quadruple Play</a></strong> you may find some help here: <a href="/docs/guide-user/network/wan/x.play" class="wikilink1" title="docs:guide-user:network:wan:x.play" data-wiki-id="docs:guide-user:network:wan:x.play">x.play</a>.  </td>
	</tr>
</table></div>
<!-- EDIT{&quot;target&quot;:&quot;table&quot;,&quot;name&quot;:&quot;&quot;,&quot;hid&quot;:&quot;table1&quot;,&quot;secid&quot;:6,&quot;range&quot;:&quot;6319-6552&quot;} -->
</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Da trick with the VLAN trunking&quot;,&quot;hid&quot;:&quot;da_trick_with_the_vlan_trunking&quot;,&quot;codeblockOffset&quot;:3,&quot;secid&quot;:5,&quot;range&quot;:&quot;5190-6553&quot;} -->
<h2 class="sectionedit7" id="ipv6">IPv6</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> →<a href="/docs/guide-user/network/ipv6/configuration" class="wikilink1" title="docs:guide-user:network:ipv6:configuration" data-wiki-id="docs:guide-user:network:ipv6:configuration">configuration</a></div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;IPv6&quot;,&quot;hid&quot;:&quot;ipv6&quot;,&quot;codeblockOffset&quot;:3,&quot;secid&quot;:7,&quot;range&quot;:&quot;6554-6624&quot;} -->
<h2 class="sectionedit8" id="automatic_configuration">Automatic Configuration</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> We do not recommend this: <a href="/doc/howto/user.beginner.lazy" class="wikilink2" title="doc:howto:user.beginner.lazy" rel="nofollow" data-wiki-id="doc:howto:user.beginner.lazy">user.beginner.lazy</a></div>
</li>
</ul>

<p>
Some ISPs offer Information about Settings on <a href="http://www.beusergroup.co.uk/technotes/index.php?title=Main_Page#3rd_Party_Routers" class="urlextern" title="http://www.beusergroup.co.uk/technotes/index.php?title=Main_Page#3rd_Party_Routers" rel="ugc nofollow">3rd_Party_Routers</a>
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Automatic Configuration&quot;,&quot;hid&quot;:&quot;automatic_configuration&quot;,&quot;codeblockOffset&quot;:3,&quot;secid&quot;:8,&quot;range&quot;:&quot;6625-&quot;} -->