
<h1 class="sectionedit1" id="using_multiple_wan_ips">Using multiple WAN IPs</h1>
<div class="level1">

</div>
<!-- EDIT{&quot;target&quot;:&quot;plugin_include_start&quot;,&quot;name&quot;:&quot;meta:infobox:howto_links&quot;,&quot;hid&quot;:&quot;&quot;,&quot;secid&quot;:2,&quot;range&quot;:&quot;0-&quot;} --><div class="plugin_include_content plugin_include__meta:infobox:howto_links">
<div class="level1">
<!-- EDIT{&quot;target&quot;:&quot;plugin_wrap_start&quot;,&quot;hid&quot;:&quot;&quot;,&quot;secid&quot;:4,&quot;range&quot;:&quot;0-&quot;} --><div class="wrap_info plugin_wrap">
<p>
This article relies on the following:
</p>
<ul>
<li class="level1"><div class="li"> Accessing <a href="/docs/guide-quick-start/walkthrough_login" class="wikilink1" title="docs:guide-quick-start:walkthrough_login" data-wiki-id="docs:guide-quick-start:walkthrough_login">web interface</a> / <a href="/docs/guide-quick-start/sshadministration" class="wikilink1" title="docs:guide-quick-start:sshadministration" data-wiki-id="docs:guide-quick-start:sshadministration">command-line interface</a></div>
</li>
<li class="level1"><div class="li"> Managing <a href="/docs/guide-user/base-system/uci" class="wikilink1" title="docs:guide-user:base-system:uci" data-wiki-id="docs:guide-user:base-system:uci">configs</a> / <a href="/docs/guide-user/additional-software/managing_packages" class="wikilink1" title="docs:guide-user:additional-software:managing_packages" data-wiki-id="docs:guide-user:additional-software:managing_packages">packages</a> / <a href="/docs/guide-user/base-system/managing_services" class="wikilink1" title="docs:guide-user:base-system:managing_services" data-wiki-id="docs:guide-user:base-system:managing_services">services</a> / <a href="/docs/guide-user/base-system/log.essentials" class="wikilink1" title="docs:guide-user:base-system:log.essentials" data-wiki-id="docs:guide-user:base-system:log.essentials">logs</a></div>
</li>
</ul>
</div><!-- EDIT{&quot;target&quot;:&quot;plugin_wrap_end&quot;,&quot;hid&quot;:&quot;&quot;,&quot;secid&quot;:5,&quot;range&quot;:&quot;0-&quot;} -->
</div>
<!-- EDIT{&quot;target&quot;:&quot;plugin_include_end&quot;,&quot;name&quot;:&quot;meta:infobox:howto_links&quot;,&quot;hid&quot;:&quot;&quot;,&quot;secid&quot;:3,&quot;range&quot;:&quot;0-&quot;} --></div>
<div class="level1">

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Using multiple WAN IPs&quot;,&quot;hid&quot;:&quot;using_multiple_wan_ips&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:1,&quot;range&quot;:&quot;1-119&quot;} -->
<h2 class="sectionedit6" id="introduction">Introduction</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> Some users get from their <abbr title="Internet Service Provider">ISP</abbr> more than one routable public <abbr title="Internet Protocol">IP</abbr> address.</div>
</li>
<li class="level1"><div class="li"> Assume that the <abbr title="Wide Area Network">WAN</abbr> IPs are <code>100.64.0.2/29</code>, <code>100.64.0.3/29</code>, etc.</div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Introduction&quot;,&quot;hid&quot;:&quot;introduction&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:6,&quot;range&quot;:&quot;120-296&quot;} -->
<h2 class="sectionedit7" id="goals">Goals</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> Utilize multiple <abbr title="Wide Area Network">WAN</abbr> IPs on the same interface.</div>
</li>
<li class="level1"><div class="li"> Use a specific <abbr title="Wide Area Network">WAN</abbr> <abbr title="Internet Protocol">IP</abbr> for a specific <abbr title="Local Area Network">LAN</abbr> host.</div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Goals&quot;,&quot;hid&quot;:&quot;goals&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:7,&quot;range&quot;:&quot;297-418&quot;} -->
<h2 class="sectionedit8" id="command-line_instructions">Command-line instructions</h2>
<div class="level2">

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Command-line instructions&quot;,&quot;hid&quot;:&quot;command-line_instructions&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:8,&quot;range&quot;:&quot;419-456&quot;} -->
<h3 class="sectionedit9" id="network">1. Network</h3>
<div class="level3">

<p>
Create an alias for the <abbr title="Wide Area Network">WAN</abbr> interface.
</p>
<pre class="code bash">uci <span class="re5">-q</span> delete network.wan3
uci <span class="kw1">set</span> network.wan3=<span class="st0">&quot;interface&quot;</span>
uci <span class="kw1">set</span> network.wan3.proto=<span class="st0">&quot;static&quot;</span>
uci <span class="kw1">set</span> network.wan3.device=<span class="st0">&quot;@wan&quot;</span>
uci <span class="kw1">set</span> network.wan3.ipaddr=<span class="st0">&quot;100.64.0.3/29&quot;</span>
uci commit network
service network restart</pre>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;1. Network&quot;,&quot;hid&quot;:&quot;network&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:9,&quot;range&quot;:&quot;457-756&quot;} -->
<h3 class="sectionedit10" id="firewall">2. Firewall</h3>
<div class="level3">

<p>
Configure destination and source <abbr title="Network Address Translation">NAT</abbr> firewall rules.
</p>
<pre class="code bash">uci <span class="re5">-q</span> delete firewall.dnat3
uci <span class="kw1">set</span> firewall.dnat3=<span class="st0">&quot;redirect&quot;</span>
uci <span class="kw1">set</span> firewall.dnat3.name=<span class="st0">&quot;DNAT3&quot;</span>
uci <span class="kw1">set</span> firewall.dnat3.src=<span class="st0">&quot;wan&quot;</span>
uci <span class="kw1">set</span> firewall.dnat3.src_dip=<span class="st0">&quot;100.64.0.3&quot;</span>
uci <span class="kw1">set</span> firewall.dnat3.dest=<span class="st0">&quot;lan&quot;</span>
uci <span class="kw1">set</span> firewall.dnat3.dest_ip=<span class="st0">&quot;192.168.1.3&quot;</span>
uci <span class="kw1">set</span> firewall.dnat3.proto=<span class="st0">&quot;all&quot;</span>
uci <span class="kw1">set</span> firewall.dnat3.target=<span class="st0">&quot;DNAT&quot;</span>
uci <span class="re5">-q</span> delete firewall.snat3
uci <span class="kw1">set</span> firewall.snat3=<span class="st0">&quot;nat&quot;</span>
uci <span class="kw1">set</span> firewall.snat3.name=<span class="st0">&quot;SNAT3&quot;</span>
uci <span class="kw1">set</span> firewall.snat3.src=<span class="st0">&quot;wan&quot;</span>
uci <span class="kw1">set</span> firewall.snat3.src_ip=<span class="st0">&quot;192.168.1.3&quot;</span>
uci <span class="kw1">set</span> firewall.snat3.snat_ip=<span class="st0">&quot;100.64.0.3&quot;</span>
uci <span class="kw1">set</span> firewall.snat3.proto=<span class="st0">&quot;all&quot;</span>
uci <span class="kw1">set</span> firewall.snat3.target=<span class="st0">&quot;SNAT&quot;</span>
uci commit firewall
service firewall restart</pre>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;2. Firewall&quot;,&quot;hid&quot;:&quot;firewall&quot;,&quot;codeblockOffset&quot;:1,&quot;secid&quot;:10,&quot;range&quot;:&quot;757-&quot;} -->