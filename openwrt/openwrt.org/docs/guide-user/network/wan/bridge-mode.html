
<h1 class="sectionedit1" id="bridge_mode">Bridge mode</h1>
<div class="level1">

<p>
See also: <a href="/docs/guide-user/firewall/fw3_configurations/bridge" class="wikilink1" title="docs:guide-user:firewall:fw3_configurations:bridge" data-wiki-id="docs:guide-user:firewall:fw3_configurations:bridge">Bridge firewall</a>
</p>

<p>
This method relies on switching the current modem-router in bridge mode, or by buying a Ethernet modem that supports this mode.
Bridge mode is a special mode of operation where the current gateway/modem acts as a network bridge, forwarding all traffic to a downstream device.
Firewall bridge mode support in OpenWrt is provided by the <a href="/packages/pkgdata/kmod-br-netfilter" class="wikilink1" title="packages:pkgdata:kmod-br-netfilter" data-wiki-id="packages:pkgdata:kmod-br-netfilter">kmod-br-netfilter</a> module.
</p>

<p>
For this to work, the gateway device must be switched to bridge mode from its own interface.
The procedure to do this differs quite dramatically so it&#039;s problematic to write down a tutorial, please follow the device&#039;s manual downloaded from the manufacturer&#039;s support site for your device.
Also asking your <abbr title="Internet Service Provider">ISP</abbr>&#039;s customer support to help you is an option.
In many cases they have a remote connection and can do this configuration change for you (especially useful if you don&#039;t have access to the device).
</p>

<p>
<img src="/lib/images/smileys/exclaim.svg" class="icon smiley" alt=":!:" /> Please note: device manufacturers can call “bridge mode” all sorts of things, like Wi-Fi bridging (using two wireless devices to connect two Ethernet networks) or access point mode, or whatever else.
It is best to specify that you want to switch their device to bridge mode because you bought a new personal router, so that they don&#039;t confuse the two.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Bridge mode&quot;,&quot;hid&quot;:&quot;bridge_mode&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:1,&quot;range&quot;:&quot;1-1354&quot;} -->
<h2 class="sectionedit2" id="half_bridge">Half bridge</h2>
<div class="level2">

<p>
Most common in <abbr title="Internet Service Provider">ISP</abbr>-provided consumer devices is half bridge mode (cheerfully called “bridge mode” by many manufacturers).
In this mode, the device handles authentication (the login/password of your Internet contract) and encapsulation, and it will duplicate the <abbr title="Wide Area Network">WAN</abbr> <abbr title="Internet Protocol">IP</abbr> address from the <abbr title="Internet Service Provider">ISP</abbr> to the downstream device.
More often than not this makes it inaccessible on the local network so the only way to get it back to normal operation is to reset it.
Some devices offer a secondary “management” <abbr title="Internet Protocol">IP</abbr> for this mode that can be used to reach their web interface, check the manual.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Half bridge&quot;,&quot;hid&quot;:&quot;half_bridge&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:2,&quot;range&quot;:&quot;1355-1956&quot;} -->
<h3 class="sectionedit3" id="lte5g_half_bridge">LTE/5G half bridge</h3>
<div class="level3">

<p>
Some vendors like Mikrotik are providing Half Bridge in their LTE/5G modem/routers where the user can set an interface or mac address to “bridge” the <abbr title="Wide Area Network">WAN</abbr> <abbr title="Internet Protocol">IP</abbr> on.
For Mikrotik this feature is called “Passthrough”.
Tested and working on a “LHG LTE kit” device in 12 January 2021.
The device&#039;s management interface becomes inaccessible from the “bridged” router, but can be still accessed from another device in the same subnet.
</p>

<p>
From <a href="https://help.mikrotik.com/docs/display/ROS/LTE#LTE-PassthroughExample" class="urlextern" title="https://help.mikrotik.com/docs/display/ROS/LTE#LTE-PassthroughExample" rel="ugc nofollow">Mikrotik documentation</a>:
Starting from RouterOS v6.41 some LTE interfaces support LTE Passthrough feature where the <abbr title="Internet Protocol">IP</abbr> configuration is applied directly to the client device.
In this case modem firmware is responsible for the <abbr title="Internet Protocol">IP</abbr> configuration and router is used only to configure modem settings - APN, Network Technologies and <abbr title="Internet Protocol">IP</abbr>-Type.
In this configuration the router will not get <abbr title="Internet Protocol">IP</abbr> configuration from the modem.
The LTE Passthrough modem can pass both <abbr title="Internet Protocol version 4">IPv4</abbr> and <abbr title="Internet Protocol version 6">IPv6</abbr> addresses if that is supported by modem.
Some modems support multiple APN where you can pass the traffic from each APN to a specific router interface.
Passthrough will only work for one host.
Router will automatically detect MAC address of the first received packet and use it for the Passthrough.
If there are multiple hosts on the network it is possible to lock the Passthrough to a specific MAC.
On the host on the network where the Passthrough is providing the <abbr title="Internet Protocol">IP</abbr> a <abbr title="Dynamic Host Configuration Protocol">DHCP</abbr>-Client should be enabled on that interface to.
Note, that it will not be possible to connect to the LTE router via public lte ip address or from the host which is used by the passthrough.
It is suggested to create additional connection from the LTE router to the host for configuration purposes.
For example vlan interface between the LTE router and host.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;LTE\/5G half bridge&quot;,&quot;hid&quot;:&quot;lte5g_half_bridge&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:3,&quot;range&quot;:&quot;1957-3790&quot;} -->
<h2 class="sectionedit4" id="full_bridge">Full bridge</h2>
<div class="level2">

<p>
Less common in <abbr title="Internet Service Provider">ISP</abbr>-provided consumer devices is full bridge mode.
In this mode, the device acts as a dumb modem.
All authentication and encapsulation etc happens on the router that is connected to it through a specific protocol, pppoE.
This mode is the one that allows the most control, stability and performance, but usually requires a specialized device (usually an Ethernet modem) that supports this mode, and it&#039;s easier to set up if your <abbr title="Internet Service Provider">ISP</abbr> is using pppoE protocol for their upstream lines.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Full bridge&quot;,&quot;hid&quot;:&quot;full_bridge&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:4,&quot;range&quot;:&quot;3791-4312&quot;} -->
<h3 class="sectionedit5" id="pppoa_and_full_bridge">pppoA and full bridge</h3>
<div class="level3">

<p>
If your <abbr title="Internet Service Provider">ISP</abbr> is using another protocol like pppoA in their upstream infrastructure (it is common in UK and Italy, but also NZ and AU, probably elsewhere too), you can do a full bridge only with specific Ethernet modems that do a pppoA ↔ pppoE conversion.
</p>
<!-- EDIT{&quot;target&quot;:&quot;plugin_wrap_start&quot;,&quot;hid&quot;:&quot;&quot;,&quot;secid&quot;:6,&quot;range&quot;:&quot;0-&quot;} --><div class="wrap_left wrap_round wrap_info plugin_wrap" style="width: 90%;">
<p>
When I looked for these pppoA modems supporting bridge mode for my own home network, I found only <a href="https://www.draytek.co.uk/products/business/vigor-120" class="urlextern" title="https://www.draytek.co.uk/products/business/vigor-120" rel="ugc nofollow">DrayTek Vigor 120</a>
 --- <em><a href="mailto:&#98;&#111;&#98;&#97;&#102;&#101;&#116;&#116;&#104;&#111;&#116;&#109;&#97;&#105;&#108;&#64;&#103;&#109;&#97;&#105;&#108;&#46;&#99;&#111;&#109;" class="mail" title="&#98;&#111;&#98;&#97;&#102;&#101;&#116;&#116;&#104;&#111;&#116;&#109;&#97;&#105;&#108;&#64;&#103;&#109;&#97;&#105;&#108;&#46;&#99;&#111;&#109;">Alberto Bursi</a> 2017/03/10 17:43</em>
</p>

<p>
TP-LINK TD-8816 works fine and is capable to make full bridge from pppoa to pppoe.
Neostrada in Poland on phone line is a pppoa connection and this devices may bridge into pppoe.
VPI and VCI parameters are set up in modem.
Router connected with ethernet cable sees pppoe and does not use VPI/VCI.
 --- <em>Michał Stępień 2020/09/17 12:15</em>
</p>
</div><!-- EDIT{&quot;target&quot;:&quot;plugin_wrap_end&quot;,&quot;hid&quot;:&quot;&quot;,&quot;secid&quot;:7,&quot;range&quot;:&quot;0-&quot;} -->
</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;pppoA and full bridge&quot;,&quot;hid&quot;:&quot;pppoa_and_full_bridge&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:5,&quot;range&quot;:&quot;4313-&quot;} -->