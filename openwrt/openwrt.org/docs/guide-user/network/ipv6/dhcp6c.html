
<h1 class="sectionedit1" id="wide-dhcpv6_client_configuration">WIDE-DHCPv6 client configuration</h1>
<div class="level1">

<p>
The <code>/etc/config/dhcp6c</code> file controls the WIDE-DHCPv6 client package <em>wide-dhcpv6-client</em> configuration.
It defines <em>basic properties</em> and <em>interface settings</em>.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;WIDE-DHCPv6 client configuration&quot;,&quot;hid&quot;:&quot;wide-dhcpv6_client_configuration&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:1,&quot;range&quot;:&quot;1-218&quot;} -->
<h2 class="sectionedit2" id="sections">Sections</h2>
<div class="level2">

<p>
A typical default configuration consists of one <code>dhcp6c</code> section with common settings and one or more <code>interface</code> sections, usually covering the <em>lan</em> and <em>loopback</em> networks.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Sections&quot;,&quot;hid&quot;:&quot;sections&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:2,&quot;range&quot;:&quot;219-424&quot;} -->
<h3 class="sectionedit3" id="basic_properties">Basic Properties</h3>
<div class="level3">

<p>
The section of type <code>dhcp6c</code> named <code>basic</code> defines common client settings.
</p>

<p>
Example:
</p>
<pre class="code bash">config <span class="st_h">'dhcp6c'</span> <span class="st_h">'basic'</span>
        option <span class="st_h">'enabled'</span>              <span class="st_h">'1'</span>
        option <span class="st_h">'interface'</span>            <span class="st_h">'wan'</span>
        option <span class="st_h">'pd'</span>                   <span class="st_h">'1'</span>
        option <span class="st_h">'domain_name_servers'</span>  <span class="st_h">'1'</span>
        option <span class="st_h">'script'</span>               <span class="st_h">'/usr/bin/dhcp6c-state'</span></pre>

<p>
All defined options of this section are listed below.
</p>
<div class="table sectionedit4"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Name </th><th class="col1"> Type </th><th class="col2"> Required </th><th class="col3"> Default </th><th class="col4"> Description </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> <code>enabled</code> </td><td class="col1"> boolean </td><td class="col2"> no </td><td class="col3"> <code>0</code> </td><td class="col4"> Specifies whether the DHCPv6 client should be started on boot </td>
	</tr>
	<tr class="row2">
		<td class="col0"> <code>interface</code> </td><td class="col1"> string </td><td class="col2"> yes </td><td class="col3"> <code>wan</code> </td><td class="col4"> Specifies the <em>logical interface name</em> the client is running on </td>
	</tr>
	<tr class="row3">
		<td class="col0"> <code>dns</code> </td><td class="col1"> string </td><td class="col2"> no </td><td class="col3"> <code>dnsmasq</code> </td><td class="col4"> Specifies the type of <abbr title="Domain Name System">DNS</abbr> server in use to propagate received <abbr title="Domain Name System">DNS</abbr> information. At the time of writing, only <em>dnsmasq</em> is supported </td>
	</tr>
	<tr class="row4">
		<td class="col0"> <code>debug</code> </td><td class="col1"> boolean </td><td class="col2"> no </td><td class="col3"> <code>0</code> </td><td class="col4"> Enables additional debug information in the system log </td>
	</tr>
	<tr class="row5">
		<td class="col0"> <code>pd</code> </td><td class="col1"> boolean </td><td class="col2"> no </td><td class="col3"> <code>1</code> </td><td class="col4"> Requests prefix delegation at the DHCPv6 server </td>
	</tr>
	<tr class="row6">
		<td class="col0"> <code>na</code> </td><td class="col1"> boolean </td><td class="col2"> no </td><td class="col3"> <code>0</code> </td><td class="col4"> Requests a permanent, non temporary address at the DHCPv6 server </td>
	</tr>
	<tr class="row7">
		<td class="col0"> <code>rapid_commit</code> </td><td class="col1"> boolean </td><td class="col2"> no </td><td class="col3"> <code>1</code> </td><td class="col4"> Signalize a rapid commit two message exchange (<a href="http://tools.ietf.org/html/rfc3315#section-22.14" class="urlextern" title="http://tools.ietf.org/html/rfc3315#section-22.14" rel="ugc nofollow">RFC3315</a>) </td>
	</tr>
	<tr class="row8">
		<td class="col0"> <code>domain_name_servers</code> </td><td class="col1"> boolean </td><td class="col2"> no </td><td class="col3"> <code>1</code> </td><td class="col4"> Request a <abbr title="Domain Name System">DNS</abbr> server addresses </td>
	</tr>
	<tr class="row9">
		<td class="col0"> <code>domain_name</code> </td><td class="col1"> boolean </td><td class="col2"> no </td><td class="col3"> <code>0</code> </td><td class="col4"> Request the domain name </td>
	</tr>
	<tr class="row10">
		<td class="col0"> <code>ntp_servers</code> </td><td class="col1"> boolean </td><td class="col2"> no </td><td class="col3"> <code>0</code> </td><td class="col4"> Request <abbr title="Network Time Protocol">NTP</abbr> server addresses (<a href="http://tools.ietf.org/html/rfc5908#section-4.1" class="urlextern" title="http://tools.ietf.org/html/rfc5908#section-4.1" rel="ugc nofollow">RFC5908</a>) </td>
	</tr>
	<tr class="row11">
		<td class="col0"> <code>sip_server_address</code> </td><td class="col1"> boolean </td><td class="col2"> no </td><td class="col3"> <code>0</code> </td><td class="col4"> Request SIP server address (<a href="http://tools.ietf.org/html/rfc3319#section-3" class="urlextern" title="http://tools.ietf.org/html/rfc3319#section-3" rel="ugc nofollow">RFC3319</a>) </td>
	</tr>
	<tr class="row12">
		<td class="col0"> <code>sip_server_domain_name</code> </td><td class="col1"> boolean </td><td class="col2"> no </td><td class="col3"> <code>0</code> </td><td class="col4"> Request SIP domain names (<a href="http://tools.ietf.org/html/rfc3319#section-3.1" class="urlextern" title="http://tools.ietf.org/html/rfc3319#section-3.1" rel="ugc nofollow">RFC3319</a>) </td>
	</tr>
	<tr class="row13">
		<td class="col0"> <code>nis_server_address</code> </td><td class="col1"> boolean </td><td class="col2"> no </td><td class="col3"> <code>0</code> </td><td class="col4"> Request Network Information Service (NIS) server address (<a href="http://tools.ietf.org/html/rfc3898#section-3" class="urlextern" title="http://tools.ietf.org/html/rfc3898#section-3" rel="ugc nofollow">RFC3898</a>) </td>
	</tr>
	<tr class="row14">
		<td class="col0"> <code>nis_domain_name</code> </td><td class="col1"> boolean </td><td class="col2"> no </td><td class="col3"> <code>0</code> </td><td class="col4"> Request Network Information Service (NIS) domain name (<a href="http://tools.ietf.org/html/rfc3898#section-5" class="urlextern" title="http://tools.ietf.org/html/rfc3898#section-5" rel="ugc nofollow">RFC3898</a>) </td>
	</tr>
	<tr class="row15">
		<td class="col0"> <code>nisp_server_address</code> </td><td class="col1"> boolean </td><td class="col2"> no </td><td class="col3"> <code>0</code> </td><td class="col4"> Request Network Information Service V2 (NIS+) server address (<a href="http://tools.ietf.org/html/rfc3898#section-4" class="urlextern" title="http://tools.ietf.org/html/rfc3898#section-4" rel="ugc nofollow">RFC3898</a>) </td>
	</tr>
	<tr class="row16">
		<td class="col0"> <code>nisp_domain_name</code> </td><td class="col1"> boolean </td><td class="col2"> no </td><td class="col3"> <code>0</code> </td><td class="col4"> Request Network Information Service V2 (NIS+) domain name (<a href="http://tools.ietf.org/html/rfc3898#section-6" class="urlextern" title="http://tools.ietf.org/html/rfc3898#section-6" rel="ugc nofollow">RFC3898</a>) </td>
	</tr>
	<tr class="row17">
		<td class="col0"> <code>bcmcs_server_address</code> </td><td class="col1"> boolean </td><td class="col2"> no </td><td class="col3"> <code>0</code> </td><td class="col4"> Request Broadcast and Multicast Control Service (BCMCS) address (<a href="http://tools.ietf.org/html/rfc4280#section-4.4" class="urlextern" title="http://tools.ietf.org/html/rfc4280#section-4.4" rel="ugc nofollow">RFC4280</a>) </td>
	</tr>
	<tr class="row18">
		<td class="col0"> <code>bcmcs_server_domain_name</code> </td><td class="col1"> boolean </td><td class="col2"> no </td><td class="col3"> <code>0</code> </td><td class="col4"> Request Broadcast and Multicast Control Service (BCMCS) domain name (<a href="http://tools.ietf.org/html/rfc4280#section-4.2" class="urlextern" title="http://tools.ietf.org/html/rfc4280#section-4.2" rel="ugc nofollow">RFC4280</a>) </td>
	</tr>
	<tr class="row19">
		<td class="col0"> <code>duid</code> </td><td class="col1"> string </td><td class="col2"> no </td><td class="col3"> <em>(derived from MAC address)</em> </td><td class="col4"> Override the DUID used for DHCPv6 requests. The DUID must be specified as a set of at least 7 colon separated heximal digits, e.g. <code>00:03:00:06:D8:5D:4C:A5:03:F2</code> </td>
	</tr>
	<tr class="row20">
		<td class="col0"> <code>script</code> </td><td class="col1"> file path </td><td class="col2"> no </td><td class="col3"> <code>/usr/bin/dhcp6c-state</code> </td><td class="col4"> Path of script which is executed when a reply is received </td>
	</tr>
</table></div>
<!-- EDIT{&quot;target&quot;:&quot;table&quot;,&quot;name&quot;:&quot;&quot;,&quot;hid&quot;:&quot;table&quot;,&quot;secid&quot;:4,&quot;range&quot;:&quot;874-3698&quot;} -->
</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Basic Properties&quot;,&quot;hid&quot;:&quot;basic_properties&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:3,&quot;range&quot;:&quot;425-3699&quot;} -->
<h3 class="sectionedit5" id="interface_settings">Interface Settings</h3>
<div class="level3">

<p>
Sections of type <code>interface</code> define on which interfaces delegated prefixes are added and how they&#039;re aggregated.
This sections are <em>named</em>, the section name corresponds to the covered <em>logical interface</em>.
</p>

<p>
Example:
</p>
<pre class="code bash">config <span class="st_h">'interface'</span> <span class="st_h">'lan'</span>
        option <span class="st_h">'enabled'</span> <span class="st_h">'1'</span>
        option <span class="st_h">'sla_id'</span>  <span class="st_h">'0'</span>
        option <span class="st_h">'sla_len'</span> <span class="st_h">'8'</span></pre>
<ul>
<li class="level1"><div class="li"> <code>lan</code> specifies that this section belongs to the <abbr title="Local Area Network">LAN</abbr> interface</div>
</li>
<li class="level1"><div class="li"> <code>sla_id 0</code> selects the 1st subnet out of the delegated prefix</div>
</li>
<li class="level1"><div class="li"> <code>sla_len 8</code> defines that the received prefix is expected to be 56 bits in size (<code>64</code> - <code>8</code> = <code>56</code>)</div>
</li>
</ul>

<p>
The valid options of this section are listed blow.
</p>
<div class="table sectionedit6"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Name </th><th class="col1"> Type </th><th class="col2"> Required </th><th class="col3"> Default </th><th class="col4"> Description </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> <code>enabled</code> </td><td class="col1"> boolean </td><td class="col2"> no </td><td class="col3"> <code>0</code> </td><td class="col4"> Specifies whether a prefix should be added on this interface </td>
	</tr>
	<tr class="row2">
		<td class="col0"> <code>sla_id</code> </td><td class="col1"> integer </td><td class="col2"> yes </td><td class="col3"> <em>(none)</em> </td><td class="col4"> Specifies the <em>site level aggregator identifier</em> (selects the subnet out of the delegated prefix) </td>
	</tr>
	<tr class="row3">
		<td class="col0"> <code>sla_len</code> </td><td class="col1"> integer </td><td class="col2"> yes </td><td class="col3"> <em>(none)</em> </td><td class="col4"> Specifies the <em>site level aggregator length</em> which is the difference of 64 and the delegated prefix size, e.g. <code>/64</code> minus <code>/56</code> from <abbr title="Internet Service Provider">ISP</abbr> = <code>8</code> </td>
	</tr>
</table></div>
<!-- EDIT{&quot;target&quot;:&quot;table&quot;,&quot;name&quot;:&quot;&quot;,&quot;hid&quot;:&quot;table1&quot;,&quot;secid&quot;:6,&quot;range&quot;:&quot;4385-4882&quot;} -->
</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Interface Settings&quot;,&quot;hid&quot;:&quot;interface_settings&quot;,&quot;codeblockOffset&quot;:1,&quot;secid&quot;:5,&quot;range&quot;:&quot;3700-4883&quot;} -->
<h2 class="sectionedit7" id="example">Example</h2>
<div class="level2">

<p>
This example requests a <code>/56</code> sized prefix and <abbr title="Domain Name System">DNS</abbr> servers on <code>wan</code> and configures two <code>/64</code> subnets out of the prefix on <code>lan</code> and <code>loopback</code>.
The <code>loopback</code> interface gets the first subnet assigned, <code>lan</code> the second.
</p>
<pre class="code bash">config <span class="st_h">'dhcp6c'</span> <span class="st_h">'basic'</span>
        option <span class="st_h">'enabled'</span>              <span class="st_h">'1'</span>
        option <span class="st_h">'interface'</span>            <span class="st_h">'wan'</span>
        option <span class="st_h">'pd'</span>                   <span class="st_h">'1'</span>
        option <span class="st_h">'domain_name_servers'</span>  <span class="st_h">'1'</span>
        option <span class="st_h">'script'</span>               <span class="st_h">'/usr/bin/dhcp6c-state'</span>
&nbsp;
config <span class="st_h">'interface'</span> <span class="st_h">'loopback'</span>
        option <span class="st_h">'enabled'</span> <span class="st_h">'1'</span>
        option <span class="st_h">'sla_id'</span>  <span class="st_h">'0'</span>
        option <span class="st_h">'sla_len'</span> <span class="st_h">'8'</span>
&nbsp;
config <span class="st_h">'interface'</span> <span class="st_h">'lan'</span>
        option <span class="st_h">'enabled'</span> <span class="st_h">'1'</span>
        option <span class="st_h">'sla_id'</span>  <span class="st_h">'1'</span>
        option <span class="st_h">'sla_len'</span> <span class="st_h">'8'</span></pre>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Example&quot;,&quot;hid&quot;:&quot;example&quot;,&quot;codeblockOffset&quot;:2,&quot;secid&quot;:7,&quot;range&quot;:&quot;4884-&quot;} -->