
<h1 class="sectionedit1" id="ipv6_extras">IPv6 extras</h1>
<div class="level1">

</div>
<!-- EDIT{&quot;target&quot;:&quot;plugin_include_start&quot;,&quot;name&quot;:&quot;meta:infobox:howto_links&quot;,&quot;hid&quot;:&quot;&quot;,&quot;secid&quot;:2,&quot;range&quot;:&quot;0-&quot;} --><div class="plugin_include_content plugin_include__meta:infobox:howto_links">
<div class="level1">
<!-- EDIT{&quot;target&quot;:&quot;plugin_wrap_start&quot;,&quot;hid&quot;:&quot;&quot;,&quot;secid&quot;:4,&quot;range&quot;:&quot;0-&quot;} --><div class="wrap_info plugin_wrap">
<p>
This article relies on the following:
</p>
<ul>
<li class="level1"><div class="li"> Accessing <a href="/docs/guide-quick-start/walkthrough_login" class="wikilink1" title="docs:guide-quick-start:walkthrough_login" data-wiki-id="docs:guide-quick-start:walkthrough_login">web interface</a> / <a href="/docs/guide-quick-start/sshadministration" class="wikilink1" title="docs:guide-quick-start:sshadministration" data-wiki-id="docs:guide-quick-start:sshadministration">command-line interface</a></div>
</li>
<li class="level1"><div class="li"> Managing <a href="/docs/guide-user/base-system/uci" class="wikilink1" title="docs:guide-user:base-system:uci" data-wiki-id="docs:guide-user:base-system:uci">configs</a> / <a href="/docs/guide-user/additional-software/managing_packages" class="wikilink1" title="docs:guide-user:additional-software:managing_packages" data-wiki-id="docs:guide-user:additional-software:managing_packages">packages</a> / <a href="/docs/guide-user/base-system/managing_services" class="wikilink1" title="docs:guide-user:base-system:managing_services" data-wiki-id="docs:guide-user:base-system:managing_services">services</a> / <a href="/docs/guide-user/base-system/log.essentials" class="wikilink1" title="docs:guide-user:base-system:log.essentials" data-wiki-id="docs:guide-user:base-system:log.essentials">logs</a></div>
</li>
</ul>
</div><!-- EDIT{&quot;target&quot;:&quot;plugin_wrap_end&quot;,&quot;hid&quot;:&quot;&quot;,&quot;secid&quot;:5,&quot;range&quot;:&quot;0-&quot;} -->
</div>
<!-- EDIT{&quot;target&quot;:&quot;plugin_include_end&quot;,&quot;name&quot;:&quot;meta:infobox:howto_links&quot;,&quot;hid&quot;:&quot;&quot;,&quot;secid&quot;:3,&quot;range&quot;:&quot;0-&quot;} --></div>
<div class="level1">

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;IPv6 extras&quot;,&quot;hid&quot;:&quot;ipv6_extras&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:1,&quot;range&quot;:&quot;1-108&quot;} -->
<h2 class="sectionedit6" id="introduction">Introduction</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> This how-to describes the most common <a href="https://en.wikipedia.org/wiki/IPv6" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/IPv6">IPv6</a> tuning scenarios adapted for OpenWrt.</div>
</li>
<li class="level1"><div class="li"> Follow <a href="/docs/guide-user/firewall/fw3_configurations/fw3_nat#ipv6_nat" class="wikilink1" title="docs:guide-user:firewall:fw3_configurations:fw3_nat" data-wiki-id="docs:guide-user:firewall:fw3_configurations:fw3_nat">IPv6 NAT or NPT</a> for <abbr title="Network Address Translation">NAT</abbr> setup and <a href="/docs/guide-user/network/ipv6/multicast" class="wikilink1" title="docs:guide-user:network:ipv6:multicast" data-wiki-id="docs:guide-user:network:ipv6:multicast">IPv6 multicast</a> for multicast setup.</div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Introduction&quot;,&quot;hid&quot;:&quot;introduction&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:6,&quot;range&quot;:&quot;109-420&quot;} -->
<h2 class="sectionedit7" id="extras">Extras</h2>
<div class="level2">

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Extras&quot;,&quot;hid&quot;:&quot;extras&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:7,&quot;range&quot;:&quot;421-439&quot;} -->
<h3 class="sectionedit8" id="disabling_gua_prefix">Disabling GUA prefix</h3>
<div class="level3">

<p>
Assign only the ULA prefix on the <abbr title="Local Area Network">LAN</abbr> interface.
</p>
<pre class="code bash">uci <span class="kw1">set</span> network.lan.ip6<span class="re2">class</span>=<span class="st0">&quot;local&quot;</span>
uci commit network
service network restart</pre>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Disabling GUA prefix&quot;,&quot;hid&quot;:&quot;disabling_gua_prefix&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:8,&quot;range&quot;:&quot;440-621&quot;} -->
<h3 class="sectionedit9" id="announcing_ipv6_default_route">Announcing IPv6 default route</h3>
<div class="level3">

<p>
Announce <abbr title="Internet Protocol version 6">IPv6</abbr> default route for clients using the ULA prefix.
</p>
<pre class="code bash">uci <span class="kw1">set</span> dhcp.lan.ra_default=<span class="st0">&quot;1&quot;</span>
uci commit dhcp
service odhcpd restart</pre>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Announcing IPv6 default route&quot;,&quot;hid&quot;:&quot;announcing_ipv6_default_route&quot;,&quot;codeblockOffset&quot;:1,&quot;secid&quot;:9,&quot;range&quot;:&quot;622-816&quot;} -->
<h3 class="sectionedit10" id="using_ipv6_by_default">Using IPv6 by default</h3>
<div class="level3">

<p>
Prefer <abbr title="Internet Protocol version 6">IPv6</abbr> over <abbr title="Internet Protocol version 4">IPv4</abbr> behind NAT66 for the ULA prefix.
Specify an <a href="https://www.iana.org/assignments/ipv6-address-space/ipv6-address-space.xhtml" class="urlextern" title="https://www.iana.org/assignments/ipv6-address-space/ipv6-address-space.xhtml" rel="ugc nofollow">unassigned</a> prefix for ULA.
</p>
<pre class="code bash"><span class="re2">NET_ULA</span>=<span class="st0">&quot;<span class="es4">$(uci get network.globals.ula_prefix)</span>&quot;</span>
uci <span class="kw1">set</span> network.globals.ula_prefix=<span class="st0">&quot;d<span class="es3">${NET_ULA:1}</span>&quot;</span>
uci commit network
service network restart</pre>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Using IPv6 by default&quot;,&quot;hid&quot;:&quot;using_ipv6_by_default&quot;,&quot;codeblockOffset&quot;:2,&quot;secid&quot;:10,&quot;range&quot;:&quot;817-1186&quot;} -->
<h3 class="sectionedit11" id="missing_gua_prefix">Missing GUA prefix</h3>
<div class="level3">

<p>
Suppress warnings about missing GUA prefix.
</p>
<pre class="code bash">uci <span class="kw1">set</span> dhcp.odhcpd.loglevel=<span class="st0">&quot;3&quot;</span>
uci commit dhcp
service odhcpd restart</pre>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Missing GUA prefix&quot;,&quot;hid&quot;:&quot;missing_gua_prefix&quot;,&quot;codeblockOffset&quot;:3,&quot;secid&quot;:11,&quot;range&quot;:&quot;1187-1353&quot;} -->
<h3 class="sectionedit12" id="disabling_ipv6_source_filter">Disabling IPv6 source filter</h3>
<div class="level3">

<p>
Disable <abbr title="Internet Protocol version 6">IPv6</abbr> source filter for setups using <abbr title="Policy Based Routing">PBR</abbr>, <abbr title="Network Address Translation">NAT</abbr> or NPT.
</p>
<pre class="code bash">uci <span class="kw1">set</span> network.wan6.sourcefilter=<span class="st0">&quot;0&quot;</span>
uci commit network
service network restart</pre>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Disabling IPv6 source filter&quot;,&quot;hid&quot;:&quot;disabling_ipv6_source_filter&quot;,&quot;codeblockOffset&quot;:4,&quot;secid&quot;:12,&quot;range&quot;:&quot;1354-&quot;} -->