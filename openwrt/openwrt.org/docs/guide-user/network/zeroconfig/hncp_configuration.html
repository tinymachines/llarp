
<h1 class="sectionedit1" id="the_homenet_control_protocol_hncp">The Homenet Control Protocol (HNCP)</h1>
<div class="level1">
<!-- EDIT{&quot;target&quot;:&quot;plugin_wrap_start&quot;,&quot;hid&quot;:&quot;&quot;,&quot;secid&quot;:2,&quot;range&quot;:&quot;0-&quot;} --><div class="wrap_center wrap_round wrap_todo plugin_wrap" style="width: 60%;"><ul>
<li class="level1"><div class="li"> The Homenet (hnet) protocol and this documentation were last under development in late 2016. It is unknown whether the <code>hncp</code> package works with modern (19.07 and later) versions of OpenWrt.</div>
</li>
<li class="level1"><div class="li"> The Homenet website seems to have gone off the air in 2020. A 2018 version of the site is at <a href="https://web.archive.org/web/20180831161552/http://homewrt.org/start" class="urlextern" title="https://web.archive.org/web/20180831161552/http://homewrt.org/start" rel="ugc nofollow">The Wayback Machine</a></div>
</li>
<li class="level1"><div class="li"> This <a href="https://forum.openwrt.org/t/homenet-hnet-documentation/209" class="urlextern" title="https://forum.openwrt.org/t/homenet-hnet-documentation/209" rel="ugc nofollow">Forum article</a> also describes the state.</div>
</li>
</ul>
</div><!-- EDIT{&quot;target&quot;:&quot;plugin_wrap_end&quot;,&quot;hid&quot;:&quot;&quot;,&quot;secid&quot;:3,&quot;range&quot;:&quot;0-&quot;} -->
<p>
The Homenet Control Protocol (<abbr title="Homenet Control Protocol">HNCP</abbr>) automatically manages <abbr title="Internet Protocol version 4">IPv4</abbr> and <abbr title="Internet Protocol version 6">IPv6</abbr> address assignment, routing, <abbr title="Domain Name System">DNS</abbr>, SD (ZeroConf/mDNS) and border firewalling between multiple routers in a “home network”. It is specified as a set of RFCs to implement a minimalist state synchronization protocol for Homenet routers.<br/>

Read the materials on the <a href="http://www.homewrt.org" class="urlextern" title="http://www.homewrt.org" rel="ugc nofollow">Homenet web site</a>
</p>

<p>
<strong>hnet-full</strong> package installs hnetd to implement <abbr title="Homenet Control Protocol">HNCP</abbr> protocol, there is also <strong>luci-app-hnet</strong>, a luci webgui package to control it.<br/>

<strong>Note:</strong> We strongly recommend you install <code>ipset</code> before installing <code>hnet-full</code>
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;The Homenet Control Protocol (HNCP)&quot;,&quot;hid&quot;:&quot;the_homenet_control_protocol_hncp&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:1,&quot;range&quot;:&quot;1-1191&quot;} -->
<h2 class="sectionedit4" id="protocol_hnet">Protocol &quot;hnet&quot;</h2>
<div class="level2">
<div class="table sectionedit5"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Name </th><th class="col1"> Type </th><th class="col2"> Required </th><th class="col3"> Default </th><th class="col4"> Description </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> <code>mode</code> </td><td class="col1"> string </td><td class="col2"> no </td><td class="col3"> auto </td><td class="col4"> Interface mode. One of external, guest, adhoc or hybrid. </td>
	</tr>
	<tr class="row2">
		<td class="col0"> <code>ip6assign</code> </td><td class="col1"> integer </td><td class="col2"> no </td><td class="col3"> 64 </td><td class="col4"> <abbr title="Internet Protocol version 6">IPv6</abbr>-prefix size to assign to this interface if internal. </td>
	</tr>
	<tr class="row3">
		<td class="col0"> <code>ip4assign</code> </td><td class="col1"> integer </td><td class="col2"> no </td><td class="col3"> 24 </td><td class="col4"> <abbr title="Internet Protocol version 4">IPv4</abbr>-prefix size to assign to this interface if internal. </td>
	</tr>
	<tr class="row4">
		<td class="col0"> <code>dnsname</code> </td><td class="col1"> string </td><td class="col2"> no </td><td class="col3"> &lt;device-name&gt; </td><td class="col4"> <abbr title="Domain Name System">DNS</abbr>-Label to assign to interface. </td>
	</tr>
</table></div>
<!-- EDIT{&quot;target&quot;:&quot;table&quot;,&quot;name&quot;:&quot;&quot;,&quot;hid&quot;:&quot;table&quot;,&quot;secid&quot;:5,&quot;range&quot;:&quot;1220-1641&quot;} -->
</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Protocol \&quot;hnet\&quot;&quot;,&quot;hid&quot;:&quot;protocol_hnet&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:4,&quot;range&quot;:&quot;1192-1643&quot;} -->
<h3 class="sectionedit6" id="tutorials">Tutorials</h3>
<div class="level3">
<ul>
<li class="level1"><div class="li"> <strong>Juliusz Chroboczek&#039;s tutorial:</strong> <a href="https://www.irif.univ-paris-diderot.fr/~jch/software/homenet/howto.html" class="urlextern" title="https://www.irif.univ-paris-diderot.fr/~jch/software/homenet/howto.html" rel="ugc nofollow">https://www.irif.univ-paris-diderot.fr/~jch/software/homenet/howto.html</a></div>
</li>
<li class="level2"><div class="li"> <strong>Tore Anderson&#039;s tutorial:</strong> <a href="https://blog.toreanderson.no/2015/10/11/making-a-homenet-router-out-of-openwrt.html" class="urlextern" title="https://blog.toreanderson.no/2015/10/11/making-a-homenet-router-out-of-openwrt.html" rel="ugc nofollow">https://blog.toreanderson.no/2015/10/11/making-a-homenet-router-out-of-openwrt.html</a></div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Tutorials&quot;,&quot;hid&quot;:&quot;tutorials&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:6,&quot;range&quot;:&quot;1644-1897&quot;} -->
<h3 class="sectionedit7" id="technical_reference">Technical Reference</h3>
<div class="level3">
<ul>
<li class="level1"><div class="li"> <a href="https://tools.ietf.org/html/rfc7368/" class="urlextern" title="https://tools.ietf.org/html/rfc7368/" rel="ugc nofollow">RFC 7368 - IPv6 Home Networking Architecture Principles</a></div>
</li>
<li class="level1"><div class="li"> <a href="https://tools.ietf.org/html/rfc7788" class="urlextern" title="https://tools.ietf.org/html/rfc7788" rel="ugc nofollow">RFC 7788 - Homenet Control Protocol</a></div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Technical Reference&quot;,&quot;hid&quot;:&quot;technical_reference&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:7,&quot;range&quot;:&quot;1898-2110&quot;} -->
<h3 class="sectionedit8" id="other_links">Other Links</h3>
<div class="level3">
<ul>
<li class="level1"><div class="li"> <a href="https://blog.toreanderson.no/2015/10/02/homenet-the-future-of-home-networking.html" class="urlextern" title="https://blog.toreanderson.no/2015/10/02/homenet-the-future-of-home-networking.html" rel="ugc nofollow">Overview of Homenet, and why it&#039;s the future of home networking</a></div>
</li>
<li class="level1"><div class="li"> <a href="http://www.homewrt.org/about/mailinglist" class="urlextern" title="http://www.homewrt.org/about/mailinglist" rel="ugc nofollow">Mailing Lists</a></div>
</li>
<li class="level1"><div class="li"> <a href="https://www.ietf.org/proceedings/89/slides/slides-89-homenet-3.pdf" class="urlextern" title="https://www.ietf.org/proceedings/89/slides/slides-89-homenet-3.pdf" rel="ugc nofollow">Slides from IETF 89 (March 2014)</a></div>
</li>
<li class="level1"><div class="li"> <a href="http://www.homewrt.org/building/downloads" class="urlextern" title="http://www.homewrt.org/building/downloads" rel="ugc nofollow">Links to source code on Homenet wiki</a></div>
</li>
<li class="level1"><div class="li"> <a href="http://www.homewrt.org/building/start" class="urlextern" title="http://www.homewrt.org/building/start" rel="ugc nofollow">Building hnetd from source</a></div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Other Links&quot;,&quot;hid&quot;:&quot;other_links&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:8,&quot;range&quot;:&quot;2111-&quot;} -->