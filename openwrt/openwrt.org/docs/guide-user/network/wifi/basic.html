
<h1 class="sectionedit1" id="wi-fietcconfigwireless">Wi-Fi /etc/config/wireless</h1>
<div class="level1">

<p>
The UCI wireless configuration is located in <code>/etc/config/wireless</code>. Note that if the device has Ethernet ports, wireless is turned <strong>off</strong> by default and using LuCI → Network → Wireless will also write to this file.
</p>

<p>
See also: <a href="/faq/how_do_i_enable_wifi" class="wikilink1" title="faq:how_do_i_enable_wifi" data-wiki-id="faq:how_do_i_enable_wifi">How do I enable Wi-Fi?</a>
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Wi-Fi \/etc\/config\/wireless&quot;,&quot;hid&quot;:&quot;wi-fietcconfigwireless&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:1,&quot;range&quot;:&quot;1-327&quot;} -->
<h2 class="sectionedit2" id="sections">Sections</h2>
<div class="level2">

<p>
A typical wireless config file contains at least a pair of:
</p>
<ul>
<li class="level1"><div class="li"> <em>wifi-device</em> - specifies general radio properties like channel, driver type, and txpower</div>
</li>
<li class="level1"><div class="li"> <em>wifi-iface</em> - defines a wireless network on top of the <em>wifi-device</em></div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Sections&quot;,&quot;hid&quot;:&quot;sections&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:2,&quot;range&quot;:&quot;328-583&quot;} -->
<h2 class="sectionedit3" id="wi-fi_devices">Wi-Fi devices</h2>
<div class="level2">

<p>
The <em>wifi-device</em> refer to physical radio devices present on the system.
The options present in this section describe properties common across all wireless interfaces on this radio device, such as channel or antenna selection.
</p>

<p>
A minimal <em>wifi-device</em> declaration may look like the example below.
Note that identifiers and options may vary for different chipset types or drivers.
</p>
<pre class="code bash">config	wifi-device	<span class="st_h">'wl0'</span>
	option	<span class="kw3">type</span>	<span class="st_h">'broadcom'</span>
	option	channel	<span class="st_h">'6'</span></pre>
<ul>
<li class="level1"><div class="li"> <em>wl0</em> is the <em>internal identifier</em> for the wireless adapter</div>
</li>
<li class="level1"><div class="li"> <em>broadcom</em> specifies the <em>chipset/driver type</em></div>
</li>
<li class="level1"><div class="li"> <em>6</em> is the <a href="https://en.wikipedia.org/wiki/List_of_WLAN_channels" class="urlextern" title="https://en.wikipedia.org/wiki/List_of_WLAN_channels" rel="ugc nofollow">wireless channel</a> the device operates on</div>
</li>
</ul>

<p>
The possible options for device sections are listed in the table below.
Note that not all options are used for all chipset/driver types, refer to the comments for further details.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Wi-Fi devices&quot;,&quot;hid&quot;:&quot;wi-fi_devices&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:3,&quot;range&quot;:&quot;584-1502&quot;} -->
<h3 class="sectionedit4" id="common_options">Common options</h3>
<div class="level3">
<div class="table sectionedit5"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Name </th><th class="col1"> Type </th><th class="col2"> Required </th><th class="col3"> Default </th><th class="col4"> Description </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> <em>type</em> </td><td class="col1"> string </td><td class="col2"> yes </td><td class="col3"> <em>(autodetected)</em> </td><td class="col4"> The <em>type</em> is determined on firstboot during the initial radio device detection - it is usually not required to change it. Used values are <em>broadcom</em> on brcm47xx, or <em>mac80211</em> for all other platforms </td>
	</tr>
	<tr class="row2">
		<td class="col0"> <em>phy</em> </td><td class="col1"> string </td><td class="col2"> no/yes </td><td class="col3"> <em>(autodetected)</em> </td><td class="col4"> Specifies the radio phy associated to this section. If present, it is usually autodetected and should not be changed. </td>
	</tr>
	<tr class="row3">
		<td class="col0"> <em>macaddr</em> </td><td class="col1"> MAC address </td><td class="col2"> yes/no </td><td class="col3"> <em>(autodetected)</em> </td><td class="col4"> Specifies the radio adapter associated to this section, it is <em>not</em> used to change the device mac but to identify the underlying interface. </td>
	</tr>
	<tr class="row4">
		<td class="col0"> <em>disabled</em> </td><td class="col1"> boolean </td><td class="col2"> no </td><td class="col3"> <em>0</em> </td><td class="col4"> Disables the radio adapter if set to <em>1</em>. Removing this option or setting it to <em>0</em> will enable the adapter </td>
	</tr>
	<tr class="row5">
		<td class="col0"> <em>channel</em> </td><td class="col1"> integer or “auto”</td><td class="col2"> yes </td><td class="col3"> <em>auto</em> </td><td class="col4"> Specifies the wireless channel. “auto” defaults to the lowest available channel, or <a href="https://forum.openwrt.org/t/wi-fi-channel-auto-selection/47776/8" class="urlextern" title="https://forum.openwrt.org/t/wi-fi-channel-auto-selection/47776/8" rel="ugc nofollow">utilizes the ACS algorithm</a> depending on hardware/driver support. </td>
	</tr>
	<tr class="row6">
		<td class="col0"> <em>channels</em> </td><td class="col1"> list</td><td class="col2"> no </td><td class="col3"> <em>(regulatory domain specific)</em> </td><td class="col4"> Use specific channels, when channel is in “auto” mode. This option allows hostapd to select one of the provided channels when a channel should be automatically selected. Channels can be provided as range using hyphen (&#039;-&#039;) or individual channels can be specified by space (&#039; &#039;) separated values. </td>
	</tr>
	<tr class="row7">
		<td class="col0"> <em>hwmode</em> </td><td class="col1"> string </td><td class="col2"> no </td><td class="col3"> <em>(driver default)</em> </td><td class="col4"> Specifies the hardware mode, possible values are <em>11b</em> for 2.4 <abbr title="Gigahertz">GHz</abbr> (used for legacy 802.11b only), <em>11g</em> for 2.4 <abbr title="Gigahertz">GHz</abbr> (used for 802.11b, 802.11g and 802.11n) and <em>11a</em> for 5 <abbr title="Gigahertz">GHz</abbr> (used for 802.11a, 802.11n and 802.11ac). Note that 11ng, 11na, 11n and 11ac are invalid options, this setting should largely be seen as controlling the frequency band. (<strong>DEPRECATED</strong> since 21.02.2, replaced with <em>band</em>) </td>
	</tr>
	<tr class="row8">
		<td class="col0"> <em>band</em> </td><td class="col1"> string </td><td class="col2"> no </td><td class="col3"> <em>(driver default)</em> </td><td class="col4"> Specifies the band, possible values are <em>2g</em> for 2.4 <abbr title="Gigahertz">GHz</abbr>, <em>5g</em> for 5 <abbr title="Gigahertz">GHz</abbr>, <em>6g</em> for 6 <abbr title="Gigahertz">GHz</abbr> and <em>60g</em> for 60 <abbr title="Gigahertz">GHz</abbr>. (<strong>NEW</strong> since 21.02.2, replaces <em>hwmode</em>) </td>
	</tr>
	<tr class="row9">
		<td class="col0"> <em>htmode</em> </td><td class="col1"> string </td><td class="col2"> no </td><td class="col3"> <em>(driver default)</em> </td><td class="col4 leftalign"> Specifies the high throughput mode, used to control 802.11n (HT), 802.11ac (VHT) and 802.11ax (HE). The channel width used for these depends on this configuration. See <a href="/docs/guide-user/network/wifi/basic#htmodewi-fi_channel_width" class="wikilink1" title="docs:guide-user:network:wifi:basic" data-wiki-id="docs:guide-user:network:wifi:basic">this section</a> for details. Possible values are: <em>HT20</em>, <em>HT40-</em>, <em>HT40+</em>, <em>HT40</em>, or <em>VHT20</em>, <em>VHT40</em>, <em>VHT80</em>, <em>VHT160</em>, <em>NOHT</em> disables 11n and 11ac, HE20, HE40, HE80, HE160  </td>
	</tr>
	<tr class="row10">
		<td class="col0"> <em>chanbw</em> </td><td class="col1"> integer </td><td class="col2"> no </td><td class="col3"> 20 </td><td class="col4"> Specifies a narrow channel width in <abbr title="Megahertz">MHz</abbr>, possible values are: <em>5</em>, <em>10</em>, <em>20</em> </td>
	</tr>
	<tr class="row11">
		<td class="col0"> <em>ht_capab</em> </td><td class="col1"> string </td><td class="col2"> no </td><td class="col3"> <em>(driver default)</em> </td><td class="col4"> Specifies the available capabilities of the radio. The values are autodetected. See <a href="http://w1.fi/cgit/hostap/tree/hostapd/hostapd.conf" class="urlextern" title="http://w1.fi/cgit/hostap/tree/hostapd/hostapd.conf" rel="ugc nofollow"> here</a> for options (check vs. the version of hostapd installed on your router using the “refs” link)</td>
	</tr>
	<tr class="row12">
		<td class="col0"> <em>txpower</em> </td><td class="col1"> integer </td><td class="col2"> no </td><td class="col3"> <em>(driver default)</em> </td><td class="col4"> Specifies the maximum desired <em>transmission power in dBm</em>. The actual txpower used depends on regulatory requirements. </td>
	</tr>
	<tr class="row13">
		<td class="col0"> <em>diversity</em> </td><td class="col1"> boolean </td><td class="col2"> no </td><td class="col3"> <em>1</em> </td><td class="col4"> Enables or disables the automatic antenna selection by the driver </td>
	</tr>
	<tr class="row14">
		<td class="col0"> <em>rxantenna</em> </td><td class="col1"> integer </td><td class="col2"> no </td><td class="col3"> <em>(driver default)</em> </td><td class="col4"> Specifies the <em>antenna for receiving</em>, the value may be driver specific, usually it is <em>1</em> for the first and <em>2</em> for the second antenna. Specifying <em>0</em> enables automatic selection by the driver if supported. This option has no effect if diversity is enabled </td>
	</tr>
	<tr class="row15">
		<td class="col0"> <em>txantenna</em> </td><td class="col1"> integer </td><td class="col2"> no </td><td class="col3"> <em>(driver default)</em> </td><td class="col4"> Specifies the <em>antenna for transmitting</em>, values are identical to <em>rxantenna</em> </td>
	</tr>
	<tr class="row16">
		<td class="col0"> <em>country</em> </td><td class="col1"> varies </td><td class="col2"> no </td><td class="col3"> <em>(driver default)</em> </td><td class="col4"> Specifies the country code, affects the available channels and transmission powers. For types <em>mac80211</em> and <em>broadcom</em> a two letter country code is used (<em>EN</em> or <em>DE</em>). The <em>madwifi</em> driver expects a numeric code. </td>
	</tr>
	<tr class="row17">
		<td class="col0"> <em>country_ie</em> </td><td class="col1"> boolean </td><td class="col2"> no </td><td class="col3"> 1 if <em>country</em> is set, otherwise 0</td><td class="col4"> Enables IEEE 802.11d country <abbr title="Internet Explorer">IE</abbr> (information element) advertisement in beacon and probe response frames. This <abbr title="Internet Explorer">IE</abbr> contains the country code and channel/power map. Requires <em>country</em>. </td>
	</tr>
	<tr class="row18">
		<td class="col0"> <em>distance</em> </td><td class="col1"> string </td><td class="col2"> no </td><td class="col3"> <em>(driver default)</em> </td><td class="col4"> Distance between the ap and the furthest client in meters. </td>
	</tr>
	<tr class="row19">
		<td class="col0"> <em>beacon_int</em> </td><td class="col1"> integer </td><td class="col2"> no </td><td class="col3"> <em>100 (hostapd default)</em> </td><td class="col4"> Set the beacon interval. This is the time interval between beacon frames, measured in units of 1.024 ms. hostapd permits this to be set between 15 and 65535. This option has no effect on <em>sta</em> type wifi-ifaces </td>
	</tr>
	<tr class="row20">
		<td class="col0"> <em>legacy_rates</em> </td><td class="col1"> boolean </td><td class="col2"> no </td><td class="col3"> <em>1 in 19.07, 0 in 21.02</em> </td><td class="col4"> 0  = Disallow legacy 802.11b data rates, 1 = Allow legacy 802.11b data rates. Legacy or badly behaving devices may require legacy 802.11b rates to interoperate. Airtime efficiency may be significantly reduced where these are used. It is recommended to not allow 802.11b rates where possible. The basic_rate and supported_rates options overrides this option. </td>
	</tr>
	<tr class="row21">
		<td class="col0"> <em>require_mode</em> </td><td class="col1"> string </td><td class="col2"> no </td><td class="col3"> <em>none</em> </td><td class="col4"> Sets the minimum client capability level mode that connecting clients must support to be allowed to connect. Overrides and sets legacy_rates to 0 to disable legacy 802.11b data rates. Supported values: n = 802.11n, ac = 802.11ac <br/>
<img src="/lib/images/smileys/exclaim.svg" class="icon smiley" alt=":!:" /> Warning: setting this value to “ac” causes reliability problems from Apple devices, even if they actually support 802.11ac or better. </td>
	</tr>
	<tr class="row22">
		<td class="col0"> <em>cell_density</em> </td><td class="col1"> integer </td><td class="col2"> no </td><td class="col3"> <em>0, supported in 21.02</em> </td><td class="col4"> Configures data rates based on the coverage cell density. Normal configures basic rates to 6, 12, 24 Mbps if legacy_rates is 0, else to 5.5, 11 Mbps. High configures basic rates to 12, 24 Mbps if legacy_rates is 0, else to the 11 Mbps rate. Very High configures 24 Mbps as the basic rate. Supported rates lower than the minimum basic rate are not offered. The basic_rate and supported_rates options overrides this option. 0 = Disabled, 1 = Normal, 2 = High, 3 = Very High </td>
	</tr>
	<tr class="row23">
		<td class="col0"> <em>basic_rate</em> </td><td class="col1"> list </td><td class="col2"> no </td><td class="col3"> <em>(hostapd/driver default)</em> </td><td class="col4"> Set the basic data rates. Each basic_rate is measured in kb/s. This option only has an effect on <em>ap</em> and <em>adhoc</em> wifi-ifaces. It is recommended to use the cell_density option instead. </td>
	</tr>
	<tr class="row24">
		<td class="col0"> <em>supported_rates</em> </td><td class="col1"> list </td><td class="col2"> no </td><td class="col3"> <em>(hostapd/driver default)</em> </td><td class="col4"> Set the supported data rates. Each supported rate is measured in kb/s. This option only has an effect on <em>ap</em> and <em>adhoc</em> wifi-ifaces. This must be a superset of the rates set in basic_rate. The minimum basic rate should also be the minimum supported rate.  It is recommended to use the cell_density option instead. </td>
	</tr>
	<tr class="row25">
		<td class="col0"> <em>log_level</em> </td><td class="col1"> integer </td><td class="col2"> no </td><td class="col3"> 2 </td><td class="col4"> Set the log_level. Supported levels are: 0 = Verbose Debugging, 1 = Debugging, 2 = Informational Messages, 3 = Notification, 4 = Warning </td>
	</tr>
	<tr class="row26">
		<td class="col0"> <em>hostapd_options</em> </td><td class="col1"> list </td><td class="col2"> no </td><td class="col3"> <em>none</em> </td><td class="col4"> Pass any custom options to <code>hostapd-*.conf</code>. Values passed <em>as-is</em>. For example, used when setting vendor-specific informational element to <a href="/docs/guide-user/network/wifi/ms-meteredconnection" class="wikilink1" title="docs:guide-user:network:wifi:ms-meteredconnection" data-wiki-id="docs:guide-user:network:wifi:ms-meteredconnection">make Windows clients detect Wi-Fi as metered connection</a> </td>
	</tr>
</table></div>
<!-- EDIT{&quot;target&quot;:&quot;table&quot;,&quot;name&quot;:&quot;&quot;,&quot;hid&quot;:&quot;table&quot;,&quot;secid&quot;:5,&quot;range&quot;:&quot;1528-8723&quot;} -->
</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Common options&quot;,&quot;hid&quot;:&quot;common_options&quot;,&quot;codeblockOffset&quot;:1,&quot;secid&quot;:4,&quot;range&quot;:&quot;1503-8724&quot;} -->
<h3 class="sectionedit6" id="mac80211_options">MAC80211 options</h3>
<div class="level3">
<div class="table sectionedit7"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Name </th><th class="col1"> Type </th><th class="col2"> Required </th><th class="col3"> Default </th><th class="col4"> Description </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> <em>path</em> </td><td class="col1"> string </td><td class="col2"> no </td><td class="col3"> <em>(none)</em> </td><td class="col4"> Alternative to phy used to identify the device based paths in /sys/devices </td>
	</tr>
	<tr class="row2">
		<td class="col0"> <em>htmode</em> </td><td class="col1"> string </td><td class="col2"> no </td><td class="col3"> <em>(driver default)</em> </td><td class="col4"> Specifies the channel width in 802.11n and 802.11ac mode, possible values are:<br/>
HT20 (single 20MHz channel),<br/>
HT40- (2x 20MHz channels, primary/control channel is upper, secondary channel is below),<br/>
HT40+ (2x 20MHz channels, primary/control channel is lower, secondary channel is above),<br/>
HT40 (2x 20Mz channels, auto selection of upper or lower secondary channel on versions 14.07 and above),<br/>
NONE (disables 802.11n rates and enforce the usage of legacy 802.11 b/g/a rates)<br/>
VHT20 / VHT40 / VHT80 / VHT160 (channel width in 802.11ac, extra channels are picked according to the specification)<br/>
HE20 / HE40 / HE80 / HE160 (channel width in 802.11ax)<br/>
See also: <a href="https://forum.archive.openwrt.org/viewtopic.php?id=22742&amp;p=48#p156165" class="urlextern" title="https://forum.archive.openwrt.org/viewtopic.php?id=22742&amp;p=48#p156165" rel="ugc nofollow">Why can&#039;t I use HT40+ with channel 11?</a><br/>
<img src="/lib/images/smileys/exclaim.svg" class="icon smiley" alt=":!:" /> See HT (high throughput) capabilities below for options to customize high-throughput modes </td>
	</tr>
	<tr class="row3">
		<td class="col0"> <em>chanbw</em> </td><td class="col1"> integer </td><td class="col2"> no </td><td class="col3"> 20 </td><td class="col4"> Specifies a narrow channel width, possible values are: 5 (5MHz channel), 10 (10MHz channel) or 20 (20MHz channel).<br/>
<img src="/lib/images/smileys/exclaim.svg" class="icon smiley" alt=":!:" /> Only supported by the ath9k/ath5k driver </td>
	</tr>
	<tr class="row4">
		<td class="col0"> <em>noscan</em> </td><td class="col1"> boolean </td><td class="col2"> no </td><td class="col3"> 0 </td><td class="col4"> Do not scan for overlapping BSSs in HT40+/- mode.<br/>
<img src="/lib/images/smileys/exclaim.svg" class="icon smiley" alt=":!:" /> Turning this on will violate regulatory requirements! </td>
	</tr>
	<tr class="row5">
		<td class="col0"> <em>beacon_int</em> </td><td class="col1"> integer </td><td class="col2"> no </td><td class="col3"> 100 <em>(hostapd default)</em> </td><td class="col4"> Set the beacon interval. This is the time interval between beacon frames, measured in units of 1.024 ms. hostapd permits this to be set between 15 and 65535. This option has no effect on <em>sta</em> type wifi-ifaces. </td>
	</tr>
	<tr class="row6">
		<td class="col0"> <em>basic_rate</em> </td><td class="col1"> list </td><td class="col2"> no </td><td class="col3"> <em>(hostapd/driver default)</em> </td><td class="col4"> Set the supported basic rates. Each basic_rate is measured in kb/s. This option only has an effect on ap and adhoc wifi-ifaces. </td>
	</tr>
	<tr class="row7">
		<td class="col0"> <em>supported_rates</em> </td><td class="col1"> list </td><td class="col2"> no </td><td class="col3"> <em>(hostapd/driver default)</em> </td><td class="col4"> Set the supported rates. Each supported_rates is measured in kb/s. This option only has an effect on ap wifi-ifaces. </td>
	</tr>
	<tr class="row8">
		<td class="col0"> <em>ht_coex</em> </td><td class="col1"> integer </td><td class="col2"> no </td><td class="col3"> 0 </td><td class="col4"> Disable honoring 40 <abbr title="Megahertz">MHz</abbr> intolerance in coexistence flags of stations. When enabled, the radio will <em>not</em> stop using the 40 <abbr title="Megahertz">MHz</abbr> channels if the 40 <abbr title="Megahertz">MHz</abbr> intolerance indication is received from another <abbr title="Access Point">AP</abbr> or station. </td>
	</tr>
	<tr class="row9">
		<td class="col0"> <em>frag</em> </td><td class="col1"> integer </td><td class="col2"> no </td><td class="col3"> <em>(none)</em> </td><td class="col4"> Fragmentation threshold </td>
	</tr>
	<tr class="row10">
		<td class="col0"> <em>rts</em> </td><td class="col1"> integer </td><td class="col2"> no </td><td class="col3"> <em>(driver default)</em> </td><td class="col4"> Override the RTS/CTS threshold </td>
	</tr>
	<tr class="row11">
		<td class="col0"> <em>antenna_gain</em> </td><td class="col1"> integer </td><td class="col2"> no </td><td class="col3"> 0 </td><td class="col4"> Reduction in antenna gain from regulatory maximum in dBi </td>
	</tr>
</table></div>
<!-- EDIT{&quot;target&quot;:&quot;table&quot;,&quot;name&quot;:&quot;&quot;,&quot;hid&quot;:&quot;table1&quot;,&quot;secid&quot;:7,&quot;range&quot;:&quot;8752-11354&quot;} -->
</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;MAC80211 options&quot;,&quot;hid&quot;:&quot;mac80211_options&quot;,&quot;codeblockOffset&quot;:1,&quot;secid&quot;:6,&quot;range&quot;:&quot;8725-11355&quot;} -->
<h3 class="sectionedit8" id="broadcom_options">Broadcom options</h3>
<div class="level3">

<p>
<img src="/lib/images/smileys/exclaim.svg" class="icon smiley" alt=":!:" /> The options below are only used by the proprietary Broadcom driver (type <em>broadcom</em>).
</p>
<div class="table sectionedit9"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Name </th><th class="col1"> Type </th><th class="col2"> Required </th><th class="col3"> Default </th><th class="col4"> Description </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> <em>frameburst</em> </td><td class="col1"> boolean </td><td class="col2"> no </td><td class="col3"> <em>0</em> </td><td class="col4"> Enables Broadcom frame bursting (Xpress Technology) if supported </td>
	</tr>
	<tr class="row2">
		<td class="col0"> <em>maxassoc</em> </td><td class="col1"> integer </td><td class="col2"> no </td><td class="col3"> <em>(driver default)</em> </td><td class="col4"> Limits the maximum allowed number of associated clients </td>
	</tr>
	<tr class="row3">
		<td class="col0"> <em>slottime</em> </td><td class="col1"> integer </td><td class="col2"> no </td><td class="col3"> <em>(driver default)</em> </td><td class="col4"> Slot time in milliseconds </td>
	</tr>
</table></div>
<!-- EDIT{&quot;target&quot;:&quot;table&quot;,&quot;name&quot;:&quot;&quot;,&quot;hid&quot;:&quot;table2&quot;,&quot;secid&quot;:9,&quot;range&quot;:&quot;11476-11831&quot;} -->
</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Broadcom options&quot;,&quot;hid&quot;:&quot;broadcom_options&quot;,&quot;codeblockOffset&quot;:1,&quot;secid&quot;:8,&quot;range&quot;:&quot;11356-11832&quot;} -->
<h3 class="sectionedit10" id="ubiquiti_nanostation_options">Ubiquiti Nanostation options</h3>
<div class="level3">

<p>
<img src="/lib/images/smileys/exclaim.svg" class="icon smiley" alt=":!:" /> The options below are only used by the Ubiquiti Nanostation family of devices.
</p>
<div class="table sectionedit11"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Name </th><th class="col1"> Type </th><th class="col2"> Required </th><th class="col3"> Default </th><th class="col4"> Description </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> <em>antenna</em> </td><td class="col1"> string </td><td class="col2"> no </td><td class="col3"> <em>(driver default)</em> </td><td class="col4"> Specifies the antenna, possible values are <em>vertical</em> for internal vertical polarization, <em>horizontal</em> for internal horizontal polarization or <em>external</em> to use the external antenna connector </td>
	</tr>
</table></div>
<!-- EDIT{&quot;target&quot;:&quot;table&quot;,&quot;name&quot;:&quot;&quot;,&quot;hid&quot;:&quot;table3&quot;,&quot;secid&quot;:11,&quot;range&quot;:&quot;11956-12259&quot;} -->
</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Ubiquiti Nanostation options&quot;,&quot;hid&quot;:&quot;ubiquiti_nanostation_options&quot;,&quot;codeblockOffset&quot;:1,&quot;secid&quot;:10,&quot;range&quot;:&quot;11833-12260&quot;} -->
<h2 class="sectionedit12" id="wi-fi_interfaces">Wi-Fi interfaces</h2>
<div class="level2">

<p>
A complete wireless configuration contains at least one <em>wifi-iface</em> section per adapter to define a wireless network on top of the hardware.
Some drivers support multiple wireless networks per device:
</p>
<ul>
<li class="level1"><div class="li"> <em>broadcom</em> if the core revision is greater or equal <em>9</em> (see <em>dmesg | grep corerev</em>)</div>
</li>
<li class="level1"><div class="li"> <em>mac80211</em></div>
</li>
</ul>

<p>
A minimal example for a <em>wifi-iface</em> declaration is given below.
</p>
<pre class="code bash">config	wifi-iface
	option	device		<span class="st_h">'wl0'</span>
	option	network		<span class="st_h">'lan'</span>
	option	mode		<span class="st_h">'ap'</span>
	option	ssid		<span class="st_h">'MyWifiAP'</span>
	option	encryption	<span class="st_h">'psk2'</span>
	option	key		<span class="st_h">'secret passphrase'</span></pre>
<ul>
<li class="level1"><div class="li"> <em>wl0</em> is the identifier for the underlying radio hardware</div>
</li>
<li class="level1"><div class="li"> <em>lan</em> specifies the network interface that the Wi-Fi is attached to.</div>
</li>
<li class="level1"><div class="li"> <em>ap</em> is the operation mode, <em>Access Point</em> in this example</div>
</li>
<li class="level1"><div class="li"> <em>MyWifiAP</em> is the broadcasted SSID</div>
</li>
<li class="level1"><div class="li"> <em>psk2</em> specifies the wireless encryption method, WPA2 PSK here</div>
</li>
<li class="level1"><div class="li"> <em>secret passphrase</em> is the secret WPA passphrase, at least 8 characters long</div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Wi-Fi interfaces&quot;,&quot;hid&quot;:&quot;wi-fi_interfaces&quot;,&quot;codeblockOffset&quot;:1,&quot;secid&quot;:12,&quot;range&quot;:&quot;12261-13262&quot;} -->
<h3 class="sectionedit13" id="common_options1">Common Options</h3>
<div class="level3">

<p>
The common configuration options for <em>wifi-iface</em> sections are listed below.
</p>
<div class="table sectionedit14"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Name </th><th class="col1"> Type </th><th class="col2"> Required </th><th class="col3"> Default </th><th class="col4"> Description </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> <em>ifname</em> </td><td class="col1"> string </td><td class="col2"> no </td><td class="col3"> <em>(driver default)</em> </td><td class="col4"> Specifies a custom name for the Wi-Fi interface, which is otherwise automatically named. Maximum length: 15 characters. Note that <a href="/docs/guide-user/network/dsa/start" class="wikilink1" title="docs:guide-user:network:dsa:start" data-wiki-id="docs:guide-user:network:dsa:start">DSA support</a> does not affect wireless configuration, so this option is still valid. </td>
	</tr>
	<tr class="row2">
		<td class="col0"> <em>device</em> </td><td class="col1"> string </td><td class="col2"> yes </td><td class="col3"> <em>(first device id)</em> </td><td class="col4"> Specifies the used wireless adapter, must refer to one of the defined <em>wifi-device</em> sections. </td>
	</tr>
	<tr class="row3">
		<td class="col0"> <em>network</em> </td><td class="col1"> string array </td><td class="col2"> yes </td><td class="col3"> <em>lan</em> </td><td class="col4"> Specifies one or multiple logical network interfaces declared in the network configuration, each one should be a L3 bridge to be able to attach this L2 wireless interface. </td>
	</tr>
	<tr class="row4">
		<td class="col0"> <em>mode</em> </td><td class="col1"> string </td><td class="col2"> yes </td><td class="col3"> <em>ap</em> </td><td class="col4 leftalign"> Specifies the operation mode of the wireless network interface controller. Possible values are <em>ap</em>, <em>sta</em>, <em>adhoc</em>, <em>monitor</em>, <em>mesh</em>. NB: for wds mode, use <code>option wds 1</code> with either <code>option mode &#039;ap</code>&#039; or <code>option mode &#039;sta</code>&#039;.  </td>
	</tr>
	<tr class="row5">
		<td class="col0"> <em>disabled</em> </td><td class="col1"> boolean </td><td class="col2"> no </td><td class="col3"> <em>0</em> </td><td class="col4"> When set to 1, wireless network is disabled. </td>
	</tr>
	<tr class="row6">
		<td class="col0"> <em>ssid</em> </td><td class="col1"> string </td><td class="col2"> yes </td><td class="col3"> OpenWrt </td><td class="col4"> The broadcasted SSID of the wireless network and for for managed mode the SSID of the network you’re connecting to. </td>
	</tr>
	<tr class="row7">
		<td class="col0"> <em>bssid</em> </td><td class="col1"> BSSID address </td><td class="col2"> no </td><td class="col3"> <em>(driver default)</em> </td><td class="col4"> Override the BSSID of the network, only applicable in <em>adhoc</em> or <em>sta</em> mode. In <em>wds</em> mode specifies the BSSID of another <abbr title="Access Point">AP</abbr> to create <abbr title="Wireless distribution system">WDS</abbr> with. </td>
	</tr>
	<tr class="row8">
		<td class="col0"> <em>mesh_id</em> </td><td class="col1"> Mesh ID </td><td class="col2"> no </td><td class="col3"> none </td><td class="col4"> The Mesh ID as defined in IEEE 802.11s. If set, the wireless interface will join this mesh network when brought up. If not, it is necessary to invoke <em>iw &lt;iface&gt; mesh join &lt;mesh_id&gt;</em> to join a mesh after the interface is brought up. </td>
	</tr>
	<tr class="row9">
		<td class="col0"> <em>hidden</em> </td><td class="col1"> boolean </td><td class="col2"> no </td><td class="col3"> <em>0</em> </td><td class="col4"> Disables the broadcasting of beacon frames if set to <em>1</em> and, in doing so, hides the ESSID. Where the ESSID is hidden, clients may fail to roam and airtime efficiency may be significantly reduced. </td>
	</tr>
	<tr class="row10">
		<td class="col0"> <em>isolate</em> </td><td class="col1"> boolean </td><td class="col2"> no </td><td class="col3"> <em>0</em> </td><td class="col4"> Isolates wireless clients from each other, only applicable in <em>ap</em> mode. See <a href="https://forum.openwrt.org/t/clients-in-same-wlan-cant-reach-each-other/2501/22" class="urlextern" title="https://forum.openwrt.org/t/clients-in-same-wlan-cant-reach-each-other/2501/22" rel="ugc nofollow">this</a> post for details.</td>
	</tr>
	<tr class="row11">
		<td class="col0"> <em>bridge_isolate</em> </td><td class="col1"> boolean </td><td class="col2"> no </td><td class="col3"> <em>0</em> </td><td class="col4"> Isolates wireless clients from each other on the <abbr title="Access Point">AP</abbr>&#039;s bridge. (i.e. 2.4ghz and 5ghz radios on the same <abbr title="Access Point">AP</abbr>.)</td>
	</tr>
	<tr class="row12">
		<td class="col0"> <em>doth</em> </td><td class="col1"> boolean </td><td class="col2"> no </td><td class="col3"> <em>0</em> </td><td class="col4"> Enables 802.11h support. </td>
	</tr>
	<tr class="row13">
		<td class="col0"> <em>wmm</em> </td><td class="col1"> boolean </td><td class="col2"> no </td><td class="col3"> <em>1</em> </td><td class="col4"> Enables WMM. Where Wi-Fi Multimedia (WMM) Mode <abbr title="Quality of Service">QoS</abbr> is disabled, clients may be limited to 802.11a/802.11g rates. Required for 802.11n/802.11ac/802.11ax. </td>
	</tr>
	<tr class="row14">
		<td class="col0"> <em>encryption</em> </td><td class="col1"> string </td><td class="col2"> no </td><td class="col3"> <em>none</em> </td><td class="col4"> Wireless encryption method. Possible values are listed in the <a href="/docs/guide-user/network/wifi/basic#encryption_modes" class="wikilink1" title="docs:guide-user:network:wifi:basic" data-wiki-id="docs:guide-user:network:wifi:basic">encryption values</a> table, right after this table. </td>
	</tr>
	<tr class="row15">
		<td class="col0"> <em>key</em> </td><td class="col1"> integer or string </td><td class="col2"> no </td><td class="col3"> <em>(none)</em> </td><td class="col4"> In any <strong>WPA-PSK</strong> mode, this is a string that specifies the pre-shared passphrase from which the pre-shared key will be derived. The clear text key has to be 8-63 characters long. If a 64-character hexadecimal string is supplied, it will be used directly as the pre-shared key instead. In <strong>WEP</strong> mode, this can be an integer specifying which key index to use (<em>key1</em>, <em>key2</em>, <em>key3</em>, or <em>key4</em>.) Alternatively, it can be a string specifying a passphrase or key directly, as in <em>key1</em>. In any <strong>WPA-Enterprise <abbr title="Access Point">AP</abbr></strong> mode, this option has a different interpretation.</td>
	</tr>
	<tr class="row16">
		<td class="col0"> <em>key1</em> </td><td class="col1"> string </td><td class="col2"> no </td><td class="col3"> <em>(none)</em> </td><td class="col4"> WEP passphrase or key #1 (selected by the index in <em>key</em>). This string is treated as a passphrase from which the WEP key will be derived. If a 10- or 26-character hexadecimal string is supplied, it will be used directly as the WEP key instead. </td>
	</tr>
	<tr class="row17">
		<td class="col0"> <em>key2</em> </td><td class="col1"> string </td><td class="col2"> no </td><td class="col3"> <em>(none)</em> </td><td class="col4"> WEP passphrase or key #2 (selected by the index in <em>key</em>), as in <em>key1</em>. </td>
	</tr>
	<tr class="row18">
		<td class="col0"> <em>key3</em> </td><td class="col1"> string </td><td class="col2"> no </td><td class="col3"> <em>(none)</em> </td><td class="col4"> WEP passphrase or key #3 (selected by the index in <em>key</em>), as in <em>key1</em>. </td>
	</tr>
	<tr class="row19">
		<td class="col0"> <em>key4</em> </td><td class="col1"> string </td><td class="col2"> no </td><td class="col3"> <em>(none)</em> </td><td class="col4"> WEP passphrase or key #4 (selected by the index in <em>key</em>), as in <em>key1</em>. </td>
	</tr>
	<tr class="row20">
		<td class="col0"> <em>macfilter</em> </td><td class="col1"> string </td><td class="col2"> no </td><td class="col3"> <em>disable</em> </td><td class="col4"> Specifies the <em>mac filter policy</em>, <em>disable</em> to disable the filter, <em>allow</em> to treat it as whitelist or <em>deny</em> to treat it as blacklist. </td>
	</tr>
	<tr class="row21">
		<td class="col0"> <em>maclist</em> </td><td class="col1"> list of MAC addresses</td><td class="col2"> no </td><td class="col3"> <em>(none)</em> </td><td class="col4"> List of MAC addresses (divided by spaces) to put into the mac filter. </td>
	</tr>
	<tr class="row22">
		<td class="col0"> <em>iapp_interface</em> </td><td class="col1"> string </td><td class="col2"> no </td><td class="col3"> <em>(none)</em> </td><td class="col4"> Specifies a network interface to be used for 802.11f (IAPP) - only enabled when defined. </td>
	</tr>
	<tr class="row23">
		<td class="col0"> <em>rsn_preauth</em> </td><td class="col1"> boolean </td><td class="col2"> no </td><td class="col3"> <em>0</em> </td><td class="col4"> Allow preauthentication for WPA2-EAP networks (and advertise it in <abbr title="Wireless Local Area Network">WLAN</abbr> beacons). Only works if the specified network interface is a bridge. </td>
	</tr>
	<tr class="row24">
		<td class="col0"> <em>ieee80211w</em> </td><td class="col1"> integer </td><td class="col2"> no </td><td class="col3"> <em>0</em> </td><td class="col4"> Enables MFP (802.11w) support (0 = disabled, 1 = optional, 2 = required). <strong>Requires the &#039;full&#039; version of wpad/hostapd and support from the Wi-Fi driver</strong> </td>
	</tr>
	<tr class="row25">
		<td class="col0"> <em>ieee80211w_max_timeout</em> </td><td class="col1"> integer </td><td class="col2"> no </td><td class="col3"> <em>(hostapd default)</em> </td><td class="col4"> Specifies the 802.11w Association SA Query maximum timeout. </td>
	</tr>
	<tr class="row26">
		<td class="col0"> <em>ieee80211w_retry_timeout</em> </td><td class="col1"> integer </td><td class="col2"> no </td><td class="col3"> <em>(hostapd default)</em> </td><td class="col4"> Specifies the 802.11w Association SA Query retry timeout. </td>
	</tr>
	<tr class="row27">
		<td class="col0"> <em>sae_require_mfp</em> </td><td class="col1"> boolean </td><td class="col2"> no </td><td class="col3"> 1 </td><td class="col4"> Require MFP for all associations using SAE. Useful for when 802.11w is set to optional for WPA2/WPA3 mixed mode. </td>
	</tr>
	<tr class="row28">
		<td class="col0"> <em>maxassoc</em> </td><td class="col1"> integer </td><td class="col2"> no </td><td class="col3"> <em>(hostapd/driver default)</em> </td><td class="col4"> Specifies the maximum number of clients to connect. </td>
	</tr>
	<tr class="row29">
		<td class="col0"> <em>macaddr</em> </td><td class="col1"> MAC address or string </td><td class="col2"> no </td><td class="col3"> <em>(hostapd/driver default)</em> </td><td class="col4"> Overrides the MAC address used for the Wi-Fi interface. Warning: if the MAC address specified is a multicast address, this override will fail silently. To avoid this problem, ensure that the MAC address specified is a valid unicast MAC address.<br/>
When set to <code>random</code>, a new locally administered unicast MAC address is generated and assigned to the iface everytime it is (re-)configured.</td>
	</tr>
	<tr class="row30">
		<td class="col0"> <em>dtim_period</em> </td><td class="col1"> integer </td><td class="col2"> no </td><td class="col3"> <em>2 (hostapd default)</em> </td><td class="col4"> Set the DTIM (delivery traffic information message) period. There will be one DTIM per this many beacon frames. This may be set between 1 and 255. This option has no effect on <em>sta</em> type wifi-ifaces. </td>
	</tr>
	<tr class="row31">
		<td class="col0"> <em>short_preamble</em> </td><td class="col1"> boolean </td><td class="col2"> no </td><td class="col3"> <em>1</em> </td><td class="col4"> Set optional use of short preamble </td>
	</tr>
	<tr class="row32">
		<td class="col0"> <em>max_listen_int</em> </td><td class="col1"> integer </td><td class="col2"> no </td><td class="col3"> <em>65535 (hostapd default)</em> </td><td class="col4"> Set the maximum allowed STA (client) listen interval. Association will be refused if a STA attempts to associate with a listen interval greater than this value. This option only has an effect on <em>ap</em> wifi-ifaces. </td>
	</tr>
	<tr class="row33">
		<td class="col0"> <em>mcast_rate</em> </td><td class="col1"> integer </td><td class="col2"> no </td><td class="col3"> <em>(driver default)</em> </td><td class="col4"> Sets the fixed multicast rate, measured in kb/s. <strong>Only supported in adhoc and mesh modes</strong> </td>
	</tr>
	<tr class="row34">
		<td class="col0"> <em>wds</em> </td><td class="col1"> boolean </td><td class="col2"> no </td><td class="col3"> <em>0</em> </td><td class="col4"> This sets <a href="https://wireless.wiki.kernel.org/en/users/documentation/iw#using_4-address_for_ap_and_client_mode" class="urlextern" title="https://wireless.wiki.kernel.org/en/users/documentation/iw#using_4-address_for_ap_and_client_mode" rel="ugc nofollow"> 4-address mode</a> </td>
	</tr>
	<tr class="row35">
		<td class="col0"> <em>owe_transition_ssid</em> </td><td class="col1"> string </td><td class="col2"> no </td><td class="col3"> <em>none</em> </td><td class="col4"> Opportunistic Wireless Encryption (OWE) Transition SSID (only for OPEN and OWE networks) </td>
	</tr>
	<tr class="row36">
		<td class="col0"> <em>owe_transition_bssid</em> </td><td class="col1"> BSSID address </td><td class="col2"> no </td><td class="col3"> <em>none</em> </td><td class="col4"> Opportunistic Wireless Encryption (OWE) Transition BSSID (only for OPEN and OWE networks) </td>
	</tr>
	<tr class="row37">
		<td class="col0"> <em>sae_pwe</em> </td><td class="col1"> integer </td><td class="col2"> no </td><td class="col3"> <em>0 (hostapd default)</em> </td><td class="col4"> Sets the SAE mechanism for PWE derivation (0 = hunting-and-pecking only, 1 = hash-to-element only, 2 = both hunting-and-pecking and hash-to-element) </td>
	</tr>
	<tr class="row38">
		<td class="col0"> <em>ocv</em> </td><td class="col1"> integer </td><td class="col2"> no </td><td class="col3"> <em>0 (hostapd/wpa_supplicant default)</em> </td><td class="col4"> Configuration option for Operating Channel Validation. When operating as an access point the following options are available: 0 = disabled, 1 = enabled, 2 = enabled in workaround mode - Allow STA that claims OCV capability to connect even if the STA doesn&#039;t send OCI or negotiate PMF.<br/>
<br/>
When operating in client mode the following options are available: 0 = disabled, 1 = enabled if wpa_supplicant&#039;s SME in use. Otherwise enabled only when the driver indicates support for operating channel validation. </td>
	</tr>
	<tr class="row39">
		<td class="col0"> <em>start_disabled</em> </td><td class="col1"> boolean </td><td class="col2"> no </td><td class="col3"> <em>0</em> </td><td class="col4 leftalign"> For an <abbr title="Access Point">AP</abbr>, start with beaconing disabled by default (see <em>start_disabled</em> in hostapd.conf). Note that if an interface with mode <em>sta</em> is also defined on the same radio, <em>start_disabled</em> will be added in the hostapd configuration, regardless of the value set for the <abbr title="Access Point">AP</abbr>.  </td>
	</tr>
	<tr class="row40">
		<td class="col0"> <em>default_disabled</em> </td><td class="col1"> boolean </td><td class="col2"> no </td><td class="col3"> <em>0</em> </td><td class="col4"> For an STA, add <em>disabled</em> to the default wpa_supplicant network block (to prevent it from scanning by default). The network block can still be enabled, for example by using <em>wpa_cli</em> (see <em>disabled</em> in wpa_supplicant.conf). </td>
	</tr>
	<tr class="row41">
		<td class="col0"> <em>hostapd_bss_options</em> </td><td class="col1"> list </td><td class="col2"> no </td><td class="col3"> <em>none</em> </td><td class="col4"> Pass any custom options to <code>hostapd-*.conf</code>. Values passed <em>as-is</em>. </td>
	</tr>
</table></div>
<!-- EDIT{&quot;target&quot;:&quot;table&quot;,&quot;name&quot;:&quot;&quot;,&quot;hid&quot;:&quot;table4&quot;,&quot;secid&quot;:14,&quot;range&quot;:&quot;13367-22083&quot;} -->
</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Common Options&quot;,&quot;hid&quot;:&quot;common_options1&quot;,&quot;codeblockOffset&quot;:2,&quot;secid&quot;:13,&quot;range&quot;:&quot;13263-22084&quot;} -->
<h3 class="sectionedit15" id="encryption_modes">Encryption Modes</h3>
<div class="level3">

<p>
Besides the encryption mode, the <em>encryption</em> option also specifies the group and peer ciphers to use.
To override the cipher, the value of <em>encryption</em> must be given in the form <em>mode+cipher</em>.
See the listing below for possible combinations.
</p>

<p>
WPA3 modes are supported by default starting with the <a href="/releases/21.02/notes-21.02.0#wpa3_support_included_by_default" class="wikilink1" title="releases:21.02:notes-21.02.0" data-wiki-id="releases:21.02:notes-21.02.0">OpenWrt 21.02</a> release.
</p>
<div class="table sectionedit16"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Value </th><th class="col1"> Type </th><th class="col2"> Ciphers </th><th class="col3"> Supported since </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> <em>none</em> </td><td class="col1"> no authentication </td><td class="col2"> none </td><td class="col3 leftalign">  </td>
	</tr>
	<tr class="row2">
		<td class="col0"> <em>sae</em> </td><td class="col1"> WPA3 Personal (SAE) </td><td class="col2"> CCMP </td><td class="col3"> 19.07 </td>
	</tr>
	<tr class="row3">
		<td class="col0"> <em>sae-mixed</em> </td><td class="col1"> WPA2/WPA3 Personal (PSK/SAE) mixed mode </td><td class="col2"> CCMP </td><td class="col3"> 19.07 </td>
	</tr>
	<tr class="row4">
		<td class="col0"> <em>psk2+tkip+ccmp</em> </td><td class="col1"> WPA2 Personal (PSK) </td><td class="col2"> TKIP, CCMP</td><td class="col3"> </td>
	</tr>
	<tr class="row5">
		<td class="col0"> <em>psk2+tkip+aes</em> </td><td class="col1"> WPA2 Personal (PSK) </td><td class="col2"> TKIP, CCMP</td><td class="col3"> </td>
	</tr>
	<tr class="row6">
		<td class="col0"> <em>psk2+tkip</em> </td><td class="col1"> WPA2 Personal (PSK) </td><td class="col2"> TKIP </td><td class="col3"> </td>
	</tr>
	<tr class="row7">
		<td class="col0"> <em>psk2+ccmp</em> </td><td class="col1"> WPA2 Personal (PSK) </td><td class="col2"> CCMP </td><td class="col3"> </td>
	</tr>
	<tr class="row8">
		<td class="col0"> <em>psk2+aes</em> </td><td class="col1"> WPA2 Personal (PSK) </td><td class="col2"> CCMP </td><td class="col3"> </td>
	</tr>
	<tr class="row9">
		<td class="col0"> <em>psk2</em> </td><td class="col1"> WPA2 Personal (PSK) </td><td class="col2"> CCMP </td><td class="col3"> </td>
	</tr>
	<tr class="row10">
		<td class="col0"> <em>psk+tkip+ccmp</em> </td><td class="col1"> WPA Personal (PSK) </td><td class="col2"> TKIP, CCMP</td><td class="col3"> </td>
	</tr>
	<tr class="row11">
		<td class="col0"> <em>psk+tkip+aes</em> </td><td class="col1"> WPA Personal (PSK) </td><td class="col2"> TKIP, CCMP</td><td class="col3"> </td>
	</tr>
	<tr class="row12">
		<td class="col0"> <em>psk+tkip</em> </td><td class="col1"> WPA Personal (PSK) </td><td class="col2"> TKIP </td><td class="col3"> </td>
	</tr>
	<tr class="row13">
		<td class="col0"> <em>psk+ccmp</em> </td><td class="col1"> WPA Personal (PSK) </td><td class="col2"> CCMP </td><td class="col3"> </td>
	</tr>
	<tr class="row14">
		<td class="col0"> <em>psk+aes</em> </td><td class="col1"> WPA Personal (PSK) </td><td class="col2"> CCMP </td><td class="col3"> </td>
	</tr>
	<tr class="row15">
		<td class="col0"> <em>psk</em> </td><td class="col1"> WPA Personal (PSK) </td><td class="col2"> CCMP </td><td class="col3"> </td>
	</tr>
	<tr class="row16">
		<td class="col0"> <em>psk-mixed+tkip+ccmp</em> </td><td class="col1"> WPA/WPA2 Personal (PSK) mixed mode </td><td class="col2"> TKIP, CCMP</td><td class="col3"> </td>
	</tr>
	<tr class="row17">
		<td class="col0"> <em>psk-mixed+tkip+aes</em> </td><td class="col1"> WPA/WPA2 Personal (PSK) mixed mode </td><td class="col2"> TKIP, CCMP</td><td class="col3"> </td>
	</tr>
	<tr class="row18">
		<td class="col0"> <em>psk-mixed+tkip</em> </td><td class="col1"> WPA/WPA2 Personal (PSK) mixed mode </td><td class="col2"> TKIP </td><td class="col3"> </td>
	</tr>
	<tr class="row19">
		<td class="col0"> <em>psk-mixed+ccmp</em> </td><td class="col1"> WPA/WPA2 Personal (PSK) mixed mode </td><td class="col2"> CCMP </td><td class="col3"> </td>
	</tr>
	<tr class="row20">
		<td class="col0"> <em>psk-mixed+aes</em> </td><td class="col1"> WPA/WPA2 Personal (PSK) mixed mode </td><td class="col2"> CCMP </td><td class="col3"> </td>
	</tr>
	<tr class="row21">
		<td class="col0"> <em>psk-mixed</em> </td><td class="col1"> WPA/WPA2 Personal (PSK) mixed mode </td><td class="col2"> CCMP </td><td class="col3"> </td>
	</tr>
	<tr class="row22">
		<td class="col0"> <em>wep</em> </td><td class="col1"> defaults to “open system” authentication aka <strong>wep+open</strong> </td><td class="col2"> RC4 </td><td class="col3 leftalign">  </td>
	</tr>
	<tr class="row23">
		<td class="col0"> <em>wep+open</em> </td><td class="col1"> “open system” authentication </td><td class="col2"> RC4 </td><td class="col3 leftalign">  </td>
	</tr>
	<tr class="row24">
		<td class="col0"> <em>wep+shared</em> </td><td class="col1"> “shared key” authentication </td><td class="col2"> RC4 </td><td class="col3 leftalign">  </td>
	</tr>
	<tr class="row25">
		<td class="col0"> <em>wpa3</em> </td><td class="col1"> WPA3 Enterprise </td><td class="col2"> CCMP </td><td class="col3"> 19.07 </td>
	</tr>
	<tr class="row26">
		<td class="col0"> <em>wpa3-mixed</em> </td><td class="col1"> WPA3/WPA2 Enterprise </td><td class="col2"> CCMP </td><td class="col3"> 19.07 </td>
	</tr>
	<tr class="row27">
		<td class="col0"> <em>wpa2+tkip+ccmp</em> </td><td class="col1"> WPA2 Enterprise </td><td class="col2"> TKIP, CCMP</td><td class="col3"> </td>
	</tr>
	<tr class="row28">
		<td class="col0"> <em>wpa2+tkip+aes</em> </td><td class="col1"> WPA2 Enterprise </td><td class="col2"> TKIP, CCMP</td><td class="col3"> </td>
	</tr>
	<tr class="row29">
		<td class="col0"> <em>wpa2+ccmp</em> </td><td class="col1"> WPA2 Enterprise </td><td class="col2"> CCMP </td><td class="col3"> </td>
	</tr>
	<tr class="row30">
		<td class="col0"> <em>wpa2+aes</em>&#039; </td><td class="col1"> WPA2 Enterprise </td><td class="col2"> CCMP </td><td class="col3"> </td>
	</tr>
	<tr class="row31">
		<td class="col0"> <em>wpa2</em> </td><td class="col1"> WPA2 Enterprise </td><td class="col2"> CCMP </td><td class="col3"> </td>
	</tr>
	<tr class="row32">
		<td class="col0"> <em>wpa2+tkip</em> </td><td class="col1"> WPA2 Enterprise </td><td class="col2"> TKIP </td><td class="col3"> </td>
	</tr>
	<tr class="row33">
		<td class="col0"> <em>wpa+tkip+ccmp</em> </td><td class="col1"> WPA Enterprise </td><td class="col2"> TKIP, CCMP</td><td class="col3"> </td>
	</tr>
	<tr class="row34">
		<td class="col0"> <em>wpa+tkip+aes</em> </td><td class="col1"> WPA Enterprise </td><td class="col2"> TKIP, AES </td><td class="col3"> </td>
	</tr>
	<tr class="row35">
		<td class="col0"> <em>wpa+ccmp</em> </td><td class="col1"> WPA Enterprise </td><td class="col2"> CCMP </td><td class="col3"> </td>
	</tr>
	<tr class="row36">
		<td class="col0"> <em>wpa+aes</em> </td><td class="col1"> WPA Enterprise </td><td class="col2"> CCMP </td><td class="col3"> </td>
	</tr>
	<tr class="row37">
		<td class="col0"> <em>wpa+tkip</em> </td><td class="col1"> WPA Enterprise </td><td class="col2"> TKIP </td><td class="col3"> </td>
	</tr>
	<tr class="row38">
		<td class="col0"> <em>wpa</em> </td><td class="col1"> WPA Enterprise </td><td class="col2"> CCMP </td><td class="col3"> </td>
	</tr>
	<tr class="row39">
		<td class="col0"> <em>wpa-mixed+tkip+ccmp</em> </td><td class="col1"> WPA/WPA2 Enterprise mixed mode </td><td class="col2"> TKIP, CCMP</td><td class="col3"> </td>
	</tr>
	<tr class="row40">
		<td class="col0"> <em>wpa-mixed+tkip+aes</em> </td><td class="col1"> WPA/WPA2 Enterprise mixed mode </td><td class="col2"> TKIP, CCMP</td><td class="col3"> </td>
	</tr>
	<tr class="row41">
		<td class="col0"> <em>wpa-mixed+tkip</em> </td><td class="col1"> WPA/WPA2 Enterprise mixed mode </td><td class="col2"> TKIP </td><td class="col3"> </td>
	</tr>
	<tr class="row42">
		<td class="col0"> <em>wpa-mixed+ccmp</em> </td><td class="col1"> WPA/WPA2 Enterprise mixed mode </td><td class="col2"> CCMP </td><td class="col3"> </td>
	</tr>
	<tr class="row43">
		<td class="col0"> <em>wpa-mixed+aes</em> </td><td class="col1"> WPA/WPA2 Enterprise mixed mode </td><td class="col2"> CCMP </td><td class="col3"> </td>
	</tr>
	<tr class="row44">
		<td class="col0"> <em>wpa-mixed</em> </td><td class="col1"> WPA/WPA2 Enterprise mixed mode </td><td class="col2"> CCMP </td><td class="col3"> </td>
	</tr>
	<tr class="row45">
		<td class="col0"> <em>owe</em> </td><td class="col1"> Opportunistic Wireless Encryption (OWE) </td><td class="col2"> CCMP </td><td class="col3"> 19.07 </td>
	</tr>
</table></div>
<!-- EDIT{&quot;target&quot;:&quot;table&quot;,&quot;name&quot;:&quot;&quot;,&quot;hid&quot;:&quot;table5&quot;,&quot;secid&quot;:16,&quot;range&quot;:&quot;22506-25072&quot;} -->
</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Encryption Modes&quot;,&quot;hid&quot;:&quot;encryption_modes&quot;,&quot;codeblockOffset&quot;:2,&quot;secid&quot;:15,&quot;range&quot;:&quot;22085-25074&quot;} -->
<h3 class="sectionedit17" id="wpa_enterprise_access_point">WPA Enterprise (Access Point)</h3>
<div class="level3">

<p>
Listing of Access Point options for WPA Enterprise.
</p>
<div class="table sectionedit18"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Name </th><th class="col1"> Default </th><th class="col2"> Description </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> <em>server</em> </td><td class="col1"> <em>(none)</em> </td><td class="col2"> RADIUS server to handle client authentication </td>
	</tr>
	<tr class="row2">
		<td class="col0"> <em>port</em> </td><td class="col1"> <em>1812</em> </td><td class="col2"> RADIUS port </td>
	</tr>
	<tr class="row3">
		<td class="col0"> <em>key</em> </td><td class="col1"> <em>(none)</em> </td><td class="col2"> Shared RADIUS secret </td>
	</tr>
	<tr class="row4">
		<td class="col0"> <em>wpa_group_rekey</em> </td><td class="col1"> <em>600</em> </td><td class="col2"> WPA Group Cipher rekeying interval in seconds </td>
	</tr>
	<tr class="row5">
		<td class="col0"> <em>auth_server</em> </td><td class="col1"> <em>(none)</em> </td><td class="col2"> RADIUS authentication server to handle client authentication </td>
	</tr>
	<tr class="row6">
		<td class="col0"> <em>auth_port</em> </td><td class="col1"> <em>1812</em> </td><td class="col2"> RADIUS authentication port </td>
	</tr>
	<tr class="row7">
		<td class="col0"> <em>auth_secret</em> </td><td class="col1"> <em>(none)</em> </td><td class="col2"> Shared authentication RADIUS secret </td>
	</tr>
	<tr class="row8">
		<td class="col0"> <em>auth_cache</em> </td><td class="col1"> <em>0</em> </td><td class="col2"> Disable or enable PMKSA and Opportunistic Key Caching </td>
	</tr>
	<tr class="row9">
		<td class="col0"> <em>acct_server</em> </td><td class="col1"> <em>(none)</em> </td><td class="col2"> RADIUS accounting server to handle client authentication </td>
	</tr>
	<tr class="row10">
		<td class="col0"> <em>acct_port</em> </td><td class="col1"> <em>1813</em> </td><td class="col2"> RADIUS accounting port </td>
	</tr>
	<tr class="row11">
		<td class="col0"> <em>acct_secret</em> </td><td class="col1"> <em>(none)</em> </td><td class="col2"> Shared accounting RADIUS secret </td>
	</tr>
	<tr class="row12">
		<td class="col0"> <em>nasid</em> </td><td class="col1"> <em>(none)</em> </td><td class="col2"> NAS ID for RADIUS authentication requests </td>
	</tr>
	<tr class="row13">
		<td class="col0"> <em>ownip</em> </td><td class="col1"> <em>(none)</em> </td><td class="col2"> NAS <abbr title="Internet Protocol">IP</abbr> Address for RADIUS authentication requests </td>
	</tr>
	<tr class="row14">
		<td class="col0"> <em>dae_client</em> </td><td class="col1"> <em>(none)</em> </td><td class="col2"> Dynamic Authorization Extension client. This client can send “Disconnect-Request” or “CoA-Request” packets to forcibly disconnect a client or change connection parameters.</td>
	</tr>
	<tr class="row15">
		<td class="col0"> <em>dae_port</em> </td><td class="col1"> <em>3799</em> </td><td class="col2"> Port the Dynamic Authorization Extension server listens on. </td>
	</tr>
	<tr class="row16">
		<td class="col0"> <em>dae_secret</em> </td><td class="col1"> <em>(none)</em> </td><td class="col2"> Shared DAE secret. </td>
	</tr>
	<tr class="row17">
		<td class="col0"> <em>dynamic_vlan</em> </td><td class="col1"> <em>0</em> </td><td class="col2"> Dynamic <abbr title="Virtual Local Area Network">VLAN</abbr> assignment </td>
	</tr>
	<tr class="row18">
		<td class="col0"> <em>vlan_naming</em> </td><td class="col1"> <em>1</em> </td><td class="col2"> <abbr title="Virtual Local Area Network">VLAN</abbr> Naming </td>
	</tr>
	<tr class="row19">
		<td class="col0"> <em>vlan_tagged_interface</em> </td><td class="col1"> <em>(none)</em> </td><td class="col2"> <abbr title="Virtual Local Area Network">VLAN</abbr> Tagged Interface </td>
	</tr>
	<tr class="row20">
		<td class="col0"> <em>vlan_bridge</em> </td><td class="col1"> <em>(none)</em> </td><td class="col2"> <abbr title="Virtual Local Area Network">VLAN</abbr> Bridge Naming Scheme - added in <a href="https://git.openwrt.org/?p=openwrt/openwrt.git;a=commitdiff;h=d40842d1801e65156d27d727d4fba4735728a844" class="interwiki iw_commit" title="https://git.openwrt.org/?p=openwrt/openwrt.git;a=commitdiff;h=d40842d1801e65156d27d727d4fba4735728a844">hostapd: improve 802.1x dynamic vlan support with bridge names</a> </td>
	</tr>
	<tr class="row21">
		<td class="col0"> <em>radius_client_addr</em> </td><td class="col1"> <em>(none)</em> </td><td class="col2"> Source-<abbr title="Internet Protocol">IP</abbr> for RADIUS requests. </td>
	</tr>
</table></div>
<!-- EDIT{&quot;target&quot;:&quot;table&quot;,&quot;name&quot;:&quot;&quot;,&quot;hid&quot;:&quot;table6&quot;,&quot;secid&quot;:18,&quot;range&quot;:&quot;25168-26925&quot;} -->
</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;WPA Enterprise (Access Point)&quot;,&quot;hid&quot;:&quot;wpa_enterprise_access_point&quot;,&quot;codeblockOffset&quot;:2,&quot;secid&quot;:17,&quot;range&quot;:&quot;25075-26926&quot;} -->
<h3 class="sectionedit19" id="wpa_enterprise_client">WPA Enterprise (Client)</h3>
<div class="level3">

<p>
Listing of Client related options for WPA Enterprise.
</p>
<div class="table sectionedit20"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0">Name </th><th class="col1">Default </th><th class="col2">Description </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> <em>eap_type</em> </td><td class="col1"> <em>(none)</em> </td><td class="col2"> Defines the EAP protocol, possible values are <em>tls</em> for EAP-<abbr title="Transport Layer Security">TLS</abbr> and <em>peap</em> or <em>ttls</em> for EAP-PEAP </td>
	</tr>
	<tr class="row2">
		<td class="col0"> <em>auth</em> </td><td class="col1"> <em>MSCHAPV2</em> </td><td class="col2"> “auth=PAP”/PAP/MSCHAPV2 - Defines the phase 2 (inner) authentication method, only applicable if <em>eap_type</em> is <em>peap</em> or <em>ttls</em> </td>
	</tr>
	<tr class="row3">
		<td class="col0"> <em>identity</em> </td><td class="col1"> <em>(none)</em> </td><td class="col2"> EAP identity to send during authentication </td>
	</tr>
	<tr class="row4">
		<td class="col0"> <em>password</em> </td><td class="col1"> <em>(none)</em> </td><td class="col2"> Password to send during EAP authentication </td>
	</tr>
	<tr class="row5">
		<td class="col0"> <em>ca_cert</em> </td><td class="col1"> <em>(none)</em> </td><td class="col2"> Specifies the path the CA certificate used for authentication </td>
	</tr>
	<tr class="row6">
		<td class="col0"> <em>client_cert</em> </td><td class="col1"> <em>(none)</em> </td><td class="col2"> Specifies the client certificate used for the authentication </td>
	</tr>
	<tr class="row7">
		<td class="col0"> <em>priv_key</em> </td><td class="col1"> <em>(none)</em> </td><td class="col2"> Specifies the path to the private key file used for authentication, only applicable if <em>eap_type</em> is set to <em>tls</em> </td>
	</tr>
	<tr class="row8">
		<td class="col0"> <em>priv_key_pwd</em> </td><td class="col1"> <em>(none)</em> </td><td class="col2"> Password to unlock the private key file, only works in conjunction with <em>priv_key</em> </td>
	</tr>
</table></div>
<!-- EDIT{&quot;target&quot;:&quot;table&quot;,&quot;name&quot;:&quot;&quot;,&quot;hid&quot;:&quot;table7&quot;,&quot;secid&quot;:20,&quot;range&quot;:&quot;27016-27954&quot;} -->
<p>
<img src="/lib/images/smileys/exclaim.svg" class="icon smiley" alt=":!:" /> When using WPA Enterprise type PEAP with Active Directory Servers, the “auth” option must be set to “auth=MSCHAPV2” or “auth=PAP”.
</p>
<pre class="code bash">option auth <span class="st_h">'auth=MSCHAPV2'</span></pre>

<p>
or
</p>
<pre class="code bash">option auth <span class="st_h">'auth=PAP'</span></pre>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;WPA Enterprise (Client)&quot;,&quot;hid&quot;:&quot;wpa_enterprise_client&quot;,&quot;codeblockOffset&quot;:2,&quot;secid&quot;:19,&quot;range&quot;:&quot;26927-28188&quot;} -->
<h3 class="sectionedit21" id="wpa_psk_file">wpa_psk_file</h3>
<div class="level3">

<p>
The wpa_psk_file option specifies an external file containing a list of MAC address and PSK/passphrase pairs, allowing for multiple PSK/passphrases.
</p>
<div class="table sectionedit22"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Name </th><th class="col1"> Default </th><th class="col2"> Description </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> <em>wpa_psk_file</em> </td><td class="col1"> (none) </td><td class="col2"> Location of the wpa_psk file (a common location is /etc/hostapd.wpa_psk) </td>
	</tr>
</table></div>
<!-- EDIT{&quot;target&quot;:&quot;table&quot;,&quot;name&quot;:&quot;&quot;,&quot;hid&quot;:&quot;table8&quot;,&quot;secid&quot;:22,&quot;range&quot;:&quot;28363-28500&quot;} -->
<p>
Example for a wpa_psk file:
</p>
<pre class="code">00:00:00:00:00:00 secret_passphrase
00:00:00:00:00:00 another_passphrase
00:11:22:33:44:55 passphrase_for_a_specific_mac_only
00:22:33:44:55:66 0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef
vlanid=3 00:00:00:00:00:00 passphrase_for_vlan_id_3</pre>

<p>
In the example above, the last line uses the “vlanid=&lt;id&gt;” parameter: Clients can be assigned to <abbr title="Virtual Local Area Network">VLAN</abbr>-tagged interfaces depending on the PSK/passphrase. Additional configuration is required, re-using several parameters originally intended for RADIUS-based <abbr title="Virtual Local Area Network">VLAN</abbr> mappings:
</p>
<div class="table sectionedit23"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Name </th><th class="col1"> Default </th><th class="col2"> Description </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> <em>dynamic_vlan</em> </td><td class="col1"> <em>0</em> </td><td class="col2"> Dynamic <abbr title="Virtual Local Area Network">VLAN</abbr> mode: 0 = disabled, 1 = optional (use default interface when no <abbr title="Virtual Local Area Network">VLAN</abbr> ID is used), 2 = required </td>
	</tr>
	<tr class="row2">
		<td class="col0"> <em>vlan_file</em> </td><td class="col1"> (none) </td><td class="col2"> Absolute path to the file containing <abbr title="Virtual Local Area Network">VLAN</abbr> ID - network interface mappings (a common location is /etc/hostapd.vlan) </td>
	</tr>
	<tr class="row3">
		<td class="col0"> <em>vlan_tagged_interface</em> </td><td class="col1"> <em>(none)</em> </td><td class="col2"> prefix for the vlan tagged interface (see vlan_naming option) </td>
	</tr>
	<tr class="row4">
		<td class="col0"> <em>vlan_naming</em> </td><td class="col1"> <em>1</em> </td><td class="col2"> <abbr title="Virtual Local Area Network">VLAN</abbr> naming scheme prefix for the newly created interface: 0 = “vlan&lt;id&gt;”, 1 = “&lt;vlan_tagged_interface&gt;.&lt;id&gt;” (see vlan_tagged_interface option) </td>
	</tr>
	<tr class="row5">
		<td class="col0"> <em>vlan_bridge</em> </td><td class="col1"> <em>(none)</em> </td><td class="col2"> bridge prefix for the bridge to which the wifi and the tagged interface will be added; defaults to “brvlan&lt;id&gt;” if no tagged interface is given and “br&lt;vlan_tagged_interface&gt;.&lt;id&gt;” if a tagged interface is given (see vlan_tagged_interface option) </td>
	</tr>
</table></div>
<!-- EDIT{&quot;target&quot;:&quot;table&quot;,&quot;name&quot;:&quot;&quot;,&quot;hid&quot;:&quot;table9&quot;,&quot;secid&quot;:23,&quot;range&quot;:&quot;29080-29959&quot;} -->
<p>
Note: The vlan-related options above will be ignored or rejected by the default stripped down wpad-basic/hostapd-basic binaries. Like a RADIUS-based setup, these require the fully featured wpad/hostapd.
</p>

<p>
Example for a vlan file:
</p>
<pre class="code"># VLAN ID to network interface mapping
1	vlan1
2	vlan2
3	vlan3
100	guest
# Optional wildcard entry matching all VLAN IDs. The first &quot;#&quot; in the interface name will be replaced with the VLAN ID.
# The network interfaces are created and removed dynamically when necessary.
*	vlan#
# Optional third parameter to override the bridge name
101	vlan100	bridge_name</pre>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;wpa_psk_file&quot;,&quot;hid&quot;:&quot;wpa_psk_file&quot;,&quot;codeblockOffset&quot;:4,&quot;secid&quot;:21,&quot;range&quot;:&quot;28189-30563&quot;} -->
<h3 class="sectionedit24" id="wpa_key_reinstallation_attack_workaround">WPA key reinstallation attack workaround</h3>
<div class="level3">
<div class="table sectionedit25"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Name </th><th class="col1"> Default </th><th class="col2"> Description </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> <em>wpa_disable_eapol_key_retries</em> </td><td class="col1"> <em>0</em> </td><td class="col2"> Workaround for key reinstallation attacks (requires LEDE 17.01.4 or higher) </td>
	</tr>
</table></div>
<!-- EDIT{&quot;target&quot;:&quot;table&quot;,&quot;name&quot;:&quot;&quot;,&quot;hid&quot;:&quot;table10&quot;,&quot;secid&quot;:25,&quot;range&quot;:&quot;30615-30771&quot;} -->
<p>
Complete description copied from upstream hostapd.conf example:
</p>
<pre class="code bash"><span class="co0"># Workaround for key reinstallation attacks</span>
<span class="co0">#</span>
<span class="co0"># This parameter can be used to disable retransmission of EAPOL-Key frames that</span>
<span class="co0"># are used to install keys (EAPOL-Key message 3/4 and group message 1/2). This</span>
<span class="co0"># is similar to setting wpa_group_update_count=1 and</span>
<span class="co0"># wpa_pairwise_update_count=1, but with no impact to message 1/4 and with</span>
<span class="co0"># extended timeout on the response to avoid causing issues with stations that</span>
<span class="co0"># may use aggressive power saving have very long time in replying to the</span>
<span class="co0"># EAPOL-Key messages.</span>
<span class="co0">#</span>
<span class="co0"># This option can be used to work around key reinstallation attacks on the</span>
<span class="co0"># station (supplicant) side in cases those station devices cannot be updated</span>
<span class="co0"># for some reason. By removing the retransmissions the attacker cannot cause</span>
<span class="co0"># key reinstallation with a delayed frame transmission. This is related to the</span>
<span class="co0"># station side vulnerabilities CVE-2017-13077, CVE-2017-13078, CVE-2017-13079,</span>
<span class="co0"># CVE-2017-13080, and CVE-2017-13081.</span>
<span class="co0">#</span>
<span class="co0"># This workaround might cause interoperability issues and reduced robustness of</span>
<span class="co0"># key negotiation especially in environments with heavy traffic load due to the</span>
<span class="co0"># number of attempts to perform the key exchange is reduced significantly. As</span>
<span class="co0"># such, this workaround is disabled by default (unless overridden in build</span>
<span class="co0"># configuration). To enable this, set the parameter to 1.</span>
<span class="co0">#wpa_disable_eapol_key_retries=1</span></pre>

<p>
<strong>Note</strong> that this workaround can&#039;t prevent attacks against Tunneled Direct-Link Setup (TDLS).
You may also want to add the option <em>tdls_prohibit=1</em> in order to make such an attack more complicated:
</p>
<div class="table sectionedit26"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Name </th><th class="col1"> Default </th><th class="col2"> Description </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> <em>tdls_prohibit</em> </td><td class="col1"> <em>0</em> </td><td class="col2"> Prohibit the use of TDLS on the network (complicates key reinstallation attacks against TDLS) (requires hostapd/wpad 2016-12-19-ad02e79d-7 or higher) </td>
	</tr>
</table></div>
<!-- EDIT{&quot;target&quot;:&quot;table&quot;,&quot;name&quot;:&quot;&quot;,&quot;hid&quot;:&quot;table11&quot;,&quot;secid&quot;:26,&quot;range&quot;:&quot;32398-32612&quot;} -->
</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;WPA key reinstallation attack workaround&quot;,&quot;hid&quot;:&quot;wpa_key_reinstallation_attack_workaround&quot;,&quot;codeblockOffset&quot;:6,&quot;secid&quot;:24,&quot;range&quot;:&quot;30564-32613&quot;} -->
<h3 class="sectionedit27" id="wps_options">WPS options</h3>
<div class="level3">

<p>
Listing of <a href="http://en.wikipedia.org/wiki/Wi-Fi_Protected_Setup" class="urlextern" title="http://en.wikipedia.org/wiki/Wi-Fi_Protected_Setup" rel="ugc nofollow">Wi-Fi Protected Setup</a> related options.
</p>

<p>
<img src="/lib/images/smileys/exclaim.svg" class="icon smiley" alt=":!:" /> Support for WPS is provided by packages <em>wpad</em> and <em>hostapd-utils</em>.
Default package <em>wpad-mini</em> is not enough.
</p>

<p>
<img src="/lib/images/smileys/exclaim.svg" class="icon smiley" alt=":!:" /> WPS is possible only when encryption PSK/PSK2 is selected.
</p>
<div class="table sectionedit28"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Name </th><th class="col1"> Type </th><th class="col2"> Required </th><th class="col3"> Default </th><th class="col4"> Description </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> <em>wps_config</em> </td><td class="col1"> list </td><td class="col2"> no </td><td class="col3"> <em>(none)</em> </td><td class="col4"> List of configuration methods. Currentlly supported methods are: <em>push_button</em>. </td>
	</tr>
	<tr class="row2">
		<td class="col0"> <em>wps_device_name</em> </td><td class="col1"> string </td><td class="col2"> no </td><td class="col3"> <em>LEDE <abbr title="Access Point">AP</abbr></em> </td><td class="col4"> User-friendly description of device; up to 32 octets encoded in UTF-8. </td>
	</tr>
	<tr class="row3">
		<td class="col0"> <em>wps_device_type</em> </td><td class="col1"> string </td><td class="col2"> no </td><td class="col3"> <em>6-0050F204-1</em> </td><td class="col4"> Primary device type. Examples: <em>1-0050F204-1</em> (Computer / PC), <em>1-0050F204-2</em> (Computer / Server), <em>5-0050F204-1</em> (Storage / NAS), <em>6-0050F204-1</em> (Network Infrastructure / <abbr title="Access Point">AP</abbr>)</td>
	</tr>
	<tr class="row4">
		<td class="col0"> <em>wps_label</em> </td><td class="col1"> boolean</td><td class="col2"> no </td><td class="col3"> <em>0</em> </td><td class="col4"> Enable <em>label</em> configuration method. </td>
	</tr>
	<tr class="row5">
		<td class="col0"> <em>wps_manufacturer</em> </td><td class="col1"> string </td><td class="col2"> no </td><td class="col3"> <em>lede-project.org</em> </td><td class="col4"> The manufacturer of the device (up to 64 <abbr title="American Standard Code for Information Interchange">ASCII</abbr> characters). </td>
	</tr>
	<tr class="row6">
		<td class="col0"> <em>wps_pushbutton</em> </td><td class="col1"> boolean</td><td class="col2"> no </td><td class="col3"> <em>0</em> </td><td class="col4"> Enable <em>push-button</em> configuration method. </td>
	</tr>
	<tr class="row7">
		<td class="col0"> <em>wps_pin</em> </td><td class="col1"> string </td><td class="col2"> no </td><td class="col3"> none </td><td class="col4"> The PIN to use with WPS-PIN (only in external registrar mode?) </td>
	</tr>
</table></div>
<!-- EDIT{&quot;target&quot;:&quot;table&quot;,&quot;name&quot;:&quot;&quot;,&quot;hid&quot;:&quot;table12&quot;,&quot;secid&quot;:28,&quot;range&quot;:&quot;32928-33872&quot;} -->
<p>
Minimal steps needed to get WPS running:
</p>
<ul>
<li class="level1"><div class="li"> Add <em>option wps_pushbutton &#039;1</em> &#039; to a <em>config wifi-iface</em> section that is configured for WPA2-PSK in /etc/config/wireless</div>
</li>
<li class="level1"><div class="li"> opkg update</div>
</li>
<li class="level1"><div class="li"> opkg remove wpad-mini</div>
</li>
<li class="level1"><div class="li"> opkg install wpad hostapd-utils</div>
</li>
<li class="level1"><div class="li"> reboot</div>
</li>
</ul>

<p>
After rebooting, instead of pushing the WPS button, you can manually initiate the WPS process (which is safer than using the button if it doubles as a reset button):
</p>
<pre class="code bash">hostapd_cli wps_pbc</pre>

<p>
When using WPS-PIN:
</p>
<ul>
<li class="level1"><div class="li"> Add <em>option wps_label &#039;1</em> &#039; to a <em>config wifi-iface</em> section that is configured for WPA2-PSK in /etc/config/wireless</div>
</li>
<li class="level1"><div class="li"> opkg update</div>
</li>
<li class="level1"><div class="li"> opkg remove wpad-mini</div>
</li>
<li class="level1"><div class="li"> opkg install wpad hostapd-utils</div>
</li>
<li class="level1"><div class="li"> reboot</div>
</li>
</ul>

<p>
After rebooting, the WPS PIN needs to be given to hostapd each time a station tries to connect.
The PIN may <strong>not</strong> be used multiple times, as an active attacker can recover half of it during each try.
The “any” keyword can be replaced by the specific stations EUUID, as printed in hostapd log.
</p>
<pre class="code bash">hostapd_cli wps_pin any <span class="re1">$PIN</span></pre>

<p>
Example:
</p>
<pre class="code bash"><span class="co0"># /etc/config/wireless</span>
...
config wifi-iface
	option device <span class="st_h">'radio0'</span>
	option mode <span class="st_h">'ap'</span>
	option ssid <span class="st_h">'My-WiFi-Home'</span>
	option network <span class="st_h">'lan'</span>
	option encryption <span class="st_h">'psk2'</span>
	option key <span class="st_h">'WiFipassword'</span>
	option ieee80211w <span class="st_h">'0'</span>
	option wps_pushbutton <span class="st_h">'1'</span></pre>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;WPS options&quot;,&quot;hid&quot;:&quot;wps_options&quot;,&quot;codeblockOffset&quot;:7,&quot;secid&quot;:27,&quot;range&quot;:&quot;32614-35196&quot;} -->
<h3 class="sectionedit29" id="neighbor_reports_options_80211k">Neighbor reports options (802.11k)</h3>
<div class="level3">

<p>
This function needs the full version of hostapd or wpad. See also <a href="/docs/guide-user/network/wifi/roaming" class="wikilink1" title="docs:guide-user:network:wifi:roaming" data-wiki-id="docs:guide-user:network:wifi:roaming">Wifi Roaming</a>.
</p>
<div class="table sectionedit30"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0 leftalign"> Name                     </th><th class="col1 leftalign"> Type     </th><th class="col2 leftalign"> Required  </th><th class="col3 leftalign"> Default                  </th><th class="col4 leftalign"> Description                                            </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0 leftalign"> <em>ieee80211k</em>           </td><td class="col1 leftalign"> boolean  </td><td class="col2 leftalign"> no        </td><td class="col3 leftalign"> <em>0</em>                    </td><td class="col4 leftalign"> Enables Radio Resource Measurement (802.11k) support.  </td>
	</tr>
	<tr class="row2">
		<td class="col0 leftalign"> <em>rrm_neighbor_report</em>  </td><td class="col1 leftalign"> boolean  </td><td class="col2 leftalign"> no        </td><td class="col3 leftalign"> Value of <em>ieee80211k</em>  </td><td class="col4 leftalign"> Enable neighbor report via radio measurements.         </td>
	</tr>
	<tr class="row3">
		<td class="col0 leftalign"> <em>rrm_beacon_report</em>    </td><td class="col1 leftalign"> boolean  </td><td class="col2 leftalign"> no        </td><td class="col3 leftalign"> Value of <em>ieee80211k</em>  </td><td class="col4 leftalign"> Enable beacon report via radio measurements.           </td>
	</tr>
</table></div>
<!-- EDIT{&quot;target&quot;:&quot;table&quot;,&quot;name&quot;:&quot;&quot;,&quot;hid&quot;:&quot;table13&quot;,&quot;secid&quot;:30,&quot;range&quot;:&quot;35363-35906&quot;} -->
</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Neighbor reports options (802.11k)&quot;,&quot;hid&quot;:&quot;neighbor_reports_options_80211k&quot;,&quot;codeblockOffset&quot;:10,&quot;secid&quot;:29,&quot;range&quot;:&quot;35197-35907&quot;} -->
<h3 class="sectionedit31" id="bss_transition_management_frames_options_80211v">BSS transition management frames options (802.11v)</h3>
<div class="level3">

<p>
This function needs the full version of hostapd or wpad. See also <a href="/docs/guide-user/network/wifi/roaming" class="wikilink1" title="docs:guide-user:network:wifi:roaming" data-wiki-id="docs:guide-user:network:wifi:roaming">Wifi Roaming</a>.
</p>
<div class="table sectionedit32"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Name </th><th class="col1"> Type </th><th class="col2"> Required </th><th class="col3"> Default </th><th class="col4"> Description </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> <em>ieee80211v (Removed)</em> </td><td class="col1"> boolean</td><td class="col2"> no </td><td class="col3"> <em>0</em> </td><td class="col4"> Enables BSS transition (802.11v) support. This option was removed in <a href="https://github.com/openwrt/openwrt/commit/b518f07d4b8ae144453c606c9ec4ecef7d39f968" class="urlextern" title="https://github.com/openwrt/openwrt/commit/b518f07d4b8ae144453c606c9ec4ecef7d39f968" rel="ugc nofollow"> this</a> commit. </td>
	</tr>
	<tr class="row2">
		<td class="col0"> <em>time_advertisement</em> </td><td class="col1"> integer</td><td class="col2"> no </td><td class="col3"> <em>0</em> </td><td class="col4"> Time advertisement. 0 is disabled and 2 is enabled (see hostapd&#039;s <a href="https://w1.fi/cgit/hostap/plain/hostapd/hostapd.conf" class="urlextern" title="https://w1.fi/cgit/hostap/plain/hostapd/hostapd.conf" rel="ugc nofollow"> time_advertisement</a> setting). </td>
	</tr>
	<tr class="row3">
		<td class="col0"> <em>time_zone</em> </td><td class="col1"> string</td><td class="col2"> no </td><td class="col3"> (none) </td><td class="col4"> Local time zone as specified in 8.3 of IEEE Std 1003.1-2004. </td>
	</tr>
	<tr class="row4">
		<td class="col0"> <em>wnm_sleep_mode</em> </td><td class="col1"> boolean</td><td class="col2"> no </td><td class="col3"> <em>0</em> </td><td class="col4"> WNM-Sleep Mode (extended sleep mode for stations). </td>
	</tr>
	<tr class="row5">
		<td class="col0"> <em>bss_transition</em> </td><td class="col1"> boolean</td><td class="col2"> no </td><td class="col3"> <em>0</em> </td><td class="col4"> BSS Transition Management. </td>
	</tr>
</table></div>
<!-- EDIT{&quot;target&quot;:&quot;table&quot;,&quot;name&quot;:&quot;&quot;,&quot;hid&quot;:&quot;table14&quot;,&quot;secid&quot;:32,&quot;range&quot;:&quot;36090-36842&quot;} -->
</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;BSS transition management frames options (802.11v)&quot;,&quot;hid&quot;:&quot;bss_transition_management_frames_options_80211v&quot;,&quot;codeblockOffset&quot;:10,&quot;secid&quot;:31,&quot;range&quot;:&quot;35908-36843&quot;} -->
<h3 class="sectionedit33" id="fast_bss_transition_options_80211r">Fast BSS transition options (802.11r)</h3>
<div class="level3">

<p>
First note that 802.11r is not necessarily needed for <a href="/docs/guide-user/network/wifi/roaming" class="wikilink1" title="docs:guide-user:network:wifi:roaming" data-wiki-id="docs:guide-user:network:wifi:roaming">roaming</a> since most WiFi clients (e.g. phones, tablets, laptops) will roam regardless of access point features. The difference is that roaming without 802.11r will take longer. Without 802.11r roaming for PSK might take 150ms and with EAP 500ms+. With 802.11r roaming is reduced to 15-75ms, see the <a href="https://forum.openwrt.org/t/fast-seamless-roaming-through-ethernet-with-openwrt/182458/7" class="urlextern" title="https://forum.openwrt.org/t/fast-seamless-roaming-through-ethernet-with-openwrt/182458/7" rel="ugc nofollow">forum discussion</a>. So you will likely only see a difference if you are roaming whilst time-sensitive network traffic is being exchanged (e.g. <abbr title="Voice over Internet Protocol">VoIP</abbr>, video conference, online game, etc.).
</p>

<p>
To check if 802.11r is working properly, set log_level to 1 (cf. <a href="/docs/guide-user/network/wifi/basic#common_options1" class="wikilink1" title="docs:guide-user:network:wifi:basic" data-wiki-id="docs:guide-user:network:wifi:basic">Common Options</a>) and look for message “<em>FT authentication already completed - do not start 4-way handshake</em>” in your system log after roaming.
</p>
<div class="table sectionedit34"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0 leftalign"> Name                        </th><th class="col1 leftalign"> Type     </th><th class="col2 leftalign"> Required  </th><th class="col3 leftalign"> Default                                        </th><th class="col4 leftalign"> Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0 leftalign"> <em>ieee80211r</em>              </td><td class="col1 leftalign"> boolean  </td><td class="col2 leftalign"> no        </td><td class="col3 leftalign"> <em>0</em>                                          </td><td class="col4 leftalign"> Enables fast BSS transition (802.11r) support.                                                                                                                                                                                                                                                                                                                                                                                                                                                                     </td>
	</tr>
	<tr class="row2">
		<td class="col0 leftalign"> <em>nasid</em>                   </td><td class="col1 leftalign"> string   </td><td class="col2 leftalign"> no        </td><td class="col3 leftalign"> <em>(BSSID without colon)</em>                      </td><td class="col4 leftalign"> PMK-R0 Key Holder identifier (dot11FTR0KeyHolderID). A 1 to 48 octet identifier.                                                                                                                                                                                                                                                                                                                                                                                                                                   </td>
	</tr>
	<tr class="row3">
		<td class="col0 leftalign"> <em>mobility_domain</em>         </td><td class="col1 leftalign"> string   </td><td class="col2 leftalign"> no        </td><td class="col3 leftalign"> <em>(first 4 bytes of <code>md5sum</code> of the SSID)</em>  </td><td class="col4 leftalign"> Mobility Domain identifier (dot11FTMobilityDomainID, MDID). MDID is used to indicate a group of APs (within an ESS, i.e., sharing the same SSID) between which a STA can use Fast BSS Transition. 2-octet identifier as a hex string.                                                                                                                                                                                                                                                                              </td>
	</tr>
	<tr class="row4">
		<td class="col0 leftalign"> <em>r0_key_lifetime</em>         </td><td class="col1 leftalign"> integer  </td><td class="col2 leftalign"> no        </td><td class="col3 leftalign"> <em>10000</em>                                      </td><td class="col4 leftalign"> Default lifetime of the PMK-RO in minutes [1-65535].                                                                                                                                                                                                                                                                                                                                                                                                                                                               </td>
	</tr>
	<tr class="row5">
		<td class="col0 leftalign"> <em>r1_key_holder</em>           </td><td class="col1 leftalign"> string   </td><td class="col2 leftalign"> no        </td><td class="col3 leftalign"> <em>(BSSID) (hostapd default)</em>                  </td><td class="col4 leftalign"> PMK-R1 Key Holder identifier (dot11FTR1KeyHolderID). A 6-octet identifier as a hex string.                                                                                                                                                                                                                                                                                                                                                                                                                         </td>
	</tr>
	<tr class="row6">
		<td class="col0 leftalign"> <em>reassociation_deadline</em>  </td><td class="col1 leftalign"> integer  </td><td class="col2 leftalign"> no        </td><td class="col3 leftalign"> <em>1000</em>                                       </td><td class="col4 leftalign"> Reassociation deadline in time units (TUs / 1.024 ms, 1000-65535).  <br/>
<img src="/lib/images/smileys/exclaim.svg" class="icon smiley" alt=":!:" /> Warning: Some devices do not function properly with the default value of <em>1000</em>. Using <em>20000</em> which is the default used on Cisco gear appears to resolve these issues.                                                                                                                                                                                                                                                                                                                                                                                                                                                   </td>
	</tr>
	<tr class="row7">
		<td class="col0 leftalign"> <em>r0kh</em>                    </td><td class="col1 leftalign"> string   </td><td class="col2 leftalign"> no        </td><td class="col3 leftalign"> ff:ff:ff:ff:ff:ff,*,$key                       </td><td class="col4 leftalign"> List of R0KHs in the same Mobility Domain. Valid format: &lt;MAC address&gt;,&lt;NAS Identifier&gt;,&lt;256-bit key as hex string&gt; This list is used to map R0KH-ID (NAS Identifier) to a destination MAC address when requesting PMK-R1 key from the R0KH that the STA used during the Initial Mobility Domain Association. Key is generated with thep of auth_secret, so this should be the same for all APs.                                                                                                                   </td>
	</tr>
	<tr class="row8">
		<td class="col0 leftalign"> <em>r1kh</em>                    </td><td class="col1 leftalign"> string   </td><td class="col2 leftalign"> no        </td><td class="col3 leftalign"> 00:00:00:00:00:00,00:00:00:00:00:00,$key       </td><td class="col4 leftalign"> List of R1KHs in the same Mobility Domain. Valid format: &lt;MAC address&gt;,&lt;R1KH-ID&gt;,&lt;256-bit key as hex string&gt; This list is used to map R1KH-ID to a destination MAC address when sending PMK-R1 key from the R0KH. This is also the list of authorized R1KHs in the MD that can request PMK-R1 keys.                                                                                                                                                                                                                </td>
	</tr>
	<tr class="row9">
		<td class="col0 leftalign"> <em>pmk_r1_push</em>             </td><td class="col1 leftalign"> boolean  </td><td class="col2 leftalign"> no        </td><td class="col3 leftalign"> <em>0</em>                                          </td><td class="col4 leftalign"> Whether PMK-R1 push is enabled at R0KH. <br/>
<img src="/lib/images/smileys/exclaim.svg" class="icon smiley" alt=":!:" /> Warning: If WPA3 (SAE) is enabled, setting this will break fast BSS transition (802.11r).                                                                                                                                                                                                                                                                                                                                                                                                                                  </td>
	</tr>
	<tr class="row10">
		<td class="col0 leftalign"> <em>ft_over_ds</em>              </td><td class="col1 leftalign"> boolean  </td><td class="col2 leftalign"> no        </td><td class="col3 leftalign"> <em>0</em>                                          </td><td class="col4 leftalign"> Whether to enable FT-over-DS. <br/>
<img src="/lib/images/smileys/exclaim.svg" class="icon smiley" alt=":!:" /> Warning: The previous default value of 0 for “FT over the DS” is known to cause issues especially with Apple devices. Setting this to 0 which instead uses “FT over the Air” is known to fix these issues and is the default as of openwrt <a href="https://github.com/openwrt/openwrt/commit/2984a0420649733662ff95b0aff720b8c2c19f8a" class="urlextern" title="https://github.com/openwrt/openwrt/commit/2984a0420649733662ff95b0aff720b8c2c19f8a" rel="ugc nofollow">23.05.0</a>.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      </td>
	</tr>
	<tr class="row11">
		<td class="col0 leftalign"> <em>ft_psk_generate_local</em>   </td><td class="col1 leftalign"> boolean  </td><td class="col2 leftalign"> no        </td><td class="col3 leftalign"> <em>1</em>                                          </td><td class="col4 leftalign"> Whether to generate FT response locally for PSK networks. This avoids use of PMK-R1 push/pull from other APs with FT-PSK networks as the required information (PSK and other session data) is already locally available. <br/>
<img src="/lib/images/smileys/exclaim.svg" class="icon smiley" alt=":!:" /> Warning: For WPA3-only (SAE), setting this will break fast BSS transition (802.11r). For WPA2/3 mixed mode, you also need to disable this. Note that Fast Transition should continue working as r0kh and r1kh are automatically generated by default or you may elect to set r0kh &amp; r1kh manually.  </td>
	</tr>
</table></div>
<!-- EDIT{&quot;target&quot;:&quot;table&quot;,&quot;name&quot;:&quot;&quot;,&quot;hid&quot;:&quot;table15&quot;,&quot;secid&quot;:34,&quot;range&quot;:&quot;37831-45682&quot;} -->
</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Fast BSS transition options (802.11r)&quot;,&quot;hid&quot;:&quot;fast_bss_transition_options_80211r&quot;,&quot;codeblockOffset&quot;:10,&quot;secid&quot;:33,&quot;range&quot;:&quot;36844-45683&quot;} -->
<h3 class="sectionedit35" id="inactivity_timeout_options">Inactivity timeout options</h3>
<div class="level3">
<div class="table sectionedit36"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Name </th><th class="col1"> Type </th><th class="col2"> Required </th><th class="col3"> Default </th><th class="col4"> Description </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> <em>disassoc_low_ack</em> </td><td class="col1"> boolean</td><td class="col2"> no </td><td class="col3"> <em>1</em> </td><td class="col4"> Disassociate stations based on excessive transmission failures or other indications of connection loss. This depends on the driver capabilities and may not be available with all drivers. </td>
	</tr>
	<tr class="row2">
		<td class="col0"> <em>max_inactivity</em> </td><td class="col1"> integer</td><td class="col2"> no </td><td class="col3"> <em>300</em> </td><td class="col4"> Station inactivity limit in seconds: If a station does not send anything in ap_max_inactivity seconds, an empty data frame is sent to it in order to verify whether it is still in range. If this frame is not ACKed, the station will be disassociated and then deauthenticated.</td>
	</tr>
	<tr class="row3">
		<td class="col0"> <em>skip_inactivity_poll</em> </td><td class="col1"> boolean</td><td class="col2"> no </td><td class="col3"> <em>0</em> </td><td class="col4"> The inactivity polling can be disabled to disconnect stations based on inactivity timeout so that idle stations are more likely to be disconnected even if they are still in range of the <abbr title="Access Point">AP</abbr>. </td>
	</tr>
	<tr class="row4">
		<td class="col0"> <em>max_listen_interval</em> </td><td class="col1"> integer</td><td class="col2"> no </td><td class="col3"> <em>65535</em> </td><td class="col4"> Maximum allowed Listen Interval (how many Beacon periods STAs are allowed to remain asleep). </td>
	</tr>
</table></div>
<!-- EDIT{&quot;target&quot;:&quot;table&quot;,&quot;name&quot;:&quot;&quot;,&quot;hid&quot;:&quot;table16&quot;,&quot;secid&quot;:36,&quot;range&quot;:&quot;45721-46721&quot;} -->
</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Inactivity timeout options&quot;,&quot;hid&quot;:&quot;inactivity_timeout_options&quot;,&quot;codeblockOffset&quot;:10,&quot;secid&quot;:35,&quot;range&quot;:&quot;45684-46723&quot;} -->
<h2 class="sectionedit37" id="wi-fi_stations">Wi-Fi Stations</h2>
<div class="level2">

<p>
The <em>wifi-station</em> section allows matching a client (station) based on it&#039;s PSK or MAC Address and tagging it with a <abbr title="Virtual Local Area Network">VLAN</abbr> ID. It can be used to replicate the behaviour of <em>wpa_psk_file</em> in native UCI.
</p>

<p>
<img src="/lib/images/smileys/exclaim.svg" class="icon smiley" alt=":!:" /> WPA3 SAE is supported since 24.10.
</p>
<div class="table sectionedit38"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0 leftalign"> Name       </th><th class="col1 leftalign"> Type     </th><th class="col2 leftalign"> Required  </th><th class="col3 leftalign"> Description                                                                             </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0 leftalign"> <em>iface</em>  </td><td class="col1 leftalign"> string   </td><td class="col2 leftalign"> no        </td><td class="col3 leftalign"> Wireless interface this station will be matched for (empty would match all interfaces)  </td>
	</tr>
	<tr class="row2">
		<td class="col0 leftalign"> <em>vid</em>    </td><td class="col1 leftalign"> integer  </td><td class="col2 leftalign"> no        </td><td class="col3 leftalign"> <abbr title="Virtual Local Area Network">VLAN</abbr> ID to assign station to (defaults to no <abbr title="Virtual Local Area Network">VLAN</abbr>)                                      </td>
	</tr>
	<tr class="row3">
		<td class="col0 leftalign"> <em>mac</em>    </td><td class="col1 leftalign"> string   </td><td class="col2 leftalign"> no        </td><td class="col3 leftalign"> MAC address to match authenticating stations against                                    </td>
	</tr>
	<tr class="row4">
		<td class="col0 leftalign"> <em>key</em>    </td><td class="col1 leftalign"> string   </td><td class="col2 leftalign"> yes       </td><td class="col3 leftalign"> PSK to match authenticating stations against                                            </td>
	</tr>
</table></div>
<!-- EDIT{&quot;target&quot;:&quot;table&quot;,&quot;name&quot;:&quot;&quot;,&quot;hid&quot;:&quot;table17&quot;,&quot;secid&quot;:38,&quot;range&quot;:&quot;46998-47637&quot;} -->
<p>
Example:
</p>
<pre class="code bash">config	wifi-station
	option	iface		<span class="st_h">'iface_radio0'</span>
	option	vid		<span class="st_h">'10'</span>
	option	mac		<span class="st_h">'12:34:56:78:90:00'</span>
	option	key		<span class="st_h">'hunter12'</span></pre>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Wi-Fi Stations&quot;,&quot;hid&quot;:&quot;wi-fi_stations&quot;,&quot;codeblockOffset&quot;:10,&quot;secid&quot;:37,&quot;range&quot;:&quot;46724-47793&quot;} -->
<h2 class="sectionedit39" id="wi-fi_vlans">Wi-Fi VLANs</h2>
<div class="level2">

<p>
The <em>wifi-vlan</em> section allows you to map between <abbr title="Virtual Local Area Network">VLAN</abbr> tagging on hostapd interfaces and their corresponding networks.
</p>

<p>
<img src="/lib/images/smileys/exclaim.svg" class="icon smiley" alt=":!:" /> If the underlying interface is a DSA interface (Hardware Switch) make sure to configure the VLANs appropiately to guarantee the packets flow further.
</p>
<div class="table sectionedit40"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0 leftalign"> Name         </th><th class="col1 leftalign"> Type     </th><th class="col2 leftalign"> Required  </th><th class="col3 leftalign"> Description                                                                          </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0 leftalign"> <em>iface</em>    </td><td class="col1 leftalign"> string   </td><td class="col2 leftalign"> no        </td><td class="col3 leftalign"> Wireless interface this <abbr title="Virtual Local Area Network">VLAN</abbr> will be matched for (empty would match all interfaces)  </td>
	</tr>
	<tr class="row2">
		<td class="col0 leftalign"> <em>vid</em>      </td><td class="col1 leftalign"> integer  </td><td class="col2 leftalign"> yes       </td><td class="col3 leftalign"> <abbr title="Virtual Local Area Network">VLAN</abbr> ID to match against                                                             </td>
	</tr>
	<tr class="row3">
		<td class="col0 leftalign"> <em>network</em>  </td><td class="col1 leftalign"> string   </td><td class="col2 leftalign"> yes       </td><td class="col3 leftalign"> Network interface that this <abbr title="Virtual Local Area Network">VLAN</abbr> ID will be assigned                                 </td>
	</tr>
	<tr class="row4">
		<td class="col0 leftalign"> <em>name</em>     </td><td class="col1 leftalign"> string   </td><td class="col2 leftalign"> yes       </td><td class="col3 leftalign"> Name for the <abbr title="Virtual Local Area Network">VLAN</abbr> entry. Maximum length: 14 - Wi-Fi interface name length            </td>
	</tr>
</table></div>
<!-- EDIT{&quot;target&quot;:&quot;table&quot;,&quot;name&quot;:&quot;&quot;,&quot;hid&quot;:&quot;table18&quot;,&quot;secid&quot;:40,&quot;range&quot;:&quot;48096-48730&quot;} -->
<p>
Example:
</p>
<pre class="code bash">config	wifi-vlan
	option	iface		<span class="st_h">'iface_radio0'</span>
	option	network		<span class="st_h">'dmz'</span>
	option	vid		<span class="st_h">'10'</span>
	option	name		<span class="st_h">'10'</span></pre>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Wi-Fi VLANs&quot;,&quot;hid&quot;:&quot;wi-fi_vlans&quot;,&quot;codeblockOffset&quot;:11,&quot;secid&quot;:39,&quot;range&quot;:&quot;47794-48868&quot;} -->
<h2 class="sectionedit41" id="startstop_wireless">Start/Stop wireless</h2>
<div class="level2">

<p>
Wireless interfaces are brought up and down with the <em>wifi</em> command. To (re)start the wireless after a configuration change, use <em>wifi</em>, to disable the wireless, run <em>wifi down</em>. In case your platform carries multiple wireless devices it is possible to start or run down each of them individually by making the <em>wifi</em> command be followed by the device name as a second parameter. Note: The <em>wifi</em> command has an optional first parameter that defaults to <em>up</em> , i.e. start the device. To make the second parameter indeed a second parameter it is mandatory to give a first parameter which can be anything except <em>down</em>. E.g. to start the interface <em>wlan2</em> issue: <em>wifi up wlan2</em>; to stop that interface: <em>wifi down wlan2</em>. If the platform has also e.g. wlan0 and wlan1 these will not be touched by stopping or starting wlan2 selectively.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Start\/Stop wireless&quot;,&quot;hid&quot;:&quot;startstop_wireless&quot;,&quot;codeblockOffset&quot;:12,&quot;secid&quot;:41,&quot;range&quot;:&quot;48869-49757&quot;} -->
<h2 class="sectionedit42" id="regenerate_configuration">Regenerate configuration</h2>
<div class="level2">

<p>
To rebuild the configuration file, e.g. after installing a new wireless driver, remove the existing wireless configuration (if any) and use the <em>wifi config</em> command:
</p>
<pre class="code bash"><span class="kw2">rm</span> <span class="re5">-f</span> <span class="sy0">/</span>etc<span class="sy0">/</span>config<span class="sy0">/</span>wireless
wifi config</pre>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Regenerate configuration&quot;,&quot;hid&quot;:&quot;regenerate_configuration&quot;,&quot;codeblockOffset&quot;:12,&quot;secid&quot;:42,&quot;range&quot;:&quot;49758-50024&quot;} -->
<h2 class="sectionedit43" id="htmodewi-fi_channel_width">htmode: Wi-Fi channel width</h2>
<div class="level2">

<p>
The Wi-Fi channel width is the range of frequencies i.e. how broad the signal is for transferring data.
Generally speaking, the bigger the channel width, the more data can be transmitted over the signal.
But as with everything there are drawbacks.
With larger channel widths, interference with others Wi-Fi networks or Bluetooth becomes a much larger issue, and making solid connections becomes much harder as well.
Think of it like a highway.
The wider the road, the more traffic (data) can pass through.
On the other hand, the more cars (routers) you have on the road, the more congested the traffic becomes.
</p>

<p>
Wi-Fi standard allows 10, 20, 22, 40, 80 and 160 <abbr title="Megahertz">MHz</abbr> but 10MHz is not used anymore, the 80 and 160 can be used only with 5 <abbr title="Gigahertz">GHz</abbr> frequency, and certain devices not being able to connect to APs with channel widths more than 40Mhz.
</p>

<p>
By default, the 2.4 <abbr title="Gigahertz">GHz</abbr> frequency uses a 20 <abbr title="Megahertz">MHz</abbr> channel width.
A 20MHz channel width is wide enough to span one channel.
A 40 <abbr title="Megahertz">MHz</abbr> channel width bonds two neighbouring 20 <abbr title="Megahertz">MHz</abbr> channels together, forming a 40 <abbr title="Megahertz">MHz</abbr> channel width; therefore, it allows for greater speed and faster transfer rates.
One “control” channel functions as the main channel, and the other “extension” as the auxiliary channel.
The main channel sends Beacon packets and data packets, and the auxiliary channel sends other packets.
The extension channel can either be “above” or “below” the control channel, as long as it doesn&#039;t go outside the band.
For example, if your control channel is 1, your extension channel has to “above”, because anything below channel 1 would be below the lowest frequency allowed in the 2.4GHz ISM band.
The extension channel has to be contiguous with the edge of the control channel, without overlapping.
</p>

<p>
<code>HT40+</code> means that centre frequency of the main 20 <abbr title="Megahertz">MHz</abbr> channel is higher than that of the auxiliary channel, and <code>HT40-</code> otherwise.
For example, if the centre frequency 149 and the centre frequency 153 reside on two 20 <abbr title="Megahertz">MHz</abbr> channels, 149plus indicates that the two 20 <abbr title="Megahertz">MHz</abbr> channels are bundled to form a 40 <abbr title="Megahertz">MHz</abbr> channel.
</p>

<p>
When the HT40 mode is used in the 2.4 <abbr title="Gigahertz">GHz</abbr> frequency band, there is only one non-overlapping channel.
Therefore, you are not advised to use the HT40 mode in the 2.4 <abbr title="Gigahertz">GHz</abbr> frequency band.
</p>
<ul>
<li class="level1"><div class="li"> <code>HT20</code> High Throughput 20MHz, 802.11n</div>
</li>
<li class="level1"><div class="li"> <code>HT40</code> High Throughput 40MHz, 802.11n</div>
</li>
<li class="level1"><div class="li"> <code>HT40-</code> High Throughput 40MHz, 802.11n, control channel is below extension channel.</div>
</li>
<li class="level1"><div class="li"> <code>HT40+</code> High Throughput 40MHz, 802.11n, control channel is above extension channel.</div>
</li>
<li class="level1"><div class="li"> <code>VHT20</code> Very High Throughput 20MHz, Supported by 802.11ac</div>
</li>
<li class="level1"><div class="li"> <code>VHT40</code> Very High Throughput 40MHz, Supported by 802.11ac</div>
</li>
<li class="level1"><div class="li"> <code>VHT80</code> Very High Throughput 80MHz, Supported by 802.11ac</div>
</li>
<li class="level1"><div class="li"> <code>VHT160</code> Very High Throughput 160MHz, Supported by 802.11ac</div>
</li>
<li class="level1"><div class="li"> <code>NOHT</code> disables 11n</div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;htmode: Wi-Fi channel width&quot;,&quot;hid&quot;:&quot;htmodewi-fi_channel_width&quot;,&quot;codeblockOffset&quot;:13,&quot;secid&quot;:43,&quot;range&quot;:&quot;50025-52870&quot;} -->
<h3 class="sectionedit44" id="mhz_channel_width_up_to_300_mbps_for_80211n_devices_only">40 MHz channel width (up to 300 Mbps) for 802.11n devices ONLY</h3>
<div class="level3">

<p>
The default max channel width <code>VT20</code> i.e. 20MHz supports a max speed of 150Mbps.
Increasing this to 40MHz will increase the maximum theoretical speed to 300Mbps.
The catch is that in areas with a lot of Wi-Fi traffic (and Bluetooth etc. which share the same radio frequencies), 40MHz may decrease your overall speed.
Devices <strong>should</strong> detect interference when using 40MHz, and drop back to 20MHz.
Edit <code>htmode</code> options in the file <code>/etc/config/wireless</code> and restart the Wi-Fi <abbr title="Access Point">AP</abbr> to test various channel widths.
Note that option <em>htmode</em> should be set to either <code>HT40+</code> (for channels 1-7) or <code>HT40-</code> (for channels 5-11) or simply <code>HT40</code>.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;40 MHz channel width (up to 300 Mbps) for 802.11n devices ONLY&quot;,&quot;hid&quot;:&quot;mhz_channel_width_up_to_300_mbps_for_80211n_devices_only&quot;,&quot;codeblockOffset&quot;:13,&quot;secid&quot;:44,&quot;range&quot;:&quot;52871-53596&quot;} -->
<h2 class="sectionedit45" id="ht_high_throughput_capabilities">HT (high throughput) capabilities</h2>
<div class="level2">

<p>
When using the mac80211 device, you can choose to enable/disable a number of high-throughput capabilities by setting any of the following options in the wifi-device section.
Most capabilities are detected and enabled by default (in Barrier Breaker or later).
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;HT (high throughput) capabilities&quot;,&quot;hid&quot;:&quot;ht_high_throughput_capabilities&quot;,&quot;codeblockOffset&quot;:13,&quot;secid&quot;:45,&quot;range&quot;:&quot;53597-53902&quot;} -->
<h3 class="sectionedit46" id="n_capabilities">802.11n capabilities</h3>
<div class="level3">

<p>
The following capabilities relate to 802.11n operation, and are enabled when the htmode option is set to any of HT20 HT40 HT40- HT40+ VHT20 VHT40 VHT80 or VHT160.
Capabilities supported by a device can be queried with the <code>iw list</code> command, and are listed in the “Capabilities” section, refer to <a href="https://w1.fi/cgit/hostap/tree/hostapd/hostapd.conf" class="urlextern" title="https://w1.fi/cgit/hostap/tree/hostapd/hostapd.conf" rel="ugc nofollow">https://w1.fi/cgit/hostap/tree/hostapd/hostapd.conf</a> for a description of the options (search for ht_capab on that web page).
</p>
<div class="table sectionedit47"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Name </th><th class="col1"> Type </th><th class="col2"> Default </th><th class="col3"> Capability </th><th class="col4"> Description </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> ldpc </td><td class="col1"> boolean </td><td class="col2"> 1 </td><td class="col3"> LDPC </td><td class="col4"> LDPC (Low-Density Parity-Check code) capability </td>
	</tr>
	<tr class="row2">
		<td class="col0"> greenfield </td><td class="col1"> boolean </td><td class="col2"> 0 </td><td class="col3"> GF </td><td class="col4"> Receive Greenfield - treats pre-80211n traffic as noise.<br/>
<img src="/lib/images/smileys/exclaim.svg" class="icon smiley" alt=":!:" /> Warning: this can cause significant packet collisions and reduction in performance if older pre-n (a/b/g) traffic is present in the local area (including other networks which you don&#039;t control); it is disabled by default for a reason. </td>
	</tr>
	<tr class="row3">
		<td class="col0"> short_gi_20 </td><td class="col1"> boolean </td><td class="col2"> 1 </td><td class="col3"> SHORT-GI-20 </td><td class="col4"> Short GI (guard interval) for 20 <abbr title="Megahertz">MHz</abbr> </td>
	</tr>
	<tr class="row4">
		<td class="col0"> short_gi_40 </td><td class="col1"> boolean </td><td class="col2"> 1 </td><td class="col3"> SHORT-GI-40 </td><td class="col4"> Short GI for 40 <abbr title="Megahertz">MHz</abbr> </td>
	</tr>
	<tr class="row5">
		<td class="col0"> tx_stbc </td><td class="col1"> integer </td><td class="col2"> 1 </td><td class="col3"> TX-STBC </td><td class="col4"> Transmit STBC (Space-Time Block Coding) </td>
	</tr>
	<tr class="row6">
		<td class="col0"> rx_stbc </td><td class="col1"> integer </td><td class="col2"> 3 </td><td class="col3"> RX-STBC1<br/>
RX-STBC12<br/>
RX-STBC123 </td><td class="col4"> Receive STBC:<br/>
1 - one spatial stream,<br/>
2 - one or two spatial streams,<br/>
3 - one, two, or three spatial streams,<br/>
0 - disables capability </td>
	</tr>
	<tr class="row7">
		<td class="col0"> max_amsdu </td><td class="col1"> boolean </td><td class="col2"> 1 </td><td class="col3"> MAX-AMSDU-7935 </td><td class="col4"> Maximum A-MSDU length of 7935 octets (3839 octets if option set to 0) </td>
	</tr>
	<tr class="row8">
		<td class="col0"> dsss_cck_40 </td><td class="col1"> boolean </td><td class="col2"> 1 </td><td class="col3"> DSSS_CCK-40 </td><td class="col4"> DSSS/CCK Mode in 40 <abbr title="Megahertz">MHz</abbr> allowed in Beacon, Measurement Pilot and Probe Response frames </td>
	</tr>
</table></div>
<!-- EDIT{&quot;target&quot;:&quot;table&quot;,&quot;name&quot;:&quot;&quot;,&quot;hid&quot;:&quot;table19&quot;,&quot;secid&quot;:47,&quot;range&quot;:&quot;54358-55507&quot;} -->
</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;802.11n capabilities&quot;,&quot;hid&quot;:&quot;n_capabilities&quot;,&quot;codeblockOffset&quot;:13,&quot;secid&quot;:46,&quot;range&quot;:&quot;53903-55508&quot;} -->
<h3 class="sectionedit48" id="ac_capabilities">802.11ac capabilities</h3>
<div class="level3">

<p>
The following capabilities relate to 802.11ac operation, and are enabled when the htmode option is set to any of VHT20, VHT40, VHT80, or VHT160.
Capabilities supported by the device can be queried with the <code>iw list</code> command and are listed in the “VHT Capabilities” section.
</p>
<div class="table sectionedit49"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Name </th><th class="col1"> Type </th><th class="col2"> Default </th><th class="col3"> Capability </th><th class="col4"> Description </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> rxldpc </td><td class="col1"> boolean </td><td class="col2"> 1 </td><td class="col3"> RXLDPC </td><td class="col4"> Supports receiving LDPC coded pkts </td>
	</tr>
	<tr class="row2">
		<td class="col0"> short_gi_80 </td><td class="col1"> boolean </td><td class="col2"> 1 </td><td class="col3"> SHORT-GI-80 </td><td class="col4"> Supports reception of packets transmitted with TXVECTOR<br/>
params format equal to VHT and CBW = 80Mhz </td>
	</tr>
	<tr class="row3">
		<td class="col0"> short_gi_160 </td><td class="col1"> boolean </td><td class="col2"> 1 </td><td class="col3"> SHORT-GI-160 </td><td class="col4"> Supports reception of packets transmitted with TXVECTOR<br/>
params format equal to VHT and CBW = 160Mhz </td>
	</tr>
	<tr class="row4">
		<td class="col0"> tx_stbc_2by1 </td><td class="col1"> boolean </td><td class="col2"> 1 </td><td class="col3"> TX-STBC-2BY1 </td><td class="col4"> Supports transmission of at least 2&times;1 STBC<br/>
<img src="/lib/images/smileys/exclaim.svg" class="icon smiley" alt=":!:" /> currently ignored in trunk </td>
	</tr>
	<tr class="row5">
		<td class="col0"> su_beamformer </td><td class="col1"> boolean </td><td class="col2"> 1 </td><td class="col3"> SU-BEAMFORMER </td><td class="col4"> Single user beamformer </td>
	</tr>
	<tr class="row6">
		<td class="col0"> su_beamformee </td><td class="col1"> boolean </td><td class="col2"> 1 </td><td class="col3"> SU-BEAMFORMEE </td><td class="col4"> Single user beamformee </td>
	</tr>
	<tr class="row7">
		<td class="col0"> mu_beamformer </td><td class="col1"> boolean </td><td class="col2"> 1 </td><td class="col3"> MU-BEAMFORMER </td><td class="col4"> Supports operation as an MU beamformer </td>
	</tr>
	<tr class="row8">
		<td class="col0"> mu_beamformee </td><td class="col1"> boolean </td><td class="col2"> 1 </td><td class="col3"> MU-BEAMFORMEE </td><td class="col4"> Supports operation as an MU beamformee </td>
	</tr>
	<tr class="row9">
		<td class="col0"> vht_txop_ps </td><td class="col1"> boolean </td><td class="col2"> 1 </td><td class="col3"> VHT-TXOP-PS </td><td class="col4"> 0 = VHT <abbr title="Access Point">AP</abbr> doesn&#039;t support VHT TXOP PS (Power Save) mode (OR) VHT STA not in VHT TXOP PS mode,<br/>
1 = VHT <abbr title="Access Point">AP</abbr> supports VHT TXOP PS mode (OR) VHT STA is in VHT TXOP power save mode </td>
	</tr>
	<tr class="row10">
		<td class="col0"> htc_vht </td><td class="col1"> boolean </td><td class="col2"> 1 </td><td class="col3"> HTC-VHT </td><td class="col4"> STA supports receiving a VHT variant HT Control field. </td>
	</tr>
	<tr class="row11">
		<td class="col0"> rx_antenna_pattern </td><td class="col1"> boolean </td><td class="col2"> 1 </td><td class="col3"> RX-ANTENNA-PATTERN </td><td class="col4"> Rx antenna pattern does not change during the lifetime of an association </td>
	</tr>
	<tr class="row12">
		<td class="col0"> tx_antenna_pattern </td><td class="col1"> boolean </td><td class="col2"> 1 </td><td class="col3"> TX-ANTENNA-PATTERN </td><td class="col4"> Tx antenna pattern does not change during the lifetime of an association </td>
	</tr>
	<tr class="row13">
		<td class="col0"> vht_max_a_mpdu_len_exp </td><td class="col1"> integer </td><td class="col2"> 7 </td><td class="col3"> MAX-A-MPDU-LEN-EXP&lt;0-7&gt; </td><td class="col4"> Indicates the maximum length of A-MPDU pre-<abbr title="End of file">EOF</abbr> padding that the STA can recv </td>
	</tr>
	<tr class="row14">
		<td class="col0"> vht_max_mpdu </td><td class="col1"> integer </td><td class="col2"> 11454 </td><td class="col3"> MAX-MPDU-7991<br/>
MAX-MPDU-11454 </td><td class="col4"> Maximum MPDU length </td>
	</tr>
	<tr class="row15">
		<td class="col0"> rx_stbc </td><td class="col1"> integer </td><td class="col2"> 4 </td><td class="col3"> 0 - not supported,<br/>
1 - RX-STBC-1,<br/>
2 - RX-STBC-12,<br/>
3 - RX-STBC-123,<br/>
4 - RX-STBC-1234 </td><td class="col4"> Supports reception of PPDUs using STBC:<br/>
1 - one spatial stream,<br/>
2 - one or two spatial streams,<br/>
etc.<br/>
<img src="/lib/images/smileys/exclaim.svg" class="icon smiley" alt=":!:" /> currently used incorrectly in trunk </td>
	</tr>
	<tr class="row16">
		<td class="col0"> vht_link_adapt </td><td class="col1"> integer </td><td class="col2"> 3 </td><td class="col3"> VHT-LINK-ADAPT&lt;0-3&gt; </td><td class="col4"> TA supports link adaptation using VHT variant HT Control field </td>
	</tr>
	<tr class="row17">
		<td class="col0"> vht160 </td><td class="col1"> integer </td><td class="col2"> 2 </td><td class="col3"> VHT160<br/>
VHT160-80PLUS80 </td><td class="col4"> Supported channel widths:<br/>
0 - 160MHz and 80+80 <abbr title="Megahertz">MHz</abbr> not supported, 1 - 160 <abbr title="Megahertz">MHz</abbr> supported,<br/>
2 - 160MHz and 80+80 <abbr title="Megahertz">MHz</abbr> supported </td>
	</tr>
</table></div>
<!-- EDIT{&quot;target&quot;:&quot;table&quot;,&quot;name&quot;:&quot;&quot;,&quot;hid&quot;:&quot;table20&quot;,&quot;secid&quot;:49,&quot;range&quot;:&quot;55818-58078&quot;} -->
</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;802.11ac capabilities&quot;,&quot;hid&quot;:&quot;ac_capabilities&quot;,&quot;codeblockOffset&quot;:13,&quot;secid&quot;:48,&quot;range&quot;:&quot;55509-58079&quot;} -->
<h2 class="sectionedit50" id="dfsradar_detection">DFS / radar detection</h2>
<div class="level2">

<p>
In many countries, operating Wi-Fi devices on some or all channels in the 5GHz band requires radar detection and <a href="/docs/techref/dfs" class="wikilink1" title="docs:techref:dfs" data-wiki-id="docs:techref:dfs">DFS</a> <a href="http://wifi-insider.com/wlan/dfs.htm" class="urlextern" title="http://wifi-insider.com/wlan/dfs.htm" rel="ugc nofollow">(explanation)</a>.
If you define a channel in your wireless config that requires DFS according to your country regulations, the 5GHz radio device won’t start up unless the firmware image is able to provide DFS support (i.e. it is both included and enabled).
More technical details of the Linux implementation can be found <a href="https://wireless.wiki.kernel.org/en/developers/DFS" class="urlextern" title="https://wireless.wiki.kernel.org/en/developers/DFS" rel="ugc nofollow">here</a>.
DFS works as follows in Linux: The driver detects radar pulses and reports this to nl80211 where the information is processed.
If a series of pulses matches one of the defined radar patterns, this will be reported to the user space application (e.g. hostapd) which in turn reacts by switching to another channel.
</p>

<p>
The following configuration specifies channel 104 which needs DFS support as implicitly stated with country code DE:
</p>
<pre class="code bash">config	wifi-device		<span class="st_h">'radio0'</span>
	option	<span class="kw3">type</span>		<span class="st_h">'mac80211'</span>
	option	channel		<span class="st_h">'104'</span>
	option	hwmode		<span class="st_h">'11a'</span>
	option	path		<span class="st_h">'pci0000:00/0000:00:00.0'</span>
	option	htmode		<span class="st_h">'HT20'</span>
	option	country		<span class="st_h">'DE'</span>
&nbsp;
config	wifi-iface
	option	device		<span class="st_h">'radio0'</span>
	option	network		<span class="st_h">'lan'</span>
	option	mode		<span class="st_h">'ap'</span>
	option	ssid		<span class="st_h">'OpenWrt'</span>
	option	encryption	<span class="st_h">'none'</span></pre>

<p>
You can check the country (regulatory domain) your Wi-Fi card thinks it must conform to with
</p>
<pre class="code bash">iw reg get</pre>

<p>
If in doubt, double check your hostapd-phy.conf to make sure it contains the following values, and that your country code is set:
</p>
<pre class="code bash"><span class="re2">country_code</span>=DE
<span class="re2">ieee80211n</span>=<span class="nu0">1</span>
<span class="re2">ieee80211d</span>=<span class="nu0">1</span>
<span class="re2">ieee80211h</span>=<span class="nu0">1</span>
<span class="re2">hw_mode</span>=a</pre>

<p>
If radar detection is working, DFS channels will show up like this (here for Belgium, <em>iw phy1 info</em> output trimmed):
</p>
<pre class="code">Frequencies:
* 5220 MHz [44] (17.0 dBm)
* 5240 MHz [48] (17.0 dBm)
* 5260 MHz [52] (20.0 dBm) (radar detection)
DFS state: usable (for 2155257 sec)
DFS CAC time: 60000 ms
* 5280 MHz [56] (20.0 dBm) (radar detection)
DFS state: usable (for 2155257 sec)
DFS CAC time: 60000 ms</pre>

<p>
<img src="/lib/images/smileys/exclaim.svg" class="icon smiley" alt=":!:" /> When DFS is on, there will be a delay before the interface is enabled (e.g. after reboot).
During this time period (often 60 seconds, and determined by local reglations) luci will report the interface is disabled.
This time period is used to detect the presence of other signals on the channel (Channel Availability Check Time).
This process can be monitored with:
</p>
<pre class="code bash">logread <span class="re5">-f</span></pre>

<p>
If you select a channel that requires DFS in your country and enable HT40, this may result in the <strong>DFS start_dfs_cac() failed</strong> error (visible with logread):
</p>
<pre class="code">Configuration file: /var/run/hostapd-phy1.conf
wlan1: interface state UNINITIALIZED-&gt;COUNTRY_UPDATE
wlan1: interface state COUNTRY_UPDATE-&gt;HT_SCAN
wlan1: interface state HT_SCAN-&gt;DFS
wlan1: DFS-CAC-START freq=5680 chan=136 sec_chan=-1, width=0, seg0=0, seg1=0, cac_time=60s
DFS start_dfs_cac() failed, -1
Interface initialization failed
wlan1: interface state DFS-&gt;DISABLED
wlan1: AP-DISABLED
hostapd_free_hapd_data: Interface wlan1 wasn&#039;t started</pre>

<p>
Changing your configuration to HT20 should resolve this.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;DFS \/ radar detection&quot;,&quot;hid&quot;:&quot;dfsradar_detection&quot;,&quot;codeblockOffset&quot;:13,&quot;secid&quot;:50,&quot;range&quot;:&quot;58080-&quot;} -->