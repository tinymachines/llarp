
<h1 class="sectionedit1" id="country_code_for_wi-fi_operation">Country code for Wi-Fi operation</h1>
<div class="level1">

<p>
OpenWrt is free software, but not free as in “free of responsibilities”. When operating a Wi-Fi capable device with OpenWrt you are responsible to be in conformance with your country&#039;s regulation.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Country code for Wi-Fi operation&quot;,&quot;hid&quot;:&quot;country_code_for_wi-fi_operation&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:1,&quot;range&quot;:&quot;1-245&quot;} -->
<h2 class="sectionedit2" id="mandatory_wi-fi_country_code">Mandatory Wi-Fi country code</h2>
<div class="level2">

<p>
When enabling Wi-Fi, it is mandatory to set the correct country code where your router is located.
</p>

<p>
This field is not meant to be set to where you were born, and not the country where you would prefer to live happily forever and ever with Katy Perry. It&#039;s also not some optional “cloud usage statistics” input field.
</p>

<p>
Follow the steps below:
</p>
<ol>
<li class="level1"><div class="li"> In LuCI go to Network → Wireless</div>
</li>
<li class="level1"><div class="li"> Click “Edit” on the SSID you want to enable</div>
</li>
<li class="level1"><div class="li"> Click “Advanced Settings” tab</div>
</li>
<li class="level1"><div class="li"> Select your “Country Code” from the dropdown</div>
</li>
<li class="level1"><div class="li"> Save and Apply</div>
</li>
</ol>

<p>
Note if you do not see an “Edit” button, then the WiFi radio is not setup, use “Add” and configure a radio.
Alternatively, you can <abbr title="Secure Shell">SSH</abbr> in and set the country with <code>iw reg set</code>
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Mandatory Wi-Fi country code&quot;,&quot;hid&quot;:&quot;mandatory_wi-fi_country_code&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:2,&quot;range&quot;:&quot;246-1018&quot;} -->
<h2 class="sectionedit3" id="wi-fi_outdoor_operation">Wi-Fi outdoor operation</h2>
<div class="level2">

<p>
Some Wi-Fi frequencies are for indoor use only, no matter if OpenWrt or the vendor firmware runs on your device. 
OpenWrt can by itself enforce settings like the maximum transmit power, but it cannot not tell if you have setup your OpenWrt device outdoors.
So know your allowed frequencies before providing Wi-Fi to the roses at the far end of your garden.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Wi-Fi outdoor operation&quot;,&quot;hid&quot;:&quot;wi-fi_outdoor_operation&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:3,&quot;range&quot;:&quot;1019-1412&quot;} -->
<h2 class="sectionedit4" id="how_does_openwrt_know_what_wi-fi_channel_settings_are_ok_for_my_country">How does OpenWrt know what Wi-Fi channel settings are OK for my country?</h2>
<div class="level2">

<p>
The following is for informational purposes for technically interested readers. There is nothing you have to do beyond setting your proper country code. OpenWrt automatically takes care of everything else for you.
</p>

<p>
OpenWrt relies on the OpenWrt-firmware-contained <a href="https://wireless.docs.kernel.org/en/latest/en/developers/regulatory/crda.html" class="urlextern" title="https://wireless.docs.kernel.org/en/latest/en/developers/regulatory/crda.html" rel="ugc nofollow">CRDA database</a> and <a href="https://web.git.kernel.org/pub/scm/linux/kernel/git/wens/wireless-regdb.git/tree/db.txt" class="urlextern" title="https://web.git.kernel.org/pub/scm/linux/kernel/git/wens/wireless-regdb.git/tree/db.txt" rel="ugc nofollow">db.txt</a>, containing the regulation details for each supported country.
</p>

<p>
If you are curious about specific details for your country, run <code>iw reg get</code> on the command line.
</p>

<p>
Example output for Belgium:
</p>
<pre class="code">country BE: DFS-ETSI
        (2402 - 2482 @ 40), (N/A, 20), (N/A)
        (5170 - 5250 @ 80), (N/A, 20), (N/A), AUTO-BW
        (5250 - 5330 @ 80), (N/A, 20), (0 ms), DFS, AUTO-BW
        (5490 - 5710 @ 160), (N/A, 27), (0 ms), DFS
        (57000 - 66000 @ 2160), (N/A, 40), (N/A)</pre>

<p>
Note: these are the max values your hardware is allowed to use, according to your country&#039;s regulation.<br/>

If your hardware could do more, it will be capped by these regulatory limits.
</p>

<p>
Explanation of some commonly used values in <code>iw</code> output:
</p>
<ul>
<li class="level1"><div class="li"> “(2402 - 2482)”: allowed Wi-Fi frequency range in <abbr title="Megahertz">MHz</abbr> (the output will not show Wi-Fi channel numbers).</div>
</li>
<li class="level1"><div class="li"> “@ ..” maximum allowed channel width in <abbr title="Megahertz">MHz</abbr> for the given frequency range.</div>
</li>
<li class="level1"><div class="li"> “(N/A, 20)”: antenna transmit power limit for this frequency range. If there is no unit label of “mW” given the limit is stated in “dBm”. These units are exponential: +3 = double the power, e.g. 17 dBm = 50 mW, 20 dBm = 100 mW.</div>
</li>
<li class="level1"><div class="li"> “AUTO-BW: “Auto-bandwidth”: the Wi-Fi stack may automatically decide the channel width.</div>
</li>
<li class="level1"><div class="li"> ”<a href="/docs/techref/dfs" class="wikilink1" title="docs:techref:dfs" data-wiki-id="docs:techref:dfs">DFS</a>“: “dynamic frequency selection”: Wi-Fi operating in those bands are required to employ a radar detection and avoidance capability. </div>
</li>
<li class="level1"><div class="li"> “NO-OUTDOOR”: Frequency range must not be used outdoors.</div>
</li>
</ul>

<p>
See the <a href="https://wireless.wiki.kernel.org/en/developers/Regulatory#crda" class="urlextern" title="https://wireless.wiki.kernel.org/en/developers/Regulatory#crda" rel="ugc nofollow">CRDA database</a> for further details.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;How does OpenWrt know what Wi-Fi channel settings are OK for my country?&quot;,&quot;hid&quot;:&quot;how_does_openwrt_know_what_wi-fi_channel_settings_are_ok_for_my_country&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:4,&quot;range&quot;:&quot;1413-3539&quot;} -->
<h2 class="sectionedit5" id="wi-fi_channels_and_weather_radar_detection">Wi-Fi channels and weather radar detection</h2>
<div class="level2">

<p>
The following is for informational purposes for technically interested readers. There is nothing you have to do beyond setting your proper country code. OpenWrt automatically takes care of everything else for you.
</p>

<p>
Regulatory requirements for <a href="/docs/techref/dfs" class="wikilink1" title="docs:techref:dfs" data-wiki-id="docs:techref:dfs">DFS</a>-marked channels requires that OpenWrt passively scans these Wi-Fi frequencies for 60 seconds for any weather radar activity, before using them for Wi-Fi activities.
</p>

<p>
An effect you may notice from this scan delay is a temporary user-unexpected Wi-Fi downtime. Such a short downtime may be experienced, when OpenWrt&#039;s Wi-Fi software stack switches to a DFS channel or when OpenWrt is done booting, but does not yet offer Wi-Fi for connection.
</p>

<p>
This delay isn&#039;t due to a bad software implementation, it&#039;s only due to a regulatory requirement. Factory firmware either does not support DFS channels at all or must implement the same scan technique. Future hardware could support extra antennas for transparent DFS-scanning in the background to remove user-noticeable delays on such frequencies.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Wi-Fi channels and weather radar detection&quot;,&quot;hid&quot;:&quot;wi-fi_channels_and_weather_radar_detection&quot;,&quot;codeblockOffset&quot;:1,&quot;secid&quot;:5,&quot;range&quot;:&quot;3540-4653&quot;} -->
<h2 class="sectionedit6" id="changes_in_frequency_regulation">Changes in frequency regulation</h2>
<div class="level2">

<p>
It could happen rarely, but if changes happen in your country&#039;s wireless regulation, these changes will be reflected in a new OpenWrt firmware update. So you as the Wi-Fi device operator are responsible to keep the device within the current limits of your regulatory laws. You can achieve this by keeping your OpenWrt firmware up to date and apply newer releases periodically from OpenWrt.<br/>

In rare cases even new frequencies get added to the allowed Wi-Fi spectrum of your country.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Changes in frequency regulation&quot;,&quot;hid&quot;:&quot;changes_in_frequency_regulation&quot;,&quot;codeblockOffset&quot;:1,&quot;secid&quot;:6,&quot;range&quot;:&quot;4654-5182&quot;} -->
<h2 class="sectionedit7" id="hardware-encoded_wi-fi_country-restrictions">Hardware-encoded Wi-Fi country-restrictions</h2>
<div class="level2">

<p>
It may be that your device has been branded by the vendor to be sold in a specific country and therefore has hardcoded Wi-Fi limits for that particular country. The Wi-Fi radio chip of your device might enforce such limits in addition to the country limits OpenWrt brings. Such hardware limits will precede OpenWrt regulatory settings. If you take such a limited device to a different country, such hardware-encoded limitation will cause your hardware to still enforce the limits of the original country. There is nothing you can do about such hard-encoded limits, you cannot circumvent them, you have to live with these extra-applied Wi-Fi limits.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Hardware-encoded Wi-Fi country-restrictions&quot;,&quot;hid&quot;:&quot;hardware-encoded_wi-fi_country-restrictions&quot;,&quot;codeblockOffset&quot;:1,&quot;secid&quot;:7,&quot;range&quot;:&quot;5183-&quot;} -->