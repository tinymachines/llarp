
<h1 class="sectionedit1" id="guest_wi-fi_extras">Guest Wi-Fi extras</h1>
<div class="level1">

</div>
<!-- EDIT{&quot;target&quot;:&quot;plugin_include_start&quot;,&quot;name&quot;:&quot;meta:infobox:howto_links&quot;,&quot;hid&quot;:&quot;&quot;,&quot;secid&quot;:2,&quot;range&quot;:&quot;0-&quot;} --><div class="plugin_include_content plugin_include__meta:infobox:howto_links">
<div class="level1">
<!-- EDIT{&quot;target&quot;:&quot;plugin_wrap_start&quot;,&quot;hid&quot;:&quot;&quot;,&quot;secid&quot;:4,&quot;range&quot;:&quot;0-&quot;} --><div class="wrap_info plugin_wrap">
<p>
This article relies on the following:
</p>
<ul>
<li class="level1"><div class="li"> Accessing <a href="/docs/guide-quick-start/walkthrough_login" class="wikilink1" title="docs:guide-quick-start:walkthrough_login" data-wiki-id="docs:guide-quick-start:walkthrough_login">web interface</a> / <a href="/docs/guide-quick-start/sshadministration" class="wikilink1" title="docs:guide-quick-start:sshadministration" data-wiki-id="docs:guide-quick-start:sshadministration">command-line interface</a></div>
</li>
<li class="level1"><div class="li"> Managing <a href="/docs/guide-user/base-system/uci" class="wikilink1" title="docs:guide-user:base-system:uci" data-wiki-id="docs:guide-user:base-system:uci">configs</a> / <a href="/docs/guide-user/additional-software/managing_packages" class="wikilink1" title="docs:guide-user:additional-software:managing_packages" data-wiki-id="docs:guide-user:additional-software:managing_packages">packages</a> / <a href="/docs/guide-user/base-system/managing_services" class="wikilink1" title="docs:guide-user:base-system:managing_services" data-wiki-id="docs:guide-user:base-system:managing_services">services</a> / <a href="/docs/guide-user/base-system/log.essentials" class="wikilink1" title="docs:guide-user:base-system:log.essentials" data-wiki-id="docs:guide-user:base-system:log.essentials">logs</a></div>
</li>
</ul>
</div><!-- EDIT{&quot;target&quot;:&quot;plugin_wrap_end&quot;,&quot;hid&quot;:&quot;&quot;,&quot;secid&quot;:5,&quot;range&quot;:&quot;0-&quot;} -->
</div>
<!-- EDIT{&quot;target&quot;:&quot;plugin_include_end&quot;,&quot;name&quot;:&quot;meta:infobox:howto_links&quot;,&quot;hid&quot;:&quot;&quot;,&quot;secid&quot;:3,&quot;range&quot;:&quot;0-&quot;} --></div>
<div class="level1">

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Guest Wi-Fi extras&quot;,&quot;hid&quot;:&quot;guest_wi-fi_extras&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:1,&quot;range&quot;:&quot;1-115&quot;} -->
<h2 class="sectionedit6" id="introduction">Introduction</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> This how-to describes the most common guest Wi-Fi tuning scenarios adapted for OpenWrt.</div>
</li>
<li class="level1"><div class="li"> Follow <a href="/docs/guide-user/network/wifi/guestwifi/guest-wlan" class="wikilink1" title="docs:guide-user:network:wifi:guestwifi:guest-wlan" data-wiki-id="docs:guide-user:network:wifi:guestwifi:guest-wlan">Guest Wi-Fi basics</a> for setting up guest Wi-Fi.</div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Introduction&quot;,&quot;hid&quot;:&quot;introduction&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:6,&quot;range&quot;:&quot;116-345&quot;} -->
<h2 class="sectionedit7" id="extras">Extras</h2>
<div class="level2">

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Extras&quot;,&quot;hid&quot;:&quot;extras&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:7,&quot;range&quot;:&quot;346-364&quot;} -->
<h3 class="sectionedit8" id="dual-band">Dual-band</h3>
<div class="level3">

<p>
If you want to utilize dual-band.
Change the interface ID if necessary.
</p>
<pre class="code bash"><span class="co0"># Configure wireless</span>
<span class="re2">WIFI_DEV</span>=<span class="st0">&quot;<span class="es4">$(uci get wireless.@wifi-iface[1].device)</span>&quot;</span>
uci <span class="re5">-q</span> delete wireless.guest2
uci <span class="kw1">set</span> wireless.guest2=<span class="st0">&quot;wifi-iface&quot;</span>
uci <span class="kw1">set</span> wireless.guest2.device=<span class="st0">&quot;<span class="es3">${WIFI_DEV}</span>&quot;</span>
uci <span class="kw1">set</span> wireless.guest2.mode=<span class="st0">&quot;ap&quot;</span>
uci <span class="kw1">set</span> wireless.guest2.network=<span class="st0">&quot;guest&quot;</span>
uci <span class="kw1">set</span> wireless.guest2.ssid=<span class="st0">&quot;guest2&quot;</span>
uci <span class="kw1">set</span> wireless.guest2.encryption=<span class="st0">&quot;none&quot;</span>
uci commit wireless
wifi reload</pre>

<p>
The following settings should be applied separately for each SSID/band.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Dual-band&quot;,&quot;hid&quot;:&quot;dual-band&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:8,&quot;range&quot;:&quot;365-923&quot;} -->
<h3 class="sectionedit9" id="providing_encryption">Providing encryption</h3>
<div class="level3">

<p>
Secure your guest network.
</p>
<pre class="code bash"><span class="co0"># Configure wireless</span>
<span class="re2">WIFI_PSK</span>=<span class="st0">&quot;GUEST_WIFI_PASSWORD&quot;</span>
uci <span class="kw1">set</span> wireless.guest.encryption=<span class="st0">&quot;psk2&quot;</span>
uci <span class="kw1">set</span> wireless.guest.key=<span class="st0">&quot;<span class="es3">${WIFI_PSK}</span>&quot;</span>
uci commit wireless
wifi reload</pre>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Providing encryption&quot;,&quot;hid&quot;:&quot;providing_encryption&quot;,&quot;codeblockOffset&quot;:1,&quot;secid&quot;:9,&quot;range&quot;:&quot;924-1169&quot;} -->
<h3 class="sectionedit10" id="isolating_clients">Isolating clients</h3>
<div class="level3">

<p>
Isolate guest clients from each other.
Some hardware or drivers might not support this option.
</p>
<pre class="code bash"><span class="co0"># Configure wireless</span>
uci <span class="kw1">set</span> wireless.guest.isolate=<span class="st0">&quot;1&quot;</span>
uci commit wireless
wifi reload</pre>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Isolating clients&quot;,&quot;hid&quot;:&quot;isolating_clients&quot;,&quot;codeblockOffset&quot;:2,&quot;secid&quot;:10,&quot;range&quot;:&quot;1170-1402&quot;} -->
<h3 class="sectionedit11" id="icmpicmpv6">ICMP / ICMPv6</h3>
<div class="level3">

<p>
Allow incoming <abbr title="Internet Control Message Protocol">ICMP</abbr> and ICMPv6 traffic.
Change the rule IDs if necessary. The goal here is to alter the default OpenWRT firewall rules allowing specific <abbr title="Internet Control Message Protocol">ICMP</abbr> and ICMPv6 types from <abbr title="Wide Area Network">WAN</abbr> to instead allow from all source zones. The rules are originally called “Allow-Ping” and “Allow-ICMPv6-Input”.
</p>
<pre class="code bash"><span class="co0"># Configure firewall</span>
uci rename firewall.<span class="sy0">@</span>rule<span class="br0">&#91;</span><span class="nu0">1</span><span class="br0">&#93;</span>=<span class="st0">&quot;icmp&quot;</span>
uci rename firewall.<span class="sy0">@</span>rule<span class="br0">&#91;</span><span class="nu0">5</span><span class="br0">&#93;</span>=<span class="st0">&quot;icmp6&quot;</span>
uci <span class="kw1">set</span> firewall.icmp.src=<span class="st0">&quot;*&quot;</span>
uci <span class="kw1">set</span> firewall.icmp6.src=<span class="st0">&quot;*&quot;</span>
uci commit firewall
service firewall restart</pre>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;ICMP \/ ICMPv6&quot;,&quot;hid&quot;:&quot;icmpicmpv6&quot;,&quot;codeblockOffset&quot;:3,&quot;secid&quot;:11,&quot;range&quot;:&quot;1403-1943&quot;} -->
<h3 class="sectionedit12" id="ipv6">IPv6</h3>
<div class="level3">

<p>
Enable <abbr title="Internet Protocol version 6">IPv6</abbr> on the guest network.
</p>

<p>
<strong>Prerequisite:</strong> Allow <a href="/docs/guide-user/network/wifi/guestwifi/extras#icmpicmpv6" class="wikilink1" title="docs:guide-user:network:wifi:guestwifi:extras" data-wiki-id="docs:guide-user:network:wifi:guestwifi:extras">ICMPv6</a>, at least from the guest network to the router. Note that in <abbr title="Internet Protocol version 6">IPv6</abbr>, unlike <abbr title="Internet Protocol version 4">IPv4</abbr>, <abbr title="Internet Control Message Protocol">ICMP</abbr> is a requirement.
</p>

<p>
The following will assign an <abbr title="Internet Protocol version 6">IPv6</abbr> prefix, configure a DHCPv6 pool, and allow DHCPv6 requests.
</p>
<pre class="code bash"><span class="co0"># Configure network</span>
uci <span class="kw1">set</span> network.guest.ip6<span class="re2">assign</span>=<span class="st0">&quot;60&quot;</span>
uci commit network
service network restart
&nbsp;
<span class="co0"># Configure DHCP</span>
uci <span class="kw1">set</span> dhcp.guest.dhcpv6=<span class="st0">&quot;server&quot;</span>
uci <span class="kw1">set</span> dhcp.guest.ra=<span class="st0">&quot;server&quot;</span>
uci <span class="re5">-q</span> delete dhcp.guest.ra_flags
uci add_list dhcp.guest.ra_flags=<span class="st0">&quot;managed-config&quot;</span>
uci add_list dhcp.guest.ra_flags=<span class="st0">&quot;other-config&quot;</span>
uci commit dhcp
service odhcpd restart
&nbsp;
<span class="co0"># Configure firewall</span>
uci <span class="re5">-q</span> delete firewall.guest_dhcp6
uci <span class="kw1">set</span> firewall.guest_dhcp6=<span class="st0">&quot;rule&quot;</span>
uci <span class="kw1">set</span> firewall.guest_dhcp6.name=<span class="st0">&quot;Allow-DHCPv6-Guest&quot;</span>
uci <span class="kw1">set</span> firewall.guest_dhcp6.src=<span class="st0">&quot;guest&quot;</span>
uci <span class="kw1">set</span> firewall.guest_dhcp6.dest_port=<span class="st0">&quot;547&quot;</span>
uci <span class="kw1">set</span> firewall.guest_dhcp6.proto=<span class="st0">&quot;udp&quot;</span>
uci <span class="kw1">set</span> firewall.guest_dhcp6.family=<span class="st0">&quot;ipv6&quot;</span>
uci <span class="kw1">set</span> firewall.guest_dhcp6.target=<span class="st0">&quot;ACCEPT&quot;</span>
uci commit firewall
service firewall restart</pre>

<p>
You may need to request a shorter prefix length from your <abbr title="Internet Service Provider">ISP</abbr> (i.e. more available addresses) and configure your networks to use a smaller chunk of that delegated prefix:
</p>
<pre class="code bash">uci <span class="kw1">set</span> network.wan6.reqprefix=<span class="st0">&quot;60&quot;</span>
uci <span class="kw1">set</span> network.lan.ip6<span class="re2">assign</span>=<span class="st0">&quot;64&quot;</span>
uci <span class="kw1">set</span> network.guest.ip6<span class="re2">assign</span>=<span class="st0">&quot;64&quot;</span></pre>

<p>
You can see what prefix your <abbr title="Internet Service Provider">ISP</abbr> gave you under Network → Interfaces → wan6 → <abbr title="Internet Protocol version 6">IPv6</abbr>-PD. <a href="https://serverfault.com/a/426207" class="urlextern" title="https://serverfault.com/a/426207" rel="ugc nofollow">Subnets in IPv6 should be at least of size /64</a>, so requesting a /60 prefix allows up to 2<sup>4</sup> = 16 subnets.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;IPv6&quot;,&quot;hid&quot;:&quot;ipv6&quot;,&quot;codeblockOffset&quot;:4,&quot;secid&quot;:12,&quot;range&quot;:&quot;1944-3612&quot;} -->
<h3 class="sectionedit13" id="ipv6-only_guest_network">IPv6-only guest network</h3>
<div class="level3">

<p>
While your primary <abbr title="Local Area Network">LAN</abbr> may have legacy devices that only support <abbr title="Internet Protocol version 4">IPv4</abbr>, most modern phones, tablets, and laptops fully support <abbr title="Internet Protocol version 6">IPv6</abbr> and so you may be able to run an <abbr title="Internet Protocol version 6">IPv6</abbr> only guest network, by simply not allocating an <abbr title="Internet Protocol version 4">IPv4</abbr> address to the network or providing and DHCPv4 addresses.
</p>

<p>
To enable <abbr title="Internet Protocol version 6">IPv6</abbr> guests to access legacy <abbr title="Internet Protocol version 4">IPv4</abbr> only websites you need to set up DNS64 + NAT64.
</p>
<ul>
<li class="level1"><div class="li"> Set the advertised <abbr title="Domain Name System">DNS</abbr> servers for your guest network to Google DNS64, or your own DNS64 service</div>
</li>
<li class="level1"><div class="li"> Configure <a href="/docs/guide-user/network/ipv6/nat64" class="wikilink1" title="docs:guide-user:network:ipv6:nat64" data-wiki-id="docs:guide-user:network:ipv6:nat64">NAT64</a> on your OpenWrt router to provide network translation (similar how you would otherwise be providing NAT44 from a private <abbr title="Internet Protocol version 4">IPv4</abbr> range).</div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;IPv6-only guest network&quot;,&quot;hid&quot;:&quot;ipv6-only_guest_network&quot;,&quot;codeblockOffset&quot;:6,&quot;secid&quot;:13,&quot;range&quot;:&quot;3613-4315&quot;} -->
<h3 class="sectionedit14" id="restricting_internet_access">Restricting internet access</h3>
<div class="level3">

<p>
Allow guest clients to only browse websites.
</p>
<pre class="code bash"><span class="co0"># Configure firewall</span>
uci <span class="re5">-q</span> delete firewall.guest_wan
uci <span class="re5">-q</span> delete firewall.guest_fwd
uci <span class="kw1">set</span> firewall.guest_fwd=<span class="st0">&quot;rule&quot;</span>
uci <span class="kw1">set</span> firewall.guest_fwd.name=<span class="st0">&quot;Allow-HTTP/HTTPS-Guest-Forward&quot;</span>
uci <span class="kw1">set</span> firewall.guest_fwd.src=<span class="st0">&quot;guest&quot;</span>
uci <span class="kw1">set</span> firewall.guest_fwd.dest=<span class="st0">&quot;wan&quot;</span>
uci add_list firewall.guest_fwd.dest_port=<span class="st0">&quot;80&quot;</span>
uci add_list firewall.guest_fwd.dest_port=<span class="st0">&quot;443&quot;</span>
uci <span class="kw1">set</span> firewall.guest_fwd.proto=<span class="st0">&quot;tcp&quot;</span>
uci <span class="kw1">set</span> firewall.guest_fwd.target=<span class="st0">&quot;ACCEPT&quot;</span>
uci commit firewall
service firewall restart</pre>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Restricting internet access&quot;,&quot;hid&quot;:&quot;restricting_internet_access&quot;,&quot;codeblockOffset&quot;:6,&quot;secid&quot;:14,&quot;range&quot;:&quot;4316-4905&quot;} -->
<h3 class="sectionedit15" id="restricting_upstream_accesswireless_ap">Restricting upstream access / Wireless AP</h3>
<div class="level3">

<p>
Allow guest clients to access the internet but restrict upstream access.
</p>
<pre class="code bash"><span class="co0"># Fetch upstream subnet and zone</span>
. <span class="sy0">/</span>lib<span class="sy0">/</span>functions<span class="sy0">/</span>network.sh
network_flush_cache
network_find_wan NET_IF
network_get_subnet NET_SUB <span class="st0">&quot;<span class="es3">${NET_IF}</span>&quot;</span>
<span class="re2">FW_WAN</span>=<span class="st0">&quot;<span class="es4">$(fw3 -q network &quot;${NET_IF}&quot;)</span>&quot;</span>
&nbsp;
<span class="co0"># Configure firewall</span>
uci <span class="re5">-q</span> delete firewall.guest_wan
uci <span class="re5">-q</span> delete firewall.guest_fwd
uci <span class="kw1">set</span> firewall.guest_fwd=<span class="st0">&quot;rule&quot;</span>
uci <span class="kw1">set</span> firewall.guest_fwd.name=<span class="st0">&quot;Allow-Guest-Forward&quot;</span>
uci <span class="kw1">set</span> firewall.guest_fwd.src=<span class="st0">&quot;guest&quot;</span>
uci <span class="kw1">set</span> firewall.guest_fwd.dest=<span class="st0">&quot;<span class="es3">${FW_WAN}</span>&quot;</span>
uci <span class="kw1">set</span> firewall.guest_fwd.dest_ip=<span class="st0">&quot;!<span class="es3">${NET_SUB}</span>&quot;</span>
uci <span class="kw1">set</span> firewall.guest_fwd.proto=<span class="st0">&quot;all&quot;</span>
uci <span class="kw1">set</span> firewall.guest_fwd.target=<span class="st0">&quot;ACCEPT&quot;</span>
uci commit firewall
service firewall restart</pre>

<p>
Enable masquerading for the <abbr title="Local Area Network">LAN</abbr> zone when using a wireless <abbr title="Access Point">AP</abbr>.
</p>
<pre class="code bash"><span class="co0"># Configure firewall</span>
uci rename firewall.<span class="sy0">@</span>zone<span class="br0">&#91;</span><span class="nu0">0</span><span class="br0">&#93;</span>=<span class="st0">&quot;lan&quot;</span>
uci <span class="kw1">set</span> firewall.lan.masq=<span class="st0">&quot;1&quot;</span>
uci <span class="kw1">set</span> firewall.lan.masq_src=<span class="st0">&quot;!<span class="es3">${NET_SUB}</span>&quot;</span>
uci commit firewall
service firewall restart</pre>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Restricting upstream access \/ Wireless AP&quot;,&quot;hid&quot;:&quot;restricting_upstream_accesswireless_ap&quot;,&quot;codeblockOffset&quot;:7,&quot;secid&quot;:15,&quot;range&quot;:&quot;4906-5930&quot;} -->
<h3 class="sectionedit16" id="resolving_race_conditions">Resolving race conditions</h3>
<div class="level3">

<p>
Resolve the <a href="https://forum.openwrt.org/t/workaround-gl-ar150-no-dhcp-if-lan-cable-is-not-plugged-during-boot/32349" class="urlextern" title="https://forum.openwrt.org/t/workaround-gl-ar150-no-dhcp-if-lan-cable-is-not-plugged-during-boot/32349" rel="ugc nofollow">race condition</a> with netifd service.
</p>
<pre class="code bash"><span class="co0"># Configure DHCP</span>
uci <span class="kw1">set</span> dhcp.guest.force=<span class="st0">&quot;1&quot;</span>
uci commit dhcp
service dnsmasq restart</pre>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Resolving race conditions&quot;,&quot;hid&quot;:&quot;resolving_race_conditions&quot;,&quot;codeblockOffset&quot;:9,&quot;secid&quot;:16,&quot;range&quot;:&quot;5931-6228&quot;} -->
<h3 class="sectionedit17" id="limiting_bandwidth">Limiting bandwidth</h3>
<div class="level3">

<p>
Limit the bandwidth of the guest network using kb/s.
</p>
<pre class="code bash">opkg update
opkg <span class="kw2">install</span> qos-scripts
uci <span class="re5">-q</span> delete qos.guest
uci <span class="kw1">set</span> qos.guest=<span class="st0">&quot;interface&quot;</span>
uci <span class="kw1">set</span> qos.guest.enabled=<span class="st0">&quot;1&quot;</span>
uci <span class="kw1">set</span> qos.guest.upload=<span class="st0">&quot;5000&quot;</span>
uci <span class="kw1">set</span> qos.guest.download=<span class="st0">&quot;80000&quot;</span>
uci commit qos
service qos restart</pre>

<p>
Or, alternatively via interface by installing <a href="/packages/pkgdata/luci-app-sqm" class="wikilink1" title="packages:pkgdata:luci-app-sqm" data-wiki-id="packages:pkgdata:luci-app-sqm">luci-app-sqm</a> and configuring via web interface.
SQM (Smart Queue Management) wiki here: <a href="/docs/guide-user/network/traffic-shaping/sqm" class="wikilink1" title="docs:guide-user:network:traffic-shaping:sqm" data-wiki-id="docs:guide-user:network:traffic-shaping:sqm">sqm</a>
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Limiting bandwidth&quot;,&quot;hid&quot;:&quot;limiting_bandwidth&quot;,&quot;codeblockOffset&quot;:10,&quot;secid&quot;:17,&quot;range&quot;:&quot;6229-6761&quot;} -->
<h3 class="sectionedit18" id="multiple_network_devices">Multiple network devices</h3>
<div class="level3">

<p>
For a network setup that involves two or more network devices (e.g. a router, one or more switches, one or more access points) you need to provide a <a href="/docs/guide-user/network/vlan/creating_virtual_switches" class="wikilink1" title="docs:guide-user:network:vlan:creating_virtual_switches" data-wiki-id="docs:guide-user:network:vlan:creating_virtual_switches">separate VLAN</a>.
On every router, switch or <abbr title="Access Point">AP</abbr> we add an interface type <code>bridge</code> which will put the wired and wireless guest interfaces in one network.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Multiple network devices&quot;,&quot;hid&quot;:&quot;multiple_network_devices&quot;,&quot;codeblockOffset&quot;:11,&quot;secid&quot;:18,&quot;range&quot;:&quot;6762-7157&quot;} -->
<h3 class="sectionedit19" id="hotspotcaptive_portal">HotSpot / Captive portal</h3>
<div class="level3">

<p>
If you want to setup a simple Hotspot for your guest network, take a look at <a href="/docs/guide-user/services/captive-portal/wireless.hotspot.nodogsplash" class="wikilink1" title="docs:guide-user:services:captive-portal:wireless.hotspot.nodogsplash" data-wiki-id="docs:guide-user:services:captive-portal:wireless.hotspot.nodogsplash">Nodogsplash</a> or <a href="/docs/guide-user/services/captive-portal/wireless.hotspot.wifidog" class="wikilink1" title="docs:guide-user:services:captive-portal:wireless.hotspot.wifidog" data-wiki-id="docs:guide-user:services:captive-portal:wireless.hotspot.wifidog">WiFiDog</a>.
</p>

<p>
For a captive portal to a commercial <a href="http://www.chillispot.org/" class="urlextern" title="http://www.chillispot.org/" rel="ugc nofollow">ChilliSpot</a> compatible Hotspot service provider, look at <a href="/docs/guide-user/services/captive-portal/wireless.hotspot.coova-chilli" class="wikilink1" title="docs:guide-user:services:captive-portal:wireless.hotspot.coova-chilli" data-wiki-id="docs:guide-user:services:captive-portal:wireless.hotspot.coova-chilli">CoovaChilli</a>.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;HotSpot \/ Captive portal&quot;,&quot;hid&quot;:&quot;hotspotcaptive_portal&quot;,&quot;codeblockOffset&quot;:11,&quot;secid&quot;:19,&quot;range&quot;:&quot;7158-7648&quot;} -->
<h3 class="sectionedit20" id="automated">Automated</h3>
<div class="level3">

<p>
Automated guest network setup.
</p>
<pre class="code bash"><span class="re2">URL</span>=<span class="st0">&quot;https://openwrt.org/_export/code/docs/guide-user/network/wifi/guestwifi/guest-wlan&quot;</span>
<span class="kw2">cat</span> <span class="sy0">&lt;&lt;</span> EOF <span class="sy0">&gt;</span> guest-wlan.sh
$<span class="br0">&#40;</span><span class="kw2">wget</span> <span class="re5">-U</span> <span class="st0">&quot;&quot;</span> <span class="re5">-O</span> - <span class="st0">&quot;<span class="es3">${URL}</span>?codeblock=0&quot;</span><span class="br0">&#41;</span>
$<span class="br0">&#40;</span><span class="kw2">wget</span> <span class="re5">-U</span> <span class="st0">&quot;&quot;</span> <span class="re5">-O</span> - <span class="st0">&quot;<span class="es3">${URL}</span>?codeblock=1&quot;</span><span class="br0">&#41;</span>
$<span class="br0">&#40;</span><span class="kw2">wget</span> <span class="re5">-U</span> <span class="st0">&quot;&quot;</span> <span class="re5">-O</span> - <span class="st0">&quot;<span class="es3">${URL}</span>?codeblock=2&quot;</span><span class="br0">&#41;</span>
$<span class="br0">&#40;</span><span class="kw2">wget</span> <span class="re5">-U</span> <span class="st0">&quot;&quot;</span> <span class="re5">-O</span> - <span class="st0">&quot;<span class="es3">${URL}</span>?codeblock=3&quot;</span><span class="br0">&#41;</span>
EOF
<span class="kw2">sh</span> guest-wlan.sh</pre>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Automated&quot;,&quot;hid&quot;:&quot;automated&quot;,&quot;codeblockOffset&quot;:11,&quot;secid&quot;:20,&quot;range&quot;:&quot;7649-&quot;} -->