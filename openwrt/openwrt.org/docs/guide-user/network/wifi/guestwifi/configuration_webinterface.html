
<h1 class="sectionedit1" id="guest_wi-fi_using_luci">Guest Wi-Fi using LuCI</h1>
<div class="level1">

<p>
Guest Wi-Fi refers to a separate wireless network that provides Internet access for guests and/or untrusted devices while keeping them isolated from the main network. This guide is based on the more comprehensive <a href="/docs/guide-user/network/wifi/guestwifi/guest-wlan" class="wikilink1" title="docs:guide-user:network:wifi:guestwifi:guest-wlan" data-wiki-id="docs:guide-user:network:wifi:guestwifi:guest-wlan">Guest Wi-Fi basics</a>, providing a more user-friendly approach through the LuCI web interface.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Guest Wi-Fi using LuCI&quot;,&quot;hid&quot;:&quot;guest_wi-fi_using_luci&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:1,&quot;range&quot;:&quot;1-397&quot;} -->
<h2 class="sectionedit2" id="network">1. Network</h2>
<div class="level2">

<p>
Start by creating an empty bridge device. This will ensure that the guest interface is always up and running regardless of the state of the wireless interface(s) and it’s a must to avoid problems with the <abbr title="Dynamic Host Configuration Protocol">DHCP</abbr> server if the guest network needs to use both radios.
</p>

<p>
Go to Network→Interfaces→Devices
</p>

<p>
<a href="/_detail/media/doc/recipes/devices_page.png?id=docs%3Aguide-user%3Anetwork%3Awifi%3Aguestwifi%3Aconfiguration_webinterface" class="media" title="media:doc:recipes:devices_page.png"><img src="/_media/media/doc/recipes/devices_page.png" class="media" loading="lazy" alt="" /></a>
</p>

<p>
Click “Add Device Configuration...”.
</p>

<p>
<a href="/_detail/media/doc/recipes/br_guest_dev.png?id=docs%3Aguide-user%3Anetwork%3Awifi%3Aguestwifi%3Aconfiguration_webinterface" class="media" title="media:doc:recipes:br_guest_dev.png"><img src="/_media/media/doc/recipes/br_guest_dev.png" class="media" loading="lazy" alt="" /></a>
</p>

<p>
Set the Device type to “Bridge device”, name it “br-guest” and check the “Bring up empty bridge” box.<br/>

Do not specify any wired ports.<br/>

Click “Save”.
</p>

<p>
<a href="/_detail/media/doc/recipes/br_gue_added.png?id=docs%3Aguide-user%3Anetwork%3Awifi%3Aguestwifi%3Aconfiguration_webinterface" class="media" title="media:doc:recipes:br_gue_added.png"><img src="/_media/media/doc/recipes/br_gue_added.png" class="media" loading="lazy" alt="" /></a>
</p>

<p>
Click “Save &amp; Apply”.<br/>

Go to the “Interfaces” tab to create the new guest interface.
</p>

<p>
<a href="/_detail/media/doc/recipes/interfaces.png?id=docs%3Aguide-user%3Anetwork%3Awifi%3Aguestwifi%3Aconfiguration_webinterface" class="media" title="media:doc:recipes:interfaces.png"><img src="/_media/media/doc/recipes/interfaces.png" class="media" loading="lazy" alt="" /></a>
</p>

<p>
Click “Add new interface...”.
</p>

<p>
<a href="/_detail/media/doc/recipes/add_new_interface.png?id=docs%3Aguide-user%3Anetwork%3Awifi%3Aguestwifi%3Aconfiguration_webinterface" class="media" title="media:doc:recipes:add_new_interface.png"><img src="/_media/media/doc/recipes/add_new_interface.png" class="media" loading="lazy" alt="" /></a>
</p>

<p>
Set the interface name, set the protocol to “Static address”, select the previously created bridge device and click “Create interface”.
</p>

<p>
<a href="/_detail/media/doc/recipes/guest_int_ip.png?id=docs%3Aguide-user%3Anetwork%3Awifi%3Aguestwifi%3Aconfiguration_webinterface" class="media" title="media:doc:recipes:guest_int_ip.png"><img src="/_media/media/doc/recipes/guest_int_ip.png" class="media" loading="lazy" alt="" /></a>
</p>

<p>
Set an <abbr title="Internet Protocol">IP</abbr> address in a subnet that does not overlap with the address space used by any existing interface.<br/>

Select mask “255.255.255.0”.<br/>

Go to “Firewall Settings”.
</p>

<p>
<a href="/_detail/media/doc/recipes/create_zone.png?id=docs%3Aguide-user%3Anetwork%3Awifi%3Aguestwifi%3Aconfiguration_webinterface" class="media" title="media:doc:recipes:create_zone.png"><img src="/_media/media/doc/recipes/create_zone.png" class="media" loading="lazy" alt="" /></a>
</p>

<p>
Enter a name (guest) in the “-- custom --” field to create a new guest zone and <strong>press ENTER</strong>.<br/>

The guest interface will be assigned to the newly created firewall zone.<br/>

Go to “<abbr title="Dynamic Host Configuration Protocol">DHCP</abbr> Server”.
</p>

<p>
<a href="/_detail/media/doc/recipes/dhcp1.png?id=docs%3Aguide-user%3Anetwork%3Awifi%3Aguestwifi%3Aconfiguration_webinterface" class="media" title="media:doc:recipes:dhcp1.png"><img src="/_media/media/doc/recipes/dhcp1.png" class="media" loading="lazy" alt="" /></a>
</p>

<p>
Click “Set up <abbr title="Dynamic Host Configuration Protocol">DHCP</abbr> Server”.
</p>

<p>
<a href="/_detail/media/doc/recipes/dhcp2.png?id=docs%3Aguide-user%3Anetwork%3Awifi%3Aguestwifi%3Aconfiguration_webinterface" class="media" title="media:doc:recipes:dhcp2.png"><img src="/_media/media/doc/recipes/dhcp2.png" class="media" loading="lazy" alt="" /></a>
</p>

<p>
Leave the default settings.<br/>

Click “Save”, then “Save &amp; Apply”.
</p>

<p>
<a href="/_detail/media/doc/recipes/guest_int_up.png?id=docs%3Aguide-user%3Anetwork%3Awifi%3Aguestwifi%3Aconfiguration_webinterface" class="media" title="media:doc:recipes:guest_int_up.png"><img src="/_media/media/doc/recipes/guest_int_up.png" class="media" loading="lazy" alt="" /></a>
</p>

<p>
Verify that the guest interface is up.<br/>

</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;1. Network&quot;,&quot;hid&quot;:&quot;network&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:2,&quot;range&quot;:&quot;398-2087&quot;} -->
<h2 class="sectionedit3" id="wireless">2. Wireless</h2>
<div class="level2">

<p>
Go to Network→Wireless<br/>

</p>

<p>
<a href="/_detail/media/doc/recipes/add_wifi.png?id=docs%3Aguide-user%3Anetwork%3Awifi%3Aguestwifi%3Aconfiguration_webinterface" class="media" title="media:doc:recipes:add_wifi.png"><img src="/_media/media/doc/recipes/add_wifi.png" class="media" loading="lazy" alt="" /></a>
</p>

<p>
Click the “Add” button to the right of the radio you will be using.
</p>

<p>
<a href="/_detail/media/doc/recipes/wifi_setup.png?id=docs%3Aguide-user%3Anetwork%3Awifi%3Aguestwifi%3Aconfiguration_webinterface" class="media" title="media:doc:recipes:wifi_setup.png"><img src="/_media/media/doc/recipes/wifi_setup.png" class="media" loading="lazy" alt="" /></a>
</p>

<p>
In “Interface Configuration”, set the SSID and attach the wireless interface to the guest network.<br/>

Click “Save”, then “Save &amp; Apply”.
</p>

<p>
<a href="/_detail/media/doc/recipes/wifi_up.png?id=docs%3Aguide-user%3Anetwork%3Awifi%3Aguestwifi%3Aconfiguration_webinterface" class="media" title="media:doc:recipes:wifi_up.png"><img src="/_media/media/doc/recipes/wifi_up.png" class="media" loading="lazy" alt="" /></a><br/>

</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;2. Wireless&quot;,&quot;hid&quot;:&quot;wireless&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:3,&quot;range&quot;:&quot;2088-2463&quot;} -->
<h2 class="sectionedit4" id="firewall">3. Firewall</h2>
<div class="level2">

<p>
Go to Network→Firewall.
</p>

<p>
<a href="/_detail/media/doc/recipes/zones1.png?id=docs%3Aguide-user%3Anetwork%3Awifi%3Aguestwifi%3Aconfiguration_webinterface" class="media" title="media:doc:recipes:zones1.png"><img src="/_media/media/doc/recipes/zones1.png" class="media" loading="lazy" alt="" /></a>
</p>

<p>
Make sure that the guest firewall zone was created during the creation of the interface and the default policies for the Input, Output and Forward chains look like on the screenshot.<br/>

Click “Edit” next to the guest zone.
</p>

<p>
<a href="/_detail/media/doc/recipes/forw.png?id=docs%3Aguide-user%3Anetwork%3Awifi%3Aguestwifi%3Aconfiguration_webinterface" class="media" title="media:doc:recipes:forw.png"><img src="/_media/media/doc/recipes/forw.png" class="media" loading="lazy" alt="" /></a>
</p>

<p>
Allow forward to the wan zone and click “Save”, then “Save &amp; Apply”.
</p>

<p>
<a href="/_detail/media/doc/recipes/zones2.png?id=docs%3Aguide-user%3Anetwork%3Awifi%3Aguestwifi%3Aconfiguration_webinterface" class="media" title="media:doc:recipes:zones2.png"><img src="/_media/media/doc/recipes/zones2.png" class="media" loading="lazy" alt="" /></a>
</p>

<p>
Finally, create traffic rules accepting <abbr title="Domain Name System">DNS</abbr> and <abbr title="Dynamic Host Configuration Protocol">DHCP</abbr> requests originating from the guest zone.
</p>

<p>
<a href="/_detail/media/doc/recipes/traff1.png?id=docs%3Aguide-user%3Anetwork%3Awifi%3Aguestwifi%3Aconfiguration_webinterface" class="media" title="media:doc:recipes:traff1.png"><img src="/_media/media/doc/recipes/traff1.png" class="media" loading="lazy" alt="" /></a>
</p>

<p>
<a href="/_detail/media/doc/recipes/traff2.png?id=docs%3Aguide-user%3Anetwork%3Awifi%3Aguestwifi%3Aconfiguration_webinterface" class="media" title="media:doc:recipes:traff2.png"><img src="/_media/media/doc/recipes/traff2.png" class="media" loading="lazy" alt="" /></a><br/>

</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;3. Firewall&quot;,&quot;hid&quot;:&quot;firewall&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:4,&quot;range&quot;:&quot;2464-3090&quot;} -->
<h2 class="sectionedit5" id="troubleshooting">4. Troubleshooting</h2>
<div class="level2">

<p>
Your device is unable to connect to the guest-<abbr title="Access Point">AP</abbr>: 
</p>

<p>
This might be caused the device doesn&#039;t get a <abbr title="Internet Protocol">IP</abbr> address assigned by the <abbr title="Dynamic Host Configuration Protocol">DHCP</abbr>-server. Please check that the <abbr title="Dynamic Host Configuration Protocol">DHCP</abbr>-server on your OpenWrt-router is configured to listen to the “guest”-interface.
</p>

<p>
* Go-to “Network → <abbr title="Dynamic Host Configuration Protocol">DHCP</abbr> and <abbr title="Domain Name System">DNS</abbr> → (tab) Devices &amp; Ports”. 
</p>

<p>
* If “non-wildcard” is enabled, ensure that the “guest”-interface is added to “Listening interfaces”.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;4. Troubleshooting&quot;,&quot;hid&quot;:&quot;troubleshooting&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:5,&quot;range&quot;:&quot;3091-&quot;} -->