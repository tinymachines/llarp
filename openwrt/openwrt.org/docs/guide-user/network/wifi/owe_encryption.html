
<h1 class="sectionedit1" id="opportunistic_wireless_encryption_owe_and_owe_transition_mode">Opportunistic Wireless Encryption (OWE) and OWE Transition Mode</h1>
<div class="level1">

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Opportunistic Wireless Encryption (OWE) and OWE Transition Mode&quot;,&quot;hid&quot;:&quot;opportunistic_wireless_encryption_owe_and_owe_transition_mode&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:1,&quot;range&quot;:&quot;1-79&quot;} -->
<h2 class="sectionedit2" id="overview">Overview</h2>
<div class="level2">

<p>
Opportunistic Wireless Encryption (OWE) is a Wi-Fi security mechanism standardized under IEEE 802.11 and certified by the Wi-Fi Alliance as part of WPA3.<br/>

It provides encryption for open Wi-Fi networks without requiring user authentication, enhancing security for public or guest networks.<br/>

OWE Transition Mode enables backward compatibility, allowing OWE-capable and legacy devices to coexist on the same network.
</p>

<p>
This page provides a technical summary of OWE and OWE Transition Mode, including their features, operation, use cases, and limitations.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Overview&quot;,&quot;hid&quot;:&quot;overview&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:2,&quot;range&quot;:&quot;80-655&quot;} -->
<h3 class="sectionedit3" id="openwrt_support">OpenWrt Support</h3>
<div class="level3">

<p>
Support for OWE in OpenWrt has been available since Jun 16, 2022
</p>

<p>
<strong><em>NOTE: The FULL version of wpad is required. ie one of the following: </em></strong>
</p>
<ul>
<li class="level1"><div class="li"> wpad-mbedtls</div>
</li>
<li class="level1"><div class="li"> wpad-wolfssl</div>
</li>
<li class="level1"><div class="li"> wpad-openssl</div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;OpenWrt Support&quot;,&quot;hid&quot;:&quot;openwrt_support&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:3,&quot;range&quot;:&quot;656-879&quot;} -->
<h2 class="sectionedit4" id="definition_-_opportunistic_wireless_encryption_owe">Definition - Opportunistic Wireless Encryption (OWE)</h2>
<div class="level2">

<p>
OWE encrypts wireless traffic on open Wi-Fi networks without requiring passwords or authentication.<br/>

It protects against passive eavesdropping in environments where traditional authentication (e.g., WPA2/WPA3) is impractical.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Definition - Opportunistic Wireless Encryption (OWE)&quot;,&quot;hid&quot;:&quot;definition_-_opportunistic_wireless_encryption_owe&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:4,&quot;range&quot;:&quot;880-1172&quot;} -->
<h3 class="sectionedit5" id="key_features">Key Features</h3>
<div class="level3">
<ul>
<li class="level1"><div class="li"> Unauthenticated Encryption: Encrypts traffic between clients and access points (APs) without credentials.</div>
</li>
<li class="level1"><div class="li"> Diffie-Hellman Key Exchange: Uses Elliptic Curve Diffie-Hellman (ECDH) to establish a Pairwise Master Key (PMK) for each client-<abbr title="Access Point">AP</abbr> session.</div>
</li>
<li class="level1"><div class="li"> WPA3-Based: Leverages WPA3’s cryptographic protocols, including AES-based ciphers.</div>
</li>
<li class="level1"><div class="li"> Seamless Connection: Requires no user interaction, as no password is needed.</div>
</li>
<li class="level1"><div class="li"> Traffic Protection: Secures unicast and broadcast/multicast traffic.</div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Key Features&quot;,&quot;hid&quot;:&quot;key_features&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:5,&quot;range&quot;:&quot;1173-1694&quot;} -->
<h3 class="sectionedit6" id="operation">Operation</h3>
<div class="level3">
<ul>
<li class="level1"><div class="li"> The <abbr title="Access Point">AP</abbr> advertises OWE support in beacon frames, indicating an open network with encryption.</div>
</li>
<li class="level1"><div class="li"> The client and <abbr title="Access Point">AP</abbr> perform an ECDH key exchange during the 4-way handshake to derive encryption keys.</div>
</li>
<li class="level1"><div class="li"> The session is encrypted using AES-based ciphers (e.g., CCMP).</div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Operation&quot;,&quot;hid&quot;:&quot;operation&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:6,&quot;range&quot;:&quot;1695-1984&quot;} -->
<h3 class="sectionedit7" id="use_cases">Use Cases</h3>
<div class="level3">
<ul>
<li class="level1"><div class="li"> Public Wi-Fi hotspots (e.g., cafes, airports).</div>
</li>
<li class="level1"><div class="li"> Guest networks in enterprises.</div>
</li>
<li class="level1"><div class="li"> IoT devices requiring secure connectivity without complex authentication.</div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Use Cases&quot;,&quot;hid&quot;:&quot;use_cases&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:7,&quot;range&quot;:&quot;1985-2170&quot;} -->
<h3 class="sectionedit8" id="benefits">Benefits</h3>
<div class="level3">
<ul>
<li class="level1"><div class="li"> Mitigates risks of unencrypted open networks.</div>
</li>
<li class="level1"><div class="li"> Simplifies user experience by eliminating password entry.</div>
</li>
<li class="level1"><div class="li"> Enhances privacy in public Wi-Fi environments.</div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Benefits&quot;,&quot;hid&quot;:&quot;benefits&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:8,&quot;range&quot;:&quot;2171-2354&quot;} -->
<h3 class="sectionedit9" id="limitations">Limitations</h3>
<div class="level3">
<ul>
<li class="level1"><div class="li"> Lacks authentication, making it vulnerable to rogue APs or man-in-the-middle attacks.</div>
</li>
<li class="level1"><div class="li"> Not suitable for high-security environments requiring authenticated access.</div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Limitations&quot;,&quot;hid&quot;:&quot;limitations&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:9,&quot;range&quot;:&quot;2355-2548&quot;} -->
<h2 class="sectionedit10" id="definition_-_owe_transition_mode">Definition - OWE Transition Mode</h2>
<div class="level2">

<p>
OWE Transition Mode enables coexistence of OWE-capable and legacy devices on the same Wi-Fi network, supporting a gradual migration to OWE-enabled networks.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Definition - OWE Transition Mode&quot;,&quot;hid&quot;:&quot;definition_-_owe_transition_mode&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:10,&quot;range&quot;:&quot;2549-2752&quot;} -->
<h3 class="sectionedit11" id="key_features1">Key Features</h3>
<div class="level3">
<ul>
<li class="level1 node"><div class="li"> Dual SSID Behavior: Advertises two logical networks under one SSID:</div>
<ul>
<li class="level2"><div class="li"> An open (unencrypted) network for legacy devices.</div>
</li>
<li class="level2"><div class="li"> An OWE-encrypted network for OWE-capable devices.</div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> Single SSID: Users see one SSID, with clients selecting the appropriate mode (OWE or open) based on capability.</div>
</li>
<li class="level1"><div class="li"> Robust Security Association (RSA) Query: OWE-capable clients query the <abbr title="Access Point">AP</abbr> to confirm OWE support.</div>
</li>
<li class="level1"><div class="li"> Backward Compatibility: Legacy devices connect to the unencrypted network.</div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Key Features&quot;,&quot;hid&quot;:&quot;key_features1&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:11,&quot;range&quot;:&quot;2753-3260&quot;} -->
<h3 class="sectionedit12" id="operation1">Operation</h3>
<div class="level3">
<ul>
<li class="level1"><div class="li"> The <abbr title="Access Point">AP</abbr> broadcasts a single SSID with beacon frames indicating both open and OWE capabilities.</div>
</li>
<li class="level1"><div class="li"> OWE-capable clients detect OWE support and initiate an encrypted connection.</div>
</li>
<li class="level1"><div class="li"> Legacy clients connect to the unencrypted open network.</div>
</li>
<li class="level1"><div class="li"> The <abbr title="Access Point">AP</abbr> maintains separate security contexts for OWE and non-OWE clients.</div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Operation&quot;,&quot;hid&quot;:&quot;operation1&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:12,&quot;range&quot;:&quot;3261-3598&quot;} -->
<h3 class="sectionedit13" id="use_cases1">Use Cases</h3>
<div class="level3">
<ul>
<li class="level1"><div class="li"> Mixed-device environments with modern and legacy clients.</div>
</li>
<li class="level1"><div class="li"> Public hotspots transitioning to OWE without disrupting legacy device connectivity.</div>
</li>
<li class="level1"><div class="li"> Enterprise guest networks supporting diverse devices.</div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Use Cases&quot;,&quot;hid&quot;:&quot;use_cases1&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:13,&quot;range&quot;:&quot;3599-3828&quot;} -->
<h3 class="sectionedit14" id="benefits1">Benefits</h3>
<div class="level3">
<ul>
<li class="level1"><div class="li"> Simplifies network management with a single SSID.</div>
</li>
<li class="level1"><div class="li"> Encourages OWE adoption while supporting older devices.</div>
</li>
<li class="level1"><div class="li"> Transparent to users, as clients handle mode selection.</div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Benefits&quot;,&quot;hid&quot;:&quot;benefits1&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:14,&quot;range&quot;:&quot;3829-4023&quot;} -->
<h3 class="sectionedit15" id="limitations1">Limitations</h3>
<div class="level3">
<ul>
<li class="level1"><div class="li"> Legacy devices remain unencrypted, reducing overall security.</div>
</li>
<li class="level1"><div class="li"> Requires careful <abbr title="Access Point">AP</abbr> configuration to segregate OWE and non-OWE traffic.</div>
</li>
<li class="level1"><div class="li"> Risk of misconfiguration, where clients may connect to the open network.</div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Limitations&quot;,&quot;hid&quot;:&quot;limitations1&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:15,&quot;range&quot;:&quot;4024-4266&quot;} -->
<h2 class="sectionedit16" id="technical_details">Technical Details</h2>
<div class="level2">

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Technical Details&quot;,&quot;hid&quot;:&quot;technical_details&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:16,&quot;range&quot;:&quot;4267-4297&quot;} -->
<h3 class="sectionedit17" id="cryptographic_protocols">Cryptographic Protocols</h3>
<div class="level3">
<ul>
<li class="level1"><div class="li"> Key Exchange: ECDH with NIST P-256 curve (or higher) for PMK derivation.</div>
</li>
<li class="level1"><div class="li"> Encryption: AES-CCMP (128-bit) for data confidentiality and integrity.</div>
</li>
<li class="level1"><div class="li"> Hashing: SHA-256 or stronger for key derivation.</div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Cryptographic Protocols&quot;,&quot;hid&quot;:&quot;cryptographic_protocols&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:17,&quot;range&quot;:&quot;4298-4538&quot;} -->
<h3 class="sectionedit18" id="frame_modifications">Frame Modifications</h3>
<div class="level3">
<ul>
<li class="level1"><div class="li"> OWE support is signaled in the Robust Security Network (RSN) element of beacon and probe response frames.</div>
</li>
<li class="level1"><div class="li"> OWE Transition Mode includes additional RSN information to advertise both open and OWE networks.</div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Frame Modifications&quot;,&quot;hid&quot;:&quot;frame_modifications&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:18,&quot;range&quot;:&quot;4539-4781&quot;} -->
<h3 class="sectionedit19" id="standards">Standards</h3>
<div class="level3">
<ul>
<li class="level1"><div class="li"> Defined in IEEE 802.11-2016 and later amendments.</div>
</li>
<li class="level1"><div class="li"> Part of Wi-Fi Alliance’s WPA3 certification.</div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Standards&quot;,&quot;hid&quot;:&quot;standards&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:19,&quot;range&quot;:&quot;4782-4908&quot;} -->
<h3 class="sectionedit20" id="deployment_considerations">Deployment Considerations</h3>
<div class="level3">
<ul>
<li class="level1"><div class="li"> APs must support OWE and Transition Mode in firmware.</div>
</li>
<li class="level1"><div class="li"> Client devices require OWE support (available in modern OSes like Windows 11, macOS, iOS, and Android 10+).</div>
</li>
<li class="level1"><div class="li"> Administrators should monitor for rogue APs and prioritize OWE for capable devices.</div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Deployment Considerations&quot;,&quot;hid&quot;:&quot;deployment_considerations&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:20,&quot;range&quot;:&quot;4909-5204&quot;} -->
<h3 class="sectionedit21" id="comparison_of_owe_and_owe_transition_mode">Comparison of OWE and OWE Transition Mode</h3>
<div class="level3">
<div class="table sectionedit22"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0">Feature </th><th class="col1">OWE </th><th class="col2">OWE Transition Mode </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0">Encryption </td><td class="col1">Always encrypted </td><td class="col2">Encrypted for OWE devices; open for legacy </td>
	</tr>
	<tr class="row2">
		<td class="col0">Authentication </td><td class="col1">None </td><td class="col2">None </td>
	</tr>
	<tr class="row3">
		<td class="col0">SSID Management </td><td class="col1">Single SSID (OWE only) </td><td class="col2">Single SSID (dual modes) </td>
	</tr>
	<tr class="row4">
		<td class="col0">Legacy Support </td><td class="col1">Not supported </td><td class="col2">Supported (unencrypted) </td>
	</tr>
	<tr class="row5">
		<td class="col0">Security for Legacy </td><td class="col1">N/A </td><td class="col2">No encryption for legacy devices </td>
	</tr>
	<tr class="row6">
		<td class="col0">Use Case </td><td class="col1">Modern devices only </td><td class="col2">Mixed environments </td>
	</tr>
</table></div>
<!-- EDIT{&quot;target&quot;:&quot;table&quot;,&quot;name&quot;:&quot;&quot;,&quot;hid&quot;:&quot;table&quot;,&quot;secid&quot;:22,&quot;range&quot;:&quot;5258-5642&quot;} -->
</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Comparison of OWE and OWE Transition Mode&quot;,&quot;hid&quot;:&quot;comparison_of_owe_and_owe_transition_mode&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:21,&quot;range&quot;:&quot;5205-5644&quot;} -->
<h3 class="sectionedit23" id="example_uci_config_entries_for_openwrt">Example UCI Config Entries for OpenWrt</h3>
<div class="level3">
<pre class="code">config wifi-iface &#039;default_radio0&#039;
	option device &#039;radio0&#039;
	option network &#039;lan&#039;
	option mode &#039;ap&#039;
	option ssid &#039;OpenWrt&#039;
	option encryption &#039;none&#039;
	option ifname &#039;open0-0&#039;
	option owe_transition_ifname &#039;owe0-0&#039;
	option macaddr &#039;96:83:c4:a3:8e:cb&#039;
	option disabled &#039;0&#039;


config wifi-iface &#039;owe00&#039;
	option device &#039;radio0&#039;
	option network &#039;lan&#039;
	option mode &#039;ap&#039;
	option ssid &#039;OpenWrt-2g-8ecb&#039;
	option encryption &#039;owe&#039;
	option ifname &#039;owe0-0&#039;
	option hidden &#039;1&#039;
	option macaddr &#039;96:83:c4:a7:8e:cb&#039;
	option disabled &#039;0&#039;

</pre>

<p>
<strong><em>Note: Unique mac addresses for the open/transition interface and owe interface are required.<br/>

Some firmwares may not ensure unique mac addresses, so it is advised to specify the macaddr option to mitigate potential issues.</em></strong>
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Example UCI Config Entries for OpenWrt&quot;,&quot;hid&quot;:&quot;example_uci_config_entries_for_openwrt&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:23,&quot;range&quot;:&quot;5645-6461&quot;} -->
<h2 class="sectionedit24" id="conclusion">Conclusion</h2>
<div class="level2">

<p>
<strong><em>OWE</em></strong> enhances the security of open Wi-Fi networks by providing encryption without authentication, making it ideal for public and guest networks.<br/>

<strong><em>OWE Transition Mode</em></strong> facilitates adoption by supporting both OWE-capable and legacy devices under a single SSID.<br/>

However, the lack of authentication in both mechanisms necessitates additional security measures (e.g., VPNs) in high-risk environments.<br/>

Proper <abbr title="Access Point">AP</abbr> configuration and client support are essential for successful deployment.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Conclusion&quot;,&quot;hid&quot;:&quot;conclusion&quot;,&quot;codeblockOffset&quot;:1,&quot;secid&quot;:24,&quot;range&quot;:&quot;6462-6984&quot;} -->
<h2 class="sectionedit25" id="references">References</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> <a href="https://github.com/openwrt/openwrt/commit/574539ee2cdbb3dd54086423c6dfdd19bb1c06a6" class="urlextern" title="https://github.com/openwrt/openwrt/commit/574539ee2cdbb3dd54086423c6dfdd19bb1c06a6" rel="ugc nofollow">Commit Adding Support to OpenWrt (on Jun 16, 2022)</a></div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;References&quot;,&quot;hid&quot;:&quot;references&quot;,&quot;codeblockOffset&quot;:1,&quot;secid&quot;:25,&quot;range&quot;:&quot;6985-&quot;} -->