


<h1 class="sectionedit1" id="travelmate_a_connection_manager_for_travel_routers">Travelmate, a connection manager for travel routers</h1>
<div class="level1">

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Travelmate, a connection manager for travel routers&quot;,&quot;hid&quot;:&quot;travelmate_a_connection_manager_for_travel_routers&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:1,&quot;range&quot;:&quot;320-386&quot;} -->
<h2 class="sectionedit2" id="description">Description</h2>
<div class="level2">

<p>
If you’re taking your laptop, tablet, or phone on an upcoming vacation or business trip, you’ll want to connect with friends or complete work on the go. But many hotels don’t have a secure wireless network setup or limit you to using a single device at a time.
</p>

<p>
Travelmate lets you use a small “travel router” to connect all of your devices at once while having total control over your own personal wireless network.
</p>

<p>
Travelmate runs on OpenWrt, and provides an “uplink” to the hotel’s wireless access point/hotspot. Travelmate then becomes the Access Point (<abbr title="Access Point">AP</abbr>) for you and your companions, providing secure access to the internet. See the <a href="/docs/guide-user/network/wifi/wifiextenders/travelmate#installation_and_usage" class="wikilink1" title="docs:guide-user:network:wifi:wifiextenders:travelmate" data-wiki-id="docs:guide-user:network:wifi:wifiextenders:travelmate">Installation and Usage</a> section below.
</p>

<p>
Travelmate manages all the network settings, firewall settings, connections to a hotel network, etc. and automatically (re)connnects to configured APs/hotspots as they become available.
</p>

<p>
<em>Note: This document was created from the original README at the Github repo: <a href="https://github.com/openwrt/packages/blob/master/net/travelmate/files/README.md" class="urlextern" title="https://github.com/openwrt/packages/blob/master/net/travelmate/files/README.md" rel="ugc nofollow">https://github.com/openwrt/packages/blob/master/net/travelmate/files/README.md</a> </em>
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Description&quot;,&quot;hid&quot;:&quot;description&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:2,&quot;range&quot;:&quot;387-1539&quot;} -->
<h2 class="sectionedit3" id="main_benefits_and_features">Main Benefits and Features</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> Easy setup from LuCI web interface with <strong>Interface Wizard</strong> and <strong>Wireless Station manager</strong></div>
</li>
<li class="level1"><div class="li"> Display a QR code to transfer the wireless credentials to your mobile devices</div>
</li>
<li class="level1"><div class="li"> Fast uplink connections</div>
</li>
<li class="level1"><div class="li"> Supports routers with multiple radios in any order</div>
</li>
<li class="level1"><div class="li"> Supports all kinds of uplinks, including hidden and enterprise uplinks. (WEP-based uplinks are no longer supported)</div>
</li>
<li class="level1"><div class="li"> Continuously checks the existing uplink quality, e.g. for conditional uplink (dis)connections</div>
</li>
<li class="level1"><div class="li"> Automatically add open uplinks to your wireless config, e.g. hotel captive portals</div>
</li>
<li class="level1"><div class="li"> Captive portal detection with a ‘heartbeat’ function to keep the uplink connection up and running</div>
</li>
<li class="level1"><div class="li"> Captive portal hook for auto-login configured via uci/LuCI. Use an external script for captive portal auto-logins (see example below)</div>
</li>
<li class="level1"><div class="li"> <abbr title="Virtual Private Network">VPN</abbr> hook supports ‘wireguard’ or ‘openvpn’ client setups to handle <abbr title="Virtual Private Network">VPN</abbr> (re)connections automatically</div>
</li>
<li class="level1"><div class="li"> Email hook via ‘msmtp’ sends notification e-mails after every successful uplink connect</div>
</li>
<li class="level1"><div class="li"> Proactively scan and switch to a higher priority uplink, replacing an existing connection</div>
</li>
<li class="level1"><div class="li"> Connection tracking logs start and end date of an uplink connection</div>
</li>
<li class="level1"><div class="li"> Automatically disable the uplink after n minutes, e.g. for timed connections</div>
</li>
<li class="level1"><div class="li"> Automatically (re)enable the uplink after n minutes, e.g. after failed login attempts</div>
</li>
<li class="level1"><div class="li"> (Optional) Generate a random unicast MAC address for each uplink connection</div>
</li>
<li class="level1"><div class="li"> <abbr title="Network Time Protocol">NTP</abbr> time sync before sending emails</div>
</li>
<li class="level1"><div class="li"> procd init and ntp-hotplug support</div>
</li>
<li class="level1"><div class="li"> Runtime information available via LuCI &amp; via ‘status’ init command</div>
</li>
<li class="level1"><div class="li"> Log status and debug information to syslog</div>
</li>
<li class="level1"><div class="li"> STA interfaces operate in an “always off” mode, to make sure that the <abbr title="Access Point">AP</abbr> is always accessible</div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Main Benefits and Features&quot;,&quot;hid&quot;:&quot;main_benefits_and_features&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:3,&quot;range&quot;:&quot;1540-3325&quot;} -->
<h2 class="sectionedit4" id="prerequisites">Prerequisites</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> Modern <a href="https://openwrt.org" class="urlextern" title="https://openwrt.org" rel="ugc nofollow">OpenWrt</a> (tested back to 20.0x)</div>
</li>
<li class="level1"><div class="li"> An OpenWrt router that supports the firmware version</div>
</li>
<li class="level1 node"><div class="li"> The <code>luci-app-travelmate</code> ensures these packages are present:</div>
<ul>
<li class="level2"><div class="li"> ‘dnsmasq’ as dns backend</div>
</li>
<li class="level2"><div class="li"> ‘iwinfo’ for wlan scanning</div>
</li>
<li class="level2"><div class="li"> ‘curl’ for connection checking and all kinds of captive portal magic, e.g. cp detection and auto-logins</div>
</li>
<li class="level2"><div class="li"> a ‘wpad’ variant to support various WPA encrypted networks (WEP-based uplinks are no longer supported!)</div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> optional: ‘qrencode’ for <abbr title="Access Point">AP</abbr> QR code support</div>
</li>
<li class="level1"><div class="li"> optional: ‘wireguard’ or ‘openvpn’ for vpn client connections</div>
</li>
<li class="level1"><div class="li"> optional: ‘msmtp’ to send out Travelmate related status messages via email</div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Prerequisites&quot;,&quot;hid&quot;:&quot;prerequisites&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:4,&quot;range&quot;:&quot;3326-4058&quot;} -->
<h2 class="sectionedit5" id="installation_and_usage">Installation and Usage</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> Install OpenWrt on your router, and set it up to allow wireless connections. Be sure to set a strong password on the wireless channel(s) so that only you and your companions can use it.</div>
</li>
<li class="level1 node"><div class="li"> Decide which radio you’ll use for the Travelmate uplink (radio0, radio1, etc):</div>
<ul>
<li class="level2"><div class="li"> 2.4GHz allows a longer (more distant) link; 5GHz provides a faster link</div>
</li>
<li class="level2"><div class="li"> Travelmate works on all radios. But for better performance, configure the <abbr title="Access Point">AP</abbr> on a separate radio from the one you’re planning to use as the uplink.</div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> Use LuCI web interface to install both <strong>travelmate</strong> and <strong>luci-app-travelmate</strong></div>
</li>
<li class="level1"><div class="li"> Open the Travelmate LuCI application - <strong>Services → Travelmate</strong></div>
</li>
<li class="level1"><div class="li"> You must use the Travelmate <strong>Interface Wizard</strong> one time to configure the uplink, firewall and other network settings. The default values work well. Just accept them unless you have a reason to modify them.</div>
</li>
<li class="level1 node"><div class="li"> Use the <strong>Wireless Stations</strong> tab to add an uplink station</div>
<ul>
<li class="level2"><div class="li"> <strong>Scan</strong> the radio you chose for the uplink</div>
</li>
<li class="level2"><div class="li"> Click <strong>Add Uplink…</strong> for the desired SSID. If there are multiples, choose the one with the largest <em>Strength</em></div>
</li>
<li class="level2"><div class="li"> You’ll need to enter the credentials (password, etc)</div>
</li>
<li class="level2"><div class="li"> You should be “on the air” - test by browsing the internet</div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> You may add additional uplinks (for different locations) by repeating the previous step</div>
</li>
<li class="level1"><div class="li"> Happy traveling …</div>
</li>
</ul>

<p>
<em>Note:</em> If you’re updating from a former Travelmate 1.x release: Use the ‘–force-reinstall –force-maintainer’ options in opkg; Remove any existing Travelmate related uplink stations in your wireless config manually
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Installation and Usage&quot;,&quot;hid&quot;:&quot;installation_and_usage&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:5,&quot;range&quot;:&quot;4059-5680&quot;} -->
<h2 class="sectionedit6" id="travelmate_config_options">Travelmate config options</h2>
<div class="level2">

<p>
The pre-configured Travelmate setup works quite well. Normally, no manual config overrides are needed. All listed options apply to the ‘global’ section:
</p>
<div class="table sectionedit7"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0 leftalign">Option            </th><th class="col1 leftalign">Default                           </th><th class="col2 leftalign">Description/Valid Values                                                                               </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0 leftalign">trm_enabled       </td><td class="col1 leftalign">0, disabled                       </td><td class="col2 leftalign">set to 1 to enable the travelmate service (this will be done by the Interface Wizard as well!)         </td>
	</tr>
	<tr class="row2">
		<td class="col0 leftalign">trm_debug         </td><td class="col1 leftalign">0, disabled                       </td><td class="col2 leftalign">set to 1 to get the full debug output (logread -e “trm-”)                                              </td>
	</tr>
	<tr class="row3">
		<td class="col0 leftalign">trm_iface         </td><td class="col1 leftalign">-, not set                        </td><td class="col2 leftalign">uplink- and procd trigger network interface, configured by the ‘Interface Wizard’                      </td>
	</tr>
	<tr class="row4">
		<td class="col0 leftalign">trm_radio         </td><td class="col1 leftalign">-, not set                        </td><td class="col2 leftalign">restrict travelmate to a single radio or change the overall scanning order (‘radio1 radio0’)           </td>
	</tr>
	<tr class="row5">
		<td class="col0 leftalign">trm_captive       </td><td class="col1 leftalign">1, enabled                        </td><td class="col2 leftalign">check the internet availability and handle captive portal redirections                                 </td>
	</tr>
	<tr class="row6">
		<td class="col0 leftalign">trm_netcheck      </td><td class="col1 leftalign">0, disabled                       </td><td class="col2 leftalign">treat missing internet availability as an error                                                        </td>
	</tr>
	<tr class="row7">
		<td class="col0 leftalign">trm_proactive     </td><td class="col1 leftalign">1, enabled                        </td><td class="col2 leftalign">proactively scan and switch to a higher prioritized uplink, despite of an already existing connection  </td>
	</tr>
	<tr class="row8">
		<td class="col0 leftalign">trm_autoadd       </td><td class="col1 leftalign">0, disabled                       </td><td class="col2 leftalign">automatically add open uplinks like hotel captive portals to your wireless config                      </td>
	</tr>
	<tr class="row9">
		<td class="col0 leftalign">trm_randomize     </td><td class="col1 leftalign">0, disabled                       </td><td class="col2 leftalign">generate a random unicast MAC address for each uplink connection                                       </td>
	</tr>
	<tr class="row10">
		<td class="col0 leftalign">trm_triggerdelay  </td><td class="col1 leftalign">2                                 </td><td class="col2 leftalign">additional trigger delay in seconds before travelmate processing begins                                </td>
	</tr>
	<tr class="row11">
		<td class="col0 leftalign">trm_maxretry      </td><td class="col1 leftalign">3                                 </td><td class="col2 leftalign">retry limit to connect to an uplink                                                                    </td>
	</tr>
	<tr class="row12">
		<td class="col0 leftalign">trm_minquality    </td><td class="col1 leftalign">35                                </td><td class="col2 leftalign">minimum signal quality threshold as percent for conditional uplink (dis-) connections                  </td>
	</tr>
	<tr class="row13">
		<td class="col0 leftalign">trm_maxwait       </td><td class="col1 leftalign">30                                </td><td class="col2 leftalign">how long should travelmate wait for a successful wlan uplink connection                                </td>
	</tr>
	<tr class="row14">
		<td class="col0 leftalign">trm_timeout       </td><td class="col1 leftalign">60                                </td><td class="col2 leftalign">overall retry timeout in seconds                                                                       </td>
	</tr>
	<tr class="row15">
		<td class="col0 leftalign">trm_maxautoadd    </td><td class="col1 leftalign">5                                 </td><td class="col2 leftalign">limit the max. number of automatically added open uplinks. To disable this limitation set it to ‘0’    </td>
	</tr>
	<tr class="row16">
		<td class="col0 leftalign">trm_maxscan       </td><td class="col1 leftalign">10                                </td><td class="col2 leftalign">limit nearby scan results to process only the strongest uplinks                                        </td>
	</tr>
	<tr class="row17">
		<td class="col0 leftalign">trm_captiveurl    </td><td class="col1 leftalign"><a href="http://detectportal.firefox.com" class="urlextern" title="http://detectportal.firefox.com" rel="ugc nofollow">http://detectportal.firefox.com</a>   </td><td class="col2 leftalign">pre-configured provider URLs that will be used for connectivity - and captive portal checks            </td>
	</tr>
	<tr class="row18">
		<td class="col0 leftalign">trm_useragent     </td><td class="col1 leftalign">Mozilla/5.0 …                     </td><td class="col2 leftalign">pre-configured user agents that will be used for connectivity- and captive portal checks               </td>
	</tr>
	<tr class="row19">
		<td class="col0 leftalign">trm_nice          </td><td class="col1 leftalign">0, normal priority                </td><td class="col2 leftalign">change the priority of the travelmate background processing                                            </td>
	</tr>
	<tr class="row20">
		<td class="col0 leftalign">trm_mail          </td><td class="col1 leftalign">0, disabled                       </td><td class="col2 leftalign">sends notification e-mails after every succesful uplink connect                                        </td>
	</tr>
	<tr class="row21">
		<td class="col0 leftalign">trm_mailreceiver  </td><td class="col1 leftalign">-, not set                        </td><td class="col2 leftalign">e-mail receiver address for travelmate notifications                                                   </td>
	</tr>
	<tr class="row22">
		<td class="col0 leftalign">trm_mailsender    </td><td class="col1 leftalign">no-reply@travelmate               </td><td class="col2 leftalign">e-mail sender address for travelmate notifications                                                     </td>
	</tr>
	<tr class="row23">
		<td class="col0 leftalign">trm_mailtopic     </td><td class="col1 leftalign">travelmate connection to ‘&lt;sta&gt;’  </td><td class="col2 leftalign">topic for travelmate notification E-Mails                                                              </td>
	</tr>
	<tr class="row24">
		<td class="col0 leftalign">trm_mailprofile   </td><td class="col1 leftalign">trm_notify                        </td><td class="col2 leftalign">profile used by ‘msmtp’ for travelmate notification E-Mails                                            </td>
	</tr>
</table></div>
<!-- EDIT{&quot;target&quot;:&quot;table&quot;,&quot;name&quot;:&quot;&quot;,&quot;hid&quot;:&quot;table&quot;,&quot;secid&quot;:7,&quot;range&quot;:&quot;5878-9903&quot;} -->
<p>
In addition, the travelmate config supports a <code>uplink</code> section for every uplink, with the following options:
</p>
<div class="table sectionedit8"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0 leftalign">Option            </th><th class="col1 leftalign">Default      </th><th class="col2 leftalign">Description/Valid Values                                                                            </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0 leftalign">enabled           </td><td class="col1 leftalign">1, enabled   </td><td class="col2 leftalign">enable or disable the uplink, automatically set if the retry limit or the conn. expiry was reached  </td>
	</tr>
	<tr class="row2">
		<td class="col0 leftalign">device            </td><td class="col1 leftalign">-, not set   </td><td class="col2 leftalign">match the ‘device’ in the wireless config section                                                   </td>
	</tr>
	<tr class="row3">
		<td class="col0 leftalign">ssid              </td><td class="col1 leftalign">-, not set   </td><td class="col2 leftalign">match the ‘ssid’ in the wireless config section                                                     </td>
	</tr>
	<tr class="row4">
		<td class="col0 leftalign">bssid             </td><td class="col1 leftalign">-, not set   </td><td class="col2 leftalign">match the ‘bssid’ in the wireless config section                                                    </td>
	</tr>
	<tr class="row5">
		<td class="col0 leftalign">con_start         </td><td class="col1 leftalign">-, not set   </td><td class="col2 leftalign">connection start (will be automatically set after a successful ntp sync)                            </td>
	</tr>
	<tr class="row6">
		<td class="col0 leftalign">con_end           </td><td class="col1 leftalign">-, not set   </td><td class="col2 leftalign">connection end (will be automatically set after a successful ntp sync)                              </td>
	</tr>
	<tr class="row7">
		<td class="col0 leftalign">con_start_expiry  </td><td class="col1 leftalign">0, disabled  </td><td class="col2 leftalign">automatically disable the uplink after n minutes, e.g. for timed connections                        </td>
	</tr>
	<tr class="row8">
		<td class="col0 leftalign">con_end_expiry    </td><td class="col1 leftalign">0, disabled  </td><td class="col2 leftalign">automatically (re-)enable the uplink after n minutes, e.g. after failed login attempts              </td>
	</tr>
	<tr class="row9">
		<td class="col0 leftalign">script            </td><td class="col1 leftalign">-, not set   </td><td class="col2 leftalign">reference to an external auto login script for captive portals                                      </td>
	</tr>
	<tr class="row10">
		<td class="col0 leftalign">script_args       </td><td class="col1 leftalign">-, not set   </td><td class="col2 leftalign">optional runtime args for the auto login script                                                     </td>
	</tr>
	<tr class="row11">
		<td class="col0 leftalign">macaddr           </td><td class="col1 leftalign">-, not set   </td><td class="col2 leftalign">use a specified MAC address for the uplink                                                          </td>
	</tr>
	<tr class="row12">
		<td class="col0 leftalign">vpn               </td><td class="col1 leftalign">0, disabled  </td><td class="col2 leftalign">automatically handle <abbr title="Virtual Private Network">VPN</abbr> (re-) connections                                                          </td>
	</tr>
	<tr class="row13">
		<td class="col0 leftalign">vpnservice        </td><td class="col1 leftalign">-, not set   </td><td class="col2 leftalign">reference the already configured ‘wireguard’ or ‘openvpn’ client instance as vpn provider           </td>
	</tr>
	<tr class="row14">
		<td class="col0 leftalign">vpniface          </td><td class="col1 leftalign">-, not set   </td><td class="col2 leftalign">the logical vpn interface, e.g. ‘wg0’ or ‘tun0’                                                     </td>
	</tr>
</table></div>
<!-- EDIT{&quot;target&quot;:&quot;table&quot;,&quot;name&quot;:&quot;&quot;,&quot;hid&quot;:&quot;table1&quot;,&quot;secid&quot;:8,&quot;range&quot;:&quot;10021-12091&quot;} -->
</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Travelmate config options&quot;,&quot;hid&quot;:&quot;travelmate_config_options&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:6,&quot;range&quot;:&quot;5681-12092&quot;} -->
<h2 class="sectionedit9" id="vpn_client_setup">VPN client setup</h2>
<div class="level2">

<p>
Please follow one of the following guides to get a working vpn client setup on your travel router:
</p>
<ul>
<li class="level1"><div class="li"> <a href="https://openwrt.org/docs/guide-user/services/vpn/wireguard/client" class="urlextern" title="https://openwrt.org/docs/guide-user/services/vpn/wireguard/client" rel="ugc nofollow">Wireguard client setup guide</a></div>
</li>
<li class="level1"><div class="li"> <a href="https://openwrt.org/docs/guide-user/services/vpn/openvpn/client" class="urlextern" title="https://openwrt.org/docs/guide-user/services/vpn/openvpn/client" rel="ugc nofollow">OpenVPN client setup guide</a></div>
</li>
</ul>

<p>
Once your vpn client connection is running, you can reference to that setup in Travelmate to handle <abbr title="Virtual Private Network">VPN</abbr> (re-) connections automatically.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;VPN client setup&quot;,&quot;hid&quot;:&quot;vpn_client_setup&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:9,&quot;range&quot;:&quot;12093-12563&quot;} -->
<h2 class="sectionedit10" id="e-mail_setup">E-Mail setup</h2>
<div class="level2">

<p>
To use E-Mail notifications you have to setup the package <code>msmtp</code>.
</p>

<p>
Modify the file <code>/etc/msmtprc</code>, e.g. for gmail:
</p>
<pre class="code bash"><span class="br0">&#91;</span>...<span class="br0">&#93;</span>
defaults
auth            on
tls             on
tls_certcheck   off
timeout         <span class="nu0">5</span>
syslog          LOG_MAIL
<span class="br0">&#91;</span>...<span class="br0">&#93;</span>
account         trm_notify
host            smtp.gmail.com
port            <span class="nu0">587</span>
from            xxx<span class="sy0">@</span>gmail.com
user            yyy
password        zzz</pre>

<p>
Finally enable E-Mail support in Travelmate and add a valid E-Mail receiver address.
</p>

<p>
See <a href="/docs/guide-user/services/email/smtp.client" class="wikilink1" title="docs:guide-user:services:email:smtp.client" data-wiki-id="docs:guide-user:services:email:smtp.client">SMTP clients</a> for more details.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;E-Mail setup&quot;,&quot;hid&quot;:&quot;e-mail_setup&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:10,&quot;range&quot;:&quot;12564-13171&quot;} -->
<h2 class="sectionedit11" id="captive_portal_auto-logins">Captive Portal auto-logins</h2>
<div class="level2">

<p>
For automated captive portal logins you can reference an external shell script per uplink. All login scripts should be executable and located in <code>/etc/travelmate</code> with the extension ‘.login’. The package ships multiple ready to run auto-login scripts:
</p>
<ul>
<li class="level1"><div class="li"> <code>wifionice.login</code> for ICE hotspots (DE)</div>
</li>
<li class="level1"><div class="li"> <code>db-bahn.login</code> for german DB railway hotspots via portal login <abbr title="Application Programming Interface">API</abbr> (still WIP, only tested at Hannover central station)</div>
</li>
<li class="level1"><div class="li"> <code>chs-hotel.login</code> for german chs hotels</div>
</li>
<li class="level1"><div class="li"> <code>h-hotels.login</code> for Telekom hotspots in h+hotels (DE)</div>
</li>
<li class="level1"><div class="li"> <code>julianahoeve.login</code> for Julianahoeve beach resort (NL)</div>
</li>
<li class="level1"><div class="li"> <code>telekom.login</code> for telekom hotspots (DE)</div>
</li>
<li class="level1"><div class="li"> <code>vodafone.login</code> for vodafone hotspots (DE)</div>
</li>
<li class="level1"><div class="li"> <code>generic-user-pass.login</code> a template to demonstrate the optional parameter handling in login scripts</div>
</li>
</ul>

<p>
A typical and successful captive portal login looks like this:
</p>
<pre class="code bash"><span class="br0">&#91;</span>...<span class="br0">&#93;</span>
Thu Sep <span class="nu0">10</span> <span class="nu0">13</span>:<span class="nu0">30</span>:<span class="nu0">16</span> <span class="nu0">2020</span> user.info trm-2.0.0<span class="br0">&#91;</span><span class="nu0">26222</span><span class="br0">&#93;</span>: captive portal domain <span class="st_h">'www.wifionice.de'</span> added to to dhcp rebind whitelist
Thu Sep <span class="nu0">10</span> <span class="nu0">13</span>:<span class="nu0">30</span>:<span class="nu0">19</span> <span class="nu0">2020</span> user.info trm-2.0.0<span class="br0">&#91;</span><span class="nu0">26222</span><span class="br0">&#93;</span>: captive portal <span class="kw2">login</span> <span class="st_h">'/etc/travelmate/wifionice.login '</span> <span class="kw1">for</span> <span class="st_h">'www.wifionice.de'</span> has been executed with rc <span class="st_h">'0'</span>
Thu Sep <span class="nu0">10</span> <span class="nu0">13</span>:<span class="nu0">30</span>:<span class="nu0">19</span> <span class="nu0">2020</span> user.info trm-2.0.0<span class="br0">&#91;</span><span class="nu0">26222</span><span class="br0">&#93;</span>: connected to uplink <span class="st_h">'radio1/WIFIonICE/-'</span> with mac <span class="st_h">'B2:9D:F5:96:86:A4'</span> <span class="br0">&#40;</span><span class="nu0">1</span><span class="sy0">/</span><span class="nu0">3</span><span class="br0">&#41;</span>
<span class="br0">&#91;</span>...<span class="br0">&#93;</span></pre>

<p>
Hopefully more scripts for different captive portals will be provided by the community!
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Captive Portal auto-logins&quot;,&quot;hid&quot;:&quot;captive_portal_auto-logins&quot;,&quot;codeblockOffset&quot;:1,&quot;secid&quot;:11,&quot;range&quot;:&quot;13172-14659&quot;} -->
<h2 class="sectionedit12" id="runtime_information">Runtime information</h2>
<div class="level2">

<p>
<strong>Receive Travelmate runtime information:</strong>
</p>
<pre class="code bash"><span class="co4">root@2go_ar750s:~# </span><span class="sy0">/</span>etc<span class="sy0">/</span>init.d<span class="sy0">/</span>travelmate status
::: travelmate runtime information
  + travelmate_status  : connected <span class="br0">&#40;</span>net ok<span class="sy0">/</span><span class="nu0">100</span><span class="br0">&#41;</span>
  + travelmate_version : 2.0.0
  + station_id         : radio1<span class="sy0">/</span>WIFIonICE<span class="sy0">/</span>-
  + station_mac        : B2:9D:F5:<span class="nu0">96</span>:<span class="nu0">86</span>:A4
  + station_interface  : trm_wwan
  + wpa_flags          : sae: ✔, owe: ✔, eap: ✔, suiteb192: ✔
  + run_flags          : captive: ✔, proactive: ✔, netcheck: ✘, autoadd: ✘, randomize: ✔
  + ext_hooks          : ntp: ✔, vpn: ✘, mail: ✘
  + last_run           : 2020.09.10-<span class="nu0">15</span>:<span class="nu0">21</span>:<span class="nu0">19</span>
  + system             : GL.iNet GL-AR750S <span class="br0">&#40;</span>NOR<span class="sy0">/</span>NAND<span class="br0">&#41;</span>, OpenWrt SNAPSHOT r14430-2dda301d40</pre>

<p>
To debug travelmate runtime problems, please always enable the ‘trm_debug’ flag, restart Travelmate and check the system log afterwards (<em>logread -e “trm-”</em>)
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Runtime information&quot;,&quot;hid&quot;:&quot;runtime_information&quot;,&quot;codeblockOffset&quot;:2,&quot;secid&quot;:12,&quot;range&quot;:&quot;14660-15570&quot;} -->
<h2 class="sectionedit13" id="support">Support</h2>
<div class="level2">

<p>
Please join the Travelmate discussion in this <a href="https://forum.openwrt.org/t/travelmate-support-thread/5155" class="urlextern" title="https://forum.openwrt.org/t/travelmate-support-thread/5155" rel="ugc nofollow">forum thread</a> or contact me by <a href="mailto:&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#100;&#101;&#118;&#64;&#98;&#114;&#101;&#110;&#107;&#101;&#110;&#46;&#111;&#114;&#103;" class="mail" title="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#100;&#101;&#118;&#64;&#98;&#114;&#101;&#110;&#107;&#101;&#110;&#46;&#111;&#114;&#103;">mail.</a> The Travelmate code is in this <a href="https://github.com/openwrt/packages/blob/openwrt-22.03/net/travelmate/files/README.md" class="urlextern" title="https://github.com/openwrt/packages/blob/openwrt-22.03/net/travelmate/files/README.md" rel="ugc nofollow">Github repo.</a>
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Support&quot;,&quot;hid&quot;:&quot;support&quot;,&quot;codeblockOffset&quot;:3,&quot;secid&quot;:13,&quot;range&quot;:&quot;15571-15898&quot;} -->
<h2 class="sectionedit14" id="removal">Removal</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> stop the Travelmate daemon with <em>/etc/init.d/travelmate stop</em></div>
</li>
<li class="level1"><div class="li"> optional: remove the Travelmate package (<em>opkg remove luci-app-travelmate</em>, <em>opkg remove travelmate</em>)</div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Removal&quot;,&quot;hid&quot;:&quot;removal&quot;,&quot;codeblockOffset&quot;:3,&quot;secid&quot;:14,&quot;range&quot;:&quot;15899-16098&quot;} -->
<h2 class="sectionedit15" id="donations">Donations</h2>
<div class="level2">

<p>
You like this project - is there a way to donate? Generally speaking “No” - I have a well-paying full-time job and my OpenWrt projects are just a hobby of mine in my spare time.
</p>

<p>
If you still insist to donate some bucks …
</p>
<ul>
<li class="level1"><div class="li"> I would be happy if you put your money in kind into other, social projects in your area, e.g. a children’s hospice</div>
</li>
<li class="level1"><div class="li"> Let’s meet and invite me for a coffee if you are in my area, the “Markgräfler Land” in southern Germany or in Switzerland (Basel)</div>
</li>
<li class="level1"><div class="li"> Send your money to my <a href="https://www.paypal.me/DirkBrenken" class="urlextern" title="https://www.paypal.me/DirkBrenken" rel="ugc nofollow">PayPal account</a> and I will collect your donations over the year to support various social projects in my area</div>
</li>
</ul>

<p>
No matter what you decide - thank you very much for your support!
</p>

<p>
Have fun!<br/>

Dirk
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Donations&quot;,&quot;hid&quot;:&quot;donations&quot;,&quot;codeblockOffset&quot;:3,&quot;secid&quot;:15,&quot;range&quot;:&quot;16099-&quot;} -->