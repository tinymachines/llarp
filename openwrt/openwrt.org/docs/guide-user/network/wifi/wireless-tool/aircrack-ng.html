
<h1 class="sectionedit1" id="aircrack">Aircrack</h1>
<div class="level1">

<p>
Aircrack is a suite of tools that enables wireless traffic monitoring and penetration/security testing. The official page is <a href="http://www.aircrack-ng.org" class="urlextern" title="http://www.aircrack-ng.org" rel="ugc nofollow">Aircrack</a>
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Aircrack&quot;,&quot;hid&quot;:&quot;aircrack&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:1,&quot;range&quot;:&quot;1-189&quot;} -->
<h2 class="sectionedit2" id="requirements">Requirements</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> An OpenWrt device that supports monitor and client mode</div>
</li>
<li class="level1"><div class="li"> aircrack package</div>
</li>
<li class="level1"><div class="li"> External storage (recommend at least 1GB)</div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Requirements&quot;,&quot;hid&quot;:&quot;requirements&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:2,&quot;range&quot;:&quot;190-342&quot;} -->
<h2 class="sectionedit3" id="installation">Installation</h2>
<div class="level2">

<p>
Aircrack can easily be installed using the OpenWrt repository already configured by default.  See <a href="/packages/start" class="wikilink1" title="packages:start" data-wiki-id="packages:start">packages</a> if you need help managing your configured repositories.
</p>

<p>
Install aircrack by typing:
</p>
<pre class="code">opkg update
opkg install aircrack-ng</pre>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Installation&quot;,&quot;hid&quot;:&quot;installation&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:3,&quot;range&quot;:&quot;343-617&quot;} -->
<h3 class="sectionedit4" id="command_line_wireless_tools">Command Line Wireless Tools</h3>
<div class="level3">

<p>
Modern releases already have the <strong>iw</strong> and <strong>iwinfo</strong> commands available.  Older releases may need a different package such as <code>wl</code> (Prism) or kmod-madwifi or wireless-tools (Atheros/MadWIFI).
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Command Line Wireless Tools&quot;,&quot;hid&quot;:&quot;command_line_wireless_tools&quot;,&quot;codeblockOffset&quot;:1,&quot;secid&quot;:4,&quot;range&quot;:&quot;618-854&quot;} -->
<h2 class="sectionedit5" id="configuration">Configuration</h2>
<div class="level2">

<p>
Now that Aircrack is installed and ready to start capturing traffic, you have to tell your router to listen to all traffic and not just traffic of its own.  This is called “monitor mode.”  To be able to change channels and sniff on all channels, you must have the router in client mode: <a href="/doc/howto/clientmode" class="wikilink2" title="doc:howto:clientmode" rel="nofollow" data-wiki-id="doc:howto:clientmode">clientmode</a>
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Configuration&quot;,&quot;hid&quot;:&quot;configuration&quot;,&quot;codeblockOffset&quot;:1,&quot;secid&quot;:5,&quot;range&quot;:&quot;855-1193&quot;} -->
<h3 class="sectionedit6" id="modern_openwrt_releases">Modern OpenWrt Releases</h3>
<div class="level3">
<pre class="code">iw dev</pre>

<p>
Another handy command to see which radio you have (for dual-band devices) is
</p>
<pre class="code">iw phy phy0 info</pre>

<p>
Now create the monitor mode device
</p>
<pre class="code">iw phy phy0 interface add mon0 type monitor</pre>
<pre class="code">iw dev</pre>

<p>
You should see a mon0 interface.
</p>
<pre class="code">ifconfig mon0 up</pre>

<p>
This enables the device for use.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Modern OpenWrt Releases&quot;,&quot;hid&quot;:&quot;modern_openwrt_releases&quot;,&quot;codeblockOffset&quot;:1,&quot;secid&quot;:6,&quot;range&quot;:&quot;1194-1572&quot;} -->
<h3 class="sectionedit7" id="older_openwrt_releases">Older OpenWrt Releases</h3>
<div class="level3">

<p>
Users with a Broadcom chipset need to use the <code>wl</code> utility:
</p>
<pre class="code">wl monitor 1
ifup prism0</pre>

<p>
Users with an Atheros chipset need to use <code>wlanconfig</code>:
</p>
<pre class="code">wlanconfig ath1 create wlandev wifi0 wlanmode monitor</pre>

<p>
MadWIFI allows you you have virtual interfaces, provided they are on the same channel.  This is why ath1 is specified.  All Atheros chipset cards have a wifi device, and each device can have multiple ath devices.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Older OpenWrt Releases&quot;,&quot;hid&quot;:&quot;older_openwrt_releases&quot;,&quot;codeblockOffset&quot;:6,&quot;secid&quot;:7,&quot;range&quot;:&quot;1573-2051&quot;} -->
<h2 class="sectionedit8" id="start_capturing">Start Capturing</h2>
<div class="level2">

<p>
Begin by changing into the directory that you want to store the dump file in. This is most likely the directory that is either a CIFS or NFS or USB or whatever external storage mount. The dump files can get large, and to capture a useful amount of data you will need more storage than what comes stock on these routers. Another reason and advantage for storing the dump file on another computer is so the processing of the dumpfile can be done in parallel with capturing.
</p>

<p>
Once you are in the directory that you want to store the dump file in, run the following commands:
</p>
<pre class="code">airodump-ng --ivs --write testcapture --beacons mon0</pre>

<p>
What the above command does is:
</p>
<ul>
<li class="level1"><div class="li"> --ivs - Only capture IVS</div>
</li>
<li class="level1"><div class="li"> --write testcapture - Output to a file testcapture-01.ivs  (postfix is added automatically)</div>
</li>
<li class="level1"><div class="li"> --beacons - Include beacons seen</div>
</li>
<li class="level1"><div class="li"> mon0 - Use device <code>mon0</code></div>
</li>
</ul>

<p>
We want to only write the IVs found because they are the packets that can be used to crack the wireless encryption.
</p>

<p>
After the command is run the Aircrack program starts to display information about the surrounding networks to the user. The user will see the ESSIDs of the surrounding networks and how many packets those networks are sending.
</p>

<p>
During capture, the user can run the <code>aircrack-ng</code> program on the capture file using a computer with access to the storage (i.e. network share).  Using this method, both airodump-ng and aircrack-ng can be run in parallel, without interfering with each other.
</p>

<p>
Once you have enough packets logged just hit 
</p>
<pre class="code">CTRL+C</pre>

<p>
 to quit airodump.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Start Capturing&quot;,&quot;hid&quot;:&quot;start_capturing&quot;,&quot;codeblockOffset&quot;:8,&quot;secid&quot;:8,&quot;range&quot;:&quot;2052-3639&quot;} -->
<h2 class="sectionedit9" id="notes">Notes</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> If you get stuck on something, there are lots of good resources at the official aircrack <a href="http://www.aircrack-ng.org" class="urlextern" title="http://www.aircrack-ng.org" rel="ugc nofollow">website</a></div>
</li>
<li class="level1"><div class="li"> Aircrack discussion forums are <a href="http://tinyshell.be/aircrackng/forum/" class="urlextern" title="http://tinyshell.be/aircrackng/forum/" rel="ugc nofollow">here</a></div>
</li>
<li class="level1"><div class="li"> You can also join the channel #aircrack-ng on Freenode <abbr title="Internet Relay Chat">IRC</abbr> (irc.freenode.net)</div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Notes&quot;,&quot;hid&quot;:&quot;notes&quot;,&quot;codeblockOffset&quot;:10,&quot;secid&quot;:9,&quot;range&quot;:&quot;3640-&quot;} -->