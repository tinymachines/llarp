
<h1 class="sectionedit1" id="openwrt_as_router_device">OpenWrt as router device</h1>
<div class="level1">

<p>
See also:
<a href="/docs/guide-user/network/openwrt_as_clientdevice" class="wikilink1" title="docs:guide-user:network:openwrt_as_clientdevice" data-wiki-id="docs:guide-user:network:openwrt_as_clientdevice">OpenWrt as client device</a>,
<a href="/docs/guide-user/network/switch_router_gateway_and_nat" class="wikilink1" title="docs:guide-user:network:switch_router_gateway_and_nat" data-wiki-id="docs:guide-user:network:switch_router_gateway_and_nat">Router vs switch vs gateway and NAT</a>
</p>

<p>
If your device has some ports labeled <abbr title="Local Area Network">LAN</abbr> and at least a port labeled <abbr title="Wide Area Network">WAN</abbr> and you want it to operate as a router (a connection between two different networks).
Depending on actual hardware support, it may be possible to create a <abbr title="Wide Area Network">WAN</abbr> port on a device with only <abbr title="Local Area Network">LAN</abbr> ports, see your device&#039;s page for more info about this.
The default <abbr title="Internet Protocol">IP</abbr> of the <abbr title="Local Area Network">LAN</abbr> ports of a OpenWrt device is 192.168.1.1, if the addresses of the devices in the network you connect to the <abbr title="Wide Area Network">WAN</abbr> port are <strong>192.168.1.X</strong> (X=any number), you need to change the <abbr title="Internet Protocol">IP</abbr> address of the <abbr title="Local Area Network">LAN</abbr> interface on your OpenWrt router to <strong>192.168.2.1</strong> (or to something that isn&#039;t <strong>192.168.1.X</strong>, anyway), or change the addressing of the other network you are connecting to.
The <abbr title="Local Area Network">LAN</abbr> and <abbr title="Wide Area Network">WAN</abbr> interfaces MUST have at least different subnets for routing to work.
</p>

<p>
This means:
</p>
<ul>
<li class="level1 node"><div class="li"> OpenWrt will be mostly in its default factory configuration</div>
<ul>
<li class="level2"><div class="li"> firewall on</div>
</li>
<li class="level2"><div class="li"> <abbr title="Dynamic Host Configuration Protocol">DHCP</abbr> is on </div>
</li>
</ul>
</li>
<li class="level1 node"><div class="li"> The following steps are optional: </div>
<ul>
<li class="level2"><div class="li"> you can customize the router address and the address of the subnet that OpenWrt manages, but you don&#039;t have to (you preferably want to do this, if the addresses 192.168.1.* are already in use on the <abbr title="Wide Area Network">WAN</abbr> side)</div>
</li>
<li class="level2"><div class="li"> you can change the <abbr title="Wide Area Network">WAN</abbr> side <abbr title="Internet Protocol">IP</abbr> address to no longer obtain a dynamic address: if your <abbr title="Internet Service Provider">ISP</abbr> wants you to set a fixed address then set it to a fixed address instead</div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> If you are confused now or don&#039;t know, simply start by leaving both config parts in its default configuration. If you experience problems with these defaults, then adapt them accordingly later.</div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;OpenWrt as router device&quot;,&quot;hid&quot;:&quot;openwrt_as_router_device&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:1,&quot;range&quot;:&quot;1-1760&quot;} -->
<h2 class="sectionedit2" id="web_interface_instructions">Web interface instructions</h2>
<div class="level2">
<ol>
<li class="level1"><div class="li"> Click on <strong>Network</strong> â†’ <strong>Interfaces</strong>, then click on the <strong>Edit</strong> button of the <abbr title="Local Area Network">LAN</abbr> Network.</div>
</li>
<li class="level1"><div class="li"> In <strong>General Setup</strong> tab, in <strong><abbr title="Internet Protocol version 4">IPv4</abbr> address</strong> type in the desired static <abbr title="Internet Protocol">IP</abbr> address for the <abbr title="Local Area Network">LAN</abbr> interface of your OpenWrt Router, if your main router&#039;s address is 192.168.1.1 (most common), set the <abbr title="Internet Protocol">IP</abbr> address of your OpenWrt router <abbr title="Local Area Network">LAN</abbr> interface to <strong>192.168.2.1</strong> (or to something that isn&#039;t <strong>192.168.1.X</strong>, anyway). Once you have chosen and written the <abbr title="Internet Protocol">IP</abbr> address, write it down in the same sticker with the user/password above, it will be used to connect to your device in the future.</div>
</li>
<li class="level1"><div class="li"> By default the <abbr title="Wide Area Network">WAN</abbr> interface/port is set as <strong><abbr title="Dynamic Host Configuration Protocol">DHCP</abbr> client</strong>, this will allow it to work with networks where there is another router giving addresses without further configuration. If you need to set static address please see the instructions for <a href="/docs/guide-user/network/openwrt_as_clientdevice" class="wikilink1" title="docs:guide-user:network:openwrt_as_clientdevice" data-wiki-id="docs:guide-user:network:openwrt_as_clientdevice">Client device</a>, and change the <abbr title="Wide Area Network">WAN</abbr> interface settings accordingly.</div>
</li>
</ol>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Web interface instructions&quot;,&quot;hid&quot;:&quot;web_interface_instructions&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:2,&quot;range&quot;:&quot;1761-2759&quot;} -->
<h2 class="sectionedit3" id="command-line_instructions">Command-line instructions</h2>
<div class="level2">

<p>
Configure the <abbr title="Local Area Network">LAN</abbr> interface statically with the new <abbr title="Internet Protocol">IP</abbr> address <code>192.168.2.1</code>.
</p>
<pre class="code bash">uci <span class="kw1">set</span> network.lan.ipaddr=<span class="st0">&quot;192.168.2.1&quot;</span>
uci commit network
service network restart</pre>

<p>
Note that changing the <abbr title="Internet Protocol">IP</abbr> address causes the <abbr title="Secure Shell">SSH</abbr> session to hang/disconnect.
</p>

<p>
Follow <a href="/docs/guide-user/network/openwrt_as_clientdevice" class="wikilink1" title="docs:guide-user:network:openwrt_as_clientdevice" data-wiki-id="docs:guide-user:network:openwrt_as_clientdevice">OpenWrt as client device</a> to configure the <abbr title="Wide Area Network">WAN</abbr> interface if necessary.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Command-line instructions&quot;,&quot;hid&quot;:&quot;command-line_instructions&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:3,&quot;range&quot;:&quot;2760-&quot;} -->