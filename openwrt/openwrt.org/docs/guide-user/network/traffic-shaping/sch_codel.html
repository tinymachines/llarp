
<h1 class="sectionedit1" id="codel">CoDel</h1>
<div class="level1">

<p>
CoDel - The Controlled-Delay Active Queue Management algorithm.
</p>
<ul>
<li class="level1"><div class="li"> <a href="https://elixir.bootlin.com/linux/latest/source/net/sched/sch_fq_codel.c" class="urlextern" title="https://elixir.bootlin.com/linux/latest/source/net/sched/sch_fq_codel.c" rel="ugc nofollow">Source Code</a></div>
</li>
<li class="level1"><div class="li"> <a href="https://www.bufferbloat.net/projects/codel/wiki" class="urlextern" title="https://www.bufferbloat.net/projects/codel/wiki" rel="ugc nofollow">Buffer Bloat</a></div>
</li>
</ul>

<p>
Explanations for the average person:
</p>
<ul>
<li class="level1"><div class="li"> <a href="http://www.youtube.com/watch?v=y5KPryOHwk8" class="urlextern" title="http://www.youtube.com/watch?v=y5KPryOHwk8" rel="ugc nofollow">this video (YT, 41 minutes)</a> starting at ~21:00 explains CoDel</div>
</li>
<li class="level1"><div class="li"> it also explains <a href="/docs/guide-user/network/traffic-shaping/sch_fq_codel" class="wikilink1" title="docs:guide-user:network:traffic-shaping:sch_fq_codel" data-wiki-id="docs:guide-user:network:traffic-shaping:sch_fq_codel">Fair Queue CoDel</a></div>
</li>
<li class="level1"><div class="li"> but it does not explain <a href="/docs/guide-user/network/traffic-shaping/sch_hfsc" class="wikilink1" title="docs:guide-user:network:traffic-shaping:sch_hfsc" data-wiki-id="docs:guide-user:network:traffic-shaping:sch_hfsc">HFSC</a></div>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> measure the latency in the queue (from ingress to egress, via time stamping on entry and checking the timestamp on exit</div>
</li>
<li class="level1"><div class="li"> when latency exceeds tartget, think about dropping a packet</div>
</li>
<li class="level1"><div class="li"> after latency exceeds target, drop a packet at the HEAD of the queue (not the tail!)</div>
</li>
<li class="level1"><div class="li"> if that does not fix it, after a shorter interval (inverse sqrt), drop the net packet sooner, again at the HEAD</div>
</li>
<li class="level1"><div class="li"> keep decreasing the interval between drops until the latency in the queue drops below target</div>
</li>
<li class="level1"><div class="li"> we start with 100ms at the interval of the estimate and 5ms as the target (for 4Mbit/s and up); 10Gb/s needs a smaller target.</div>
</li>
<li class="level1"><div class="li"> below 4Mbit/s ... well, we don&#039;t know</div>
</li>
</ul>

</div>
