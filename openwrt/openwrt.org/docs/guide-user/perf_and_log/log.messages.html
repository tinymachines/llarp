
<h1 class="sectionedit1" id="log_messages">LOG MESSAGES</h1>
<div class="level1">

<p>
In 12.09 The content of the membuffer that syslogd writes to, by default, consists of up to 16 KB utf-8/<abbr title="American Standard Code for Information Interchange">ASCII</abbr> encoded characters.  Remember this if/when you use <code>logger</code>. To read the content of the membuffer that syslogd writes to, use the <code>logread</code> utility (for kernel messages use <code>dmesg</code>).  Let&#039;s have a look at the MESSAGES different program produces: on OpenWrt they all start with the name of the program that send the message plus its PID.
</p>

<p>
It would be foolish to even try to display and explain all the Log messages the programs used with OpenWrt generate. We need external links.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;LOG MESSAGES&quot;,&quot;hid&quot;:&quot;log_messages&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:1,&quot;range&quot;:&quot;1-625&quot;} -->
<h2 class="sectionedit2" id="dropbear">dropbear</h2>
<div class="level2">
<pre class="code">Feb  4 21:45:43 openwrt user.info dropbear[9815]: Child connection from 192.168.1.1:46247
Feb  4 21:45:43 openwrt user.notice dropbear[9815]: password auth succeeded for &#039;username&#039; from 192.168.1.1:46247
Feb  5 00:03:34 openwrt user.info dropbear[9815]: exit after auth (username): Exited normally
Feb  5 03:13:39 openwrt user.warn dropbear[10221]: bad password attempt for &#039;root&#039; from 192.168.1.1:51570
Feb  5 03:13:40 openwrt user.warn dropbear[10221]: bad password attempt for &#039;root&#039; from 192.168.1.1:51570
Feb  5 03:13:42 openwrt user.warn dropbear[10221]: bad password attempt for &#039;root&#039; from 192.168.1.1:51570
Feb  5 03:13:43 openwrt user.warn dropbear[10221]: bad password attempt for &#039;root&#039; from 192.168.1.1:51570
Feb  5 03:13:45 openwrt user.warn dropbear[10221]: bad password attempt for &#039;root&#039; from 192.168.1.1:51570
Feb  5 03:13:48 openwrt user.info dropbear[10221]: exit before auth (user &#039;root&#039;, 5 fails): Disconnect received</pre>
<ul>
<li class="level1"><div class="li"> dropbear[PID]: dropbear with the PID 999 is running all the time. This instance (PID=9815) has been spawn for this ssh session.</div>
</li>
<li class="level1"><div class="li"> password auth succeeded for &#039;username&#039; from 192.168.1.1:46247: \\this is going to spawn an ash instance with the PID 9687</div>
</li>
</ul>

<p>
As you see, it is possible to try many many passwords. You can put an end to this by configuring dropbear or with netfilter.
You can (and should) read your logs regularly, but of course you can also initiate thing with logs.
</p>
<ul>
<li class="level1"><div class="li"> When you debug, you should create a lot of logs.</div>
</li>
<li class="level1 node"><div class="li"> During normal service, you should create logs </div>
<ul>
<li class="level2"><div class="li"> to WARN you  <em>read them regularly</em></div>
</li>
<li class="level2"><div class="li"> LOGs in order to be able to reconstruct things. <em>read them when need it</em></div>
</li>
</ul>
</li>
</ul>

<p>
Yes, when you have any service running 24/7, you are responsible for it. “I didn&#039;t know” doesn&#039;t really count in court. It is your responsibility to keep yourself informed!
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;dropbear&quot;,&quot;hid&quot;:&quot;dropbear&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:2,&quot;range&quot;:&quot;626-2491&quot;} -->
<h2 class="sectionedit3" id="netfilter">netfilter</h2>
<div class="level2">
<div class="table sectionedit4"><table class="inline">
	<tr class="row0">
		<td class="col0"><code><span style='color:grey; '>Feb  3 16:04:14 openwrt user.warn</span> <span style='color:magenta; '>kernel: IPT_dsl-Rej IN=pppoe-dsl OUT= MAC= SRC=119.121.32.2 DST=141.70.120.8 LEN=79 TOS=0x00 PREC=0x00 <abbr title="Time To Live">TTL</abbr>=53 ID=22415 PROTO=<abbr title="User Datagram Protocol">UDP</abbr> SPT=15758 DPT=38565 LEN=59</span>
</code></td>
	</tr>
	<tr class="row1">
		<td class="col0"><pre class="code">kernel: IPT_dsl-Rej IN=pppoe-dsl OUT= MAC= SRC=222.155.169.237 DST=79.128.154.27 LEN=60 TOS=0x00 PREC=0x40 TTL=46 ID=7247 DF PROTO=TCP SPT=4709 DPT=23 WINDOW=5808 RES=0x00 SYN URGP=0</pre>
</td>
	</tr>
</table></div>
<!-- EDIT{&quot;target&quot;:&quot;table&quot;,&quot;name&quot;:&quot;&quot;,&quot;hid&quot;:&quot;table&quot;,&quot;secid&quot;:4,&quot;range&quot;:&quot;2514-2953&quot;} --><div class="table sectionedit5"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Part of Message </th><th class="col1 leftalign"> Meaning  </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0 leftalign"> kernel:       </td><td class="col1"> The kernel send this message. (because netfilter is part of the kernel) remember <code>iptables</code>/<code>ip6tables</code> are only the user space programs to configure netfilter. </td>
	</tr>
	<tr class="row2">
		<td class="col0 leftalign"> IPT_dsl-Rej   </td><td class="col1"> the string you set with <code>--log-prefix</code>, see <a href="/docs/guide-user/firewall/netfilter-iptables/netfilter#configuration" class="wikilink2" title="docs:guide-user:firewall:netfilter-iptables:netfilter" rel="nofollow" data-wiki-id="docs:guide-user:firewall:netfilter-iptables:netfilter">configuration</a> </td>
	</tr>
	<tr class="row3">
		<td class="col0 leftalign"> IN=           </td><td class="col1 leftalign"> Incoming interface  </td>
	</tr>
	<tr class="row4">
		<td class="col0 leftalign"> OUT=          </td><td class="col1 leftalign"> Outgoing Interface  </td>
	</tr>
	<tr class="row5">
		<td class="col0 leftalign"> MAC=          </td><td class="col1 leftalign"> dst and src MACs and something else  </td>
	</tr>
	<tr class="row6">
		<td class="col0 leftalign"> SRC=          </td><td class="col1"> Source <abbr title="Internet Protocol">IP</abbr> address </td>
	</tr>
	<tr class="row7">
		<td class="col0 leftalign"> DST=          </td><td class="col1"> Destination <abbr title="Internet Protocol">IP</abbr> address </td>
	</tr>
	<tr class="row8">
		<td class="col0 leftalign"> LEN=          </td><td class="col1 leftalign"> Overall length of <abbr title="Internet Protocol">IP</abbr> packet in bytes  </td>
	</tr>
	<tr class="row9">
		<td class="col0 leftalign"> TOS=          </td><td class="col1 leftalign"> the ToS-Flag  </td>
	</tr>
	<tr class="row10">
		<td class="col0 leftalign"> PREC=         </td><td class="col1"> belongs to ToS </td>
	</tr>
	<tr class="row11">
		<td class="col0 leftalign"> <abbr title="Time To Live">TTL</abbr>=          </td><td class="col1 leftalign"> Time-to-live in <code>ms</code> or in <code>hops</code>  </td>
	</tr>
	<tr class="row12">
		<td class="col0 leftalign"> ID=           </td><td class="col1 leftalign">  </td>
	</tr>
	<tr class="row13">
		<td class="col0 leftalign"> DF            </td><td class="col1 leftalign"> Don&#039;t Fragment Flag set  </td>
	</tr>
	<tr class="row14">
		<td class="col0 leftalign"> PROTO=        </td><td class="col1"> <a href="https://en.wikipedia.org/wiki/Transport Layer" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/Transport Layer">transport protocol</a> used <code><abbr title="Transmission Control Protocol">TCP</abbr></code> <code><abbr title="User Datagram Protocol">UDP</abbr></code>  etc. </td>
	</tr>
	<tr class="row15">
		<td class="col0 leftalign"> SPT=          </td><td class="col1 leftalign"> source port  </td>
	</tr>
	<tr class="row16">
		<td class="col0 leftalign"> DPT=          </td><td class="col1 leftalign"> destination port  </td>
	</tr>
	<tr class="row17">
		<td class="col0 leftalign"> LEN=          </td><td class="col1 leftalign"> payload size in bytes  </td>
	</tr>
	<tr class="row18">
		<td class="col0 leftalign"> WINDOW=       </td><td class="col1 leftalign">  </td>
	</tr>
	<tr class="row19">
		<td class="col0 leftalign"> RES=          </td><td class="col1 leftalign">  </td>
	</tr>
	<tr class="row20">
		<td class="col0 leftalign"> SYN           </td><td class="col1"> SYN flag, see <a href="https://en.wikipedia.org/wiki/Three-way handshake" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/Three-way handshake">Three-way handshake</a> </td>
	</tr>
	<tr class="row21">
		<td class="col0 leftalign"> URGP=         </td><td class="col1 leftalign">  </td>
	</tr>
</table></div>
<!-- EDIT{&quot;target&quot;:&quot;table&quot;,&quot;name&quot;:&quot;&quot;,&quot;hid&quot;:&quot;table1&quot;,&quot;secid&quot;:5,&quot;range&quot;:&quot;2955-4109&quot;} -->
<p>
<a href="http://logi.cc/en/2010/07/netfilter-log-format/" class="urlextern" title="http://logi.cc/en/2010/07/netfilter-log-format/" rel="ugc nofollow">http://logi.cc/en/2010/07/netfilter-log-format/</a>
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;netfilter&quot;,&quot;hid&quot;:&quot;netfilter&quot;,&quot;codeblockOffset&quot;:1,&quot;secid&quot;:3,&quot;range&quot;:&quot;2492-4163&quot;} -->
<h2 class="sectionedit6" id="pppd">pppd</h2>
<div class="level2">
<pre class="code">Feb 22 14:20:13 openwrt daemon.info pppd[18505]: Plugin rp-pppoe.so loaded.
Feb 22 14:20:13 openwrt daemon.notice pppd[18505]: pppd 2.4.4 started by root, uid 0
Feb 22 14:20:13 openwrt daemon.info pppd[18505]: PPP session is 1561
Feb 22 14:20:13 openwrt daemon.info pppd[18505]: Using interface pppoe-dsl
Feb 22 14:20:13 openwrt daemon.notice pppd[18505]: Connect: pppoe-dsl &lt;--&gt; eth0.2
Feb 22 14:20:13 openwrt daemon.info pppd[18505]: CHAP authentication succeeded: access accepted : xxxxxxx
Feb 22 14:20:13 openwrt daemon.notice pppd[18505]: CHAP authentication succeeded
Feb 22 14:20:13 openwrt daemon.notice pppd[18505]: peer from calling number xx:xx:xx:xx:xx:xx authorized
Feb 22 14:20:13 openwrt daemon.notice pppd[18505]: local  IP address 123.123.123.99
Feb 22 14:20:13 openwrt daemon.notice pppd[18505]: remote IP address 123.123.123.1
Feb 22 14:20:13 openwrt daemon.notice pppd[18505]: primary   DNS address 100.150.100.200
Feb 22 14:20:13 openwrt daemon.notice pppd[18505]: secondary DNS address 100.150.100.100
Feb 22 14:20:13 openwrt user.notice ifup: Enabling Router Solicitations on dsl (pppoe-dsl)
Feb 22 14:20:15 openwrt user.notice rdate: Synced with ntp0.fau.de
---
Feb 22 23:20:11 openwrt daemon.info pppd[18196]: Terminating on signal 15
Feb 22 23:20:11 openwrt daemon.info pppd[18196]: Connect time 1268.2 minutes.
Feb 22 23:20:11 openwrt daemon.info pppd[18196]: Sent 62343675 bytes, received 1094463306 bytes.
Feb 22 23:20:11 openwrt daemon.notice pppd[18196]: Connection terminated.
Feb 22 23:20:12 openwrt daemon.info pppd[18196]: Exit.</pre>

<p>
<strong>NOTE:</strong> You can make <code>pppd</code> verbose with setting <code>option pppd_options debug</code> in your <code>/etc/config/network</code>, see <a href="/docs/guide-user/network/wan/wan_interface_protocols#protocol_pppoe_ppp_over_ethernet" class="wikilink1" title="docs:guide-user:network:wan:wan_interface_protocols" data-wiki-id="docs:guide-user:network:wan:wan_interface_protocols">network</a>. With <code>uci commit network</code> and then restart <code>pppd</code> (ifdown pppoe-dsl does NOT restart the daemon, you can achieve that with <code>???</code>)
</p>
<div class="table sectionedit7"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0 leftalign"> Message   </th><th class="col1 leftalign"> Meaning   </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0 leftalign">           </td><td class="col1 leftalign">           </td>
	</tr>
	<tr class="row2">
		<td class="col0 leftalign">           </td><td class="col1 leftalign">           </td>
	</tr>
	<tr class="row3">
		<td class="col0 leftalign">           </td><td class="col1 leftalign">           </td>
	</tr>
	<tr class="row4">
		<td class="col0 leftalign">           </td><td class="col1 leftalign">           </td>
	</tr>
	<tr class="row5">
		<td class="col0 leftalign">           </td><td class="col1 leftalign">           </td>
	</tr>
</table></div>
<!-- EDIT{&quot;target&quot;:&quot;table&quot;,&quot;name&quot;:&quot;&quot;,&quot;hid&quot;:&quot;table2&quot;,&quot;secid&quot;:7,&quot;range&quot;:&quot;6116-6271&quot;} -->
</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;pppd&quot;,&quot;hid&quot;:&quot;pppd&quot;,&quot;codeblockOffset&quot;:2,&quot;secid&quot;:6,&quot;range&quot;:&quot;4164-6272&quot;} -->
<h2 class="sectionedit8" id="dnsmasq">dnsmasq</h2>
<div class="level2">
<pre class="code">Feb  4 20:07:59 openwrt daemon.info dnsmasq-dhcp[1026]: DHCPREQUEST(eth0.1) 192.168.1.1 xx:xx:xx:xx:xx:xx
Feb  4 20:07:59 openwrt daemon.info dnsmasq-dhcp[1026]: DHCPACK(eth0.1) 192.168.1.1 xx:xx:xx:xx:xx:xx wonderwoman
Feb  4 21:16:20 openwrt daemon.info dnsmasq-dhcp[1026]: DHCPREQUEST(eth0.1) 192.168.1.1 xx:xx:xx:xx:xx:xx
Feb  4 21:16:20 openwrt daemon.info dnsmasq-dhcp[1026]: DHCPACK(eth0.1) 192.168.3.1 xx:xx:xx:xx:xx:xx superman</pre>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;dnsmasq&quot;,&quot;hid&quot;:&quot;dnsmasq&quot;,&quot;codeblockOffset&quot;:3,&quot;secid&quot;:8,&quot;range&quot;:&quot;6273-&quot;} -->