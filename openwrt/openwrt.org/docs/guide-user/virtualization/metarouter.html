
<h1 class="sectionedit1" id="metarouter_virtualization_on_mikrotik_routerboard">Metarouter Virtualization on Mikrotik RouterBoard</h1>
<div class="level1">

<p>
Metarouter are virtual routers running on top of Mikrotik&#039;s RouterOS. This can be interesting when you want to use both RouterOS features and OpenWrt features in the same box. It also is a way to avoid having to worry about recovery of the RouterOS installation and the attached license. Depending on model.
</p>

<p>
If you flash OpenWrt from NetBoot facility, you will lose your RouterOS licence (not clear if this is true).
</p>

<p>
It is possible to run up to 7 virtual instances of OpenWrt on top of the router <abbr title="Operating System">OS</abbr> using a virtualization called metarouter (<a href="http://wiki.mikrotik.com/wiki/Manual:Metarouter" class="urlextern" title="http://wiki.mikrotik.com/wiki/Manual:Metarouter" rel="ugc nofollow"> vendor manual</a>).
</p>

<p>
Network connectivity of the virtual instances is handled by virtual interfaces that could be connected to a
</p>
<ul>
<li class="level1"><div class="li"> bridge running on the host system or</div>
</li>
<li class="level1"><div class="li"> physical port of the router.</div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Metarouter Virtualization on Mikrotik RouterBoard&quot;,&quot;hid&quot;:&quot;metarouter_virtualization_on_mikrotik_routerboard&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:1,&quot;range&quot;:&quot;1-862&quot;} -->
<h2 class="sectionedit2" id="experiences_with_rb2011-uias-2hnd">Experiences with RB2011-UiAS-2HnD</h2>
<div class="level2">

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Experiences with RB2011-UiAS-2HnD&quot;,&quot;hid&quot;:&quot;experiences_with_rb2011-uias-2hnd&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:2,&quot;range&quot;:&quot;863-909&quot;} -->
<h3 class="sectionedit3" id="wireless">Wireless</h3>
<div class="level3">

<p>
There is currently no way to directly access the <abbr title="Wireless Local Area Network">WLAN</abbr> interface from within a virtual instance.
</p>

<p>
Therefore <abbr title="Wireless Local Area Network">WLAN</abbr> management is currently only possible using the routerOS CLI (<a href="http://wiki.mikrotik.com/wiki/Manual:Interface/Wireless" class="urlextern" title="http://wiki.mikrotik.com/wiki/Manual:Interface/Wireless" rel="ugc nofollow"> vendor manual</a>).
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Wireless&quot;,&quot;hid&quot;:&quot;wireless&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:3,&quot;range&quot;:&quot;910-1182&quot;} -->
<h3 class="sectionedit4" id="usb">USB</h3>
<div class="level3">

<p>
There is currently no way to directly access the USB port from within a virtual instance.
</p>

<p>
Attached USB storage devices could be exported to the network using SMB and <abbr title="File Transfer Protocol">FTP</abbr>. You may mount them within a virtual instance using smbmount or curlftpfs.
</p>

<p>
<img src="/lib/images/smileys/exclaim.svg" class="icon smiley" alt=":!:" /> Before a USB storage device can be used by routerOS it must be formatted using MikroTik&#039;s proprietary format - so all data is lost!
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;USB&quot;,&quot;hid&quot;:&quot;usb&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:4,&quot;range&quot;:&quot;1183-1581&quot;} -->
<h2 class="sectionedit5" id="resources">Resources</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> <a href="http://www.mikrotik.com/download/metarouter/openwrt-metarouter-1.2.patch" class="urlextern" title="http://www.mikrotik.com/download/metarouter/openwrt-metarouter-1.2.patch" rel="ugc nofollow"> metarouter patches provided by MikroTik (up to Backfire)</a></div>
</li>
<li class="level1"><div class="li"> <a href="http://forum.mikrotik.com/viewtopic.php?p=309608#p309608" class="urlextern" title="http://forum.mikrotik.com/viewtopic.php?p=309608#p309608" rel="ugc nofollow"> metarouter patches to build Attitude Adjustment </a></div>
</li>
<li class="level1"><div class="li"> <a href="http://openwrt.naberius.de/barrier_breaker/mr-mips/" class="urlextern" title="http://openwrt.naberius.de/barrier_breaker/mr-mips/" rel="ugc nofollow"> metarouter patches to build Barrier Breaker (not well tested) </a></div>
</li>
<li class="level1"><div class="li"> <a href="https://code.google.com/p/metarouter-apps/" class="urlextern" title="https://code.google.com/p/metarouter-apps/" rel="ugc nofollow"> metarouter-app - create virtual applications using metarouter</a></div>
</li>
<li class="level1"><div class="li"> <a href="/docs/guide-user/virtualization/mikrotik_metarouter_openwrt" class="wikilink1" title="docs:guide-user:virtualization:mikrotik_metarouter_openwrt" data-wiki-id="docs:guide-user:virtualization:mikrotik_metarouter_openwrt">mikrotik_metarouter_openwrt</a></div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Resources&quot;,&quot;hid&quot;:&quot;resources&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:5,&quot;range&quot;:&quot;1582-&quot;} -->