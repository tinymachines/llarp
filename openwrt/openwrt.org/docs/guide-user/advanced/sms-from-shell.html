
<h1 class="sectionedit1" id="send_sms_from_shell">Send SMS from Shell</h1>
<div class="level1">

<p>
Sending SMS can be accomplish via shell with AT commands, thus we can automated sending SMS with shell script.<br/>

Ref: <a href="http://www.smssolutions.net/tutorials/gsm/sendsmsat/" class="urlextern" title="http://www.smssolutions.net/tutorials/gsm/sendsmsat/" rel="ugc nofollow">Send SMS using AT commands</a>
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Send SMS from Shell&quot;,&quot;hid&quot;:&quot;send_sms_from_shell&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:1,&quot;range&quot;:&quot;1-237&quot;} -->
<h3 class="sectionedit2" id="using_at_commands_from_shell">Using AT commands from shell</h3>
<div class="level3">

<p>
Just using shell you can send SMS, I think any modem would work altough I can&#039;t verify it because I don&#039;t have much modem lying around. By using AT commands, basic modem functionality will be utilized, so no need 3G driver and functionality.
</p>

<p>
Basically, sequence for send SMS as below:
</p>
<pre class="code bash"><span class="co0"># determine device modem, we use /dev/ttyUSB0 for this example</span>
<span class="kw3">echo</span> <span class="re5">-e</span> <span class="st0">&quot;ATZ<span class="es1">\r</span>&quot;</span> <span class="sy0">&gt;/</span>dev<span class="sy0">/</span>ttyUSB0 <span class="co0"># we need echo parameter -e for interpretation of backslash escapes</span>
<span class="kw3">echo</span> <span class="re5">-e</span> <span class="st0">&quot;AT+CMGF=1<span class="es1">\r</span>&quot;</span> <span class="sy0">&gt;/</span>dev<span class="sy0">/</span>ttyUSB0
<span class="kw3">echo</span> <span class="re5">-e</span> <span class="st0">&quot;AT+CMGS=<span class="es1">\&quot;</span>123456789<span class="es1">\&quot;</span>&quot;</span> <span class="sy0">&gt;/</span>dev<span class="sy0">/</span>ttyUSB0 <span class="co0"># change 123456789 with SMS destination number</span>
<span class="kw3">echo</span> <span class="re5">-e</span> <span class="st0">&quot;Hello this is SMS message from shell\x1A&quot;</span> <span class="sy0">&gt;/</span>dev<span class="sy0">/</span>ttyUSB0 <span class="co0"># message must be ending with \x1A (ASCII for CTRL+Z)</span></pre>

<p>
That&#039;s it, SMS should be recieve shortly.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Using AT commands from shell&quot;,&quot;hid&quot;:&quot;using_at_commands_from_shell&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:2,&quot;range&quot;:&quot;238-1034&quot;} -->
<h3 class="sectionedit3" id="script_for_sending_sms">Script for sending SMS</h3>
<div class="level3">

<p>
Because SMS can sent from shell, if need it we can automating this process with shell script. Below is a sample to send SMS with shell script:
</p>
<pre class="code bash"><span class="co0">#!/bin/sh</span>
&nbsp;
<span class="co0"># Modem device</span>
<span class="re2">DEV</span>=<span class="sy0">/</span>dev<span class="sy0">/</span>ttyUSB0
<span class="co0"># Destination mumber</span>
<span class="re2">DESTNUM</span>=<span class="st0">&quot;123456789&quot;</span>
<span class="co0"># Message</span>
<span class="re2">SMS</span>=<span class="st0">&quot;Hi, there&quot;</span>
&nbsp;
<span class="co0"># we need to put sleep 1 to slow down commands for modem to process</span>
<span class="kw3">echo</span> <span class="re5">-e</span> <span class="st0">&quot;ATZ<span class="es1">\r</span>&quot;</span> <span class="sy0">&gt;</span><span class="re1">$DEV</span>
<span class="kw2">sleep</span> <span class="nu0">1</span>
<span class="kw3">echo</span> <span class="re5">-e</span> <span class="st0">&quot;AT+CMGF=1<span class="es1">\r</span>&quot;</span> <span class="sy0">&gt;</span><span class="re1">$DEV</span>
<span class="kw2">sleep</span> <span class="nu0">1</span>
<span class="kw3">echo</span> <span class="re5">-e</span> <span class="st0">&quot;AT+CMGS=<span class="es1">\&quot;</span><span class="es2">$DESTNUM</span><span class="es1">\&quot;</span><span class="es1">\r</span>&quot;</span> <span class="sy0">&gt;</span><span class="re1">$DEV</span>
<span class="kw2">sleep</span> <span class="nu0">1</span>
<span class="kw3">echo</span> <span class="re5">-e</span> <span class="st0">&quot;<span class="es2">$SMS</span>\x1A&quot;</span> <span class="sy0">&gt;</span><span class="re1">$DEV</span></pre>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Script for sending SMS&quot;,&quot;hid&quot;:&quot;script_for_sending_sms&quot;,&quot;codeblockOffset&quot;:1,&quot;secid&quot;:3,&quot;range&quot;:&quot;1035-&quot;} -->