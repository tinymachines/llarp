
<h1 class="sectionedit1" id="ddns_client_configuration">DDNS client configuration</h1>
<div class="level1">

<p>
See also: <a href="/docs/guide-user/services/ddns/client" class="wikilink1" title="docs:guide-user:services:ddns:client" data-wiki-id="docs:guide-user:services:ddns:client">DDNS client documentation</a>
</p>
<ul>
<li class="level1"><div class="li"> Due to functional extensions not all settings are supported in all OpenWrt releases.</div>
</li>
<li class="level1"><div class="li"> You find notes in description about supported release if not available in all releases.</div>
</li>
<li class="level1"><div class="li"> Keep in mind, that <em>ddns-scripts</em> are designed to support ONE host or <abbr title="Internet Protocol">IP</abbr> protocol version per section.</div>
</li>
<li class="level1"><div class="li"> Including BB 14.07 <em>ddns-scripts</em> only support update of <abbr title="Internet Protocol version 4">IPv4</abbr> addresses.</div>
</li>
<li class="level1"><div class="li"> Starting ddns-scripts 2.7.6 (trunk) option naming will change for better functional grouping.</div>
</li>
<li class="level1"><div class="li"> Updating ddns-scripts to newer versions will do the renaming inside existing config files during update automatically.</div>
</li>
<li class="level1"><div class="li"> Additionally some options will be also <a href="/docs/guide-user/base-system/ddns#section_ddns" class="wikilink1" title="docs:guide-user:base-system:ddns" data-wiki-id="docs:guide-user:base-system:ddns">available globally</a> so they need not be defined for every service section.</div>
</li>
<li class="level1"><div class="li"> Options defined inside service section overwrite global section settings.</div>
</li>
</ul>

<p>
The file <code>/etc/config/ddns</code> holds the configuration for <em>ddns-scripts</em> package.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;DDNS client configuration&quot;,&quot;hid&quot;:&quot;ddns_client_configuration&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:1,&quot;range&quot;:&quot;1-1039&quot;} -->
<h2 class="sectionedit2" id="example">Example</h2>
<div class="level2">

<p>
You find the newest version of full documented <a href="https://github.com/openwrt/packages/tree/master/net/ddns-scripts/samples/" class="urlextern" title="https://github.com/openwrt/packages/tree/master/net/ddns-scripts/samples/" rel="ugc nofollow">ddns.sample_config</a> at GitHub.<br/>

Using all defaults the minimum settings are:
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Example&quot;,&quot;hid&quot;:&quot;example&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:2,&quot;range&quot;:&quot;1040-1262&quot;} -->
<h3 class="sectionedit3" id="for_ipv4_address">for IPv4 address</h3>
<div class="level3">
<pre class="code bash">config service <span class="st0">&quot;myddns_ipv4&quot;</span>
	option service_name	<span class="st0">&quot;example.org&quot;</span>
	option domain		<span class="st0">&quot;yourhost.example.org&quot;</span>
	option username		<span class="st0">&quot;your_username&quot;</span>
	option password		<span class="st0">&quot;your_password&quot;</span>
	option interface	<span class="st0">&quot;wan&quot;</span>
	option ip_source	<span class="st0">&quot;network&quot;</span>
	option ip_network	<span class="st0">&quot;wan&quot;</span></pre>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;for IPv4 address&quot;,&quot;hid&quot;:&quot;for_ipv4_address&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:3,&quot;range&quot;:&quot;1263-1558&quot;} -->
<h3 class="sectionedit4" id="for_ipv6_address">for IPv6 address</h3>
<div class="level3">

<p>
<img src="/lib/images/smileys/exclaim.svg" class="icon smiley" alt=":!:" /> <strong>Supported since CC 15.05</strong>
</p>
<pre class="code bash">config service <span class="st0">&quot;myddns_ipv6&quot;</span>
	option use_ipv6		<span class="st0">&quot;1&quot;</span>
	option service_name	<span class="st0">&quot;example.org&quot;</span>
	option domain		<span class="st0">&quot;yourhost.example.org&quot;</span>
	option username		<span class="st0">&quot;your_username&quot;</span>
	option password		<span class="st0">&quot;your_password&quot;</span>
	option interface	<span class="st0">&quot;wan6&quot;</span>
	option ip_source	<span class="st0">&quot;network&quot;</span>
	option ip_network	<span class="st0">&quot;wan6&quot;</span></pre>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;for IPv6 address&quot;,&quot;hid&quot;:&quot;for_ipv6_address&quot;,&quot;codeblockOffset&quot;:1,&quot;secid&quot;:4,&quot;range&quot;:&quot;1559-1912&quot;} -->
<h2 class="sectionedit5" id="sections">Sections</h2>
<div class="level2">

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Sections&quot;,&quot;hid&quot;:&quot;sections&quot;,&quot;codeblockOffset&quot;:2,&quot;secid&quot;:5,&quot;range&quot;:&quot;1913-1933&quot;} -->
<h3 class="sectionedit6" id="section_service">Section &quot;service&quot;</h3>
<div class="level3">

<p>
<img src="/lib/images/smileys/exclaim.svg" class="icon smiley" alt=":!:" /> <strong> You need to define a “service” section for every DDNS provider and Host you want to feed.<br/>

<img src="/lib/images/smileys/exclaim.svg" class="icon smiley" alt=":!:" /> Same if you want to feed <abbr title="Internet Protocol version 4">IPv4</abbr>- and <abbr title="Internet Protocol version 6">IPv6</abbr>-address to your DDNS provider.</strong> (Since CC 15.05)<br/>

</p>
<div class="table sectionedit7"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0 leftalign"> Name<br/>
(old)         </th><th class="col1 leftalign"> Name<br/>
(new)  </th><th class="col2 leftalign"> Type          </th><th class="col3 leftalign"> Required  </th><th class="col4 leftalign"> Default     </th><th class="col5 leftalign"> Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0 leftalign"> <code>enabled</code>          </td><td class="col1 leftalign">               </td><td class="col2 leftalign"> boolean       </td><td class="col3 leftalign"> yes       </td><td class="col4 leftalign"> &#039;0&#039;         </td><td class="col5 leftalign"> disable(0) / enable(1) this service section.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     </td>
	</tr>
	<tr class="row2">
		<td class="col0 leftalign"> <code>interface</code>        </td><td class="col1 leftalign">               </td><td class="col2 leftalign"> network name  </td><td class="col3 leftalign"> yes       </td><td class="col4 leftalign"> <em>(none)</em>  </td><td class="col5 leftalign"> The DDNS scripts use the Linux hotplug events system. When this specified network interface comes up, a related ifup hotplug event will cause DDNS script to start to monitor (and update) the external <abbr title="Internet Protocol">IP</abbr> address of . Select the <abbr title="Wide Area Network">WAN</abbr> interface that will have the external <abbr title="Internet Protocol">IP</abbr> address to use in the DDNS registration.                                                                                                                                                                                                                                                         </td>
	</tr>
	<tr class="row3">
		<td class="col0 leftalign"> <code>use_ipv6</code>         </td><td class="col1 leftalign">               </td><td class="col2 leftalign"> boolean       </td><td class="col3 leftalign"> no        </td><td class="col4 leftalign"> &#039;0&#039;         </td><td class="col5 leftalign"> <strong>Including BB 14.07</strong> no support of <abbr title="Internet Protocol version 6">IPv6</abbr> protocol.<br/>
<strong>Since CC 15.05</strong> decide if you want to update/send your current <abbr title="Internet Protocol version 4">IPv4</abbr>(0) or <abbr title="Internet Protocol version 6">IPv6</abbr>(1) address.                                                                                                                                                                                                                                                                                                                                                                                                                              </td>
	</tr>
	<tr class="row4">
		<td class="col0 leftalign"> <code>service_name</code>     </td><td class="col1 leftalign">               </td><td class="col2 leftalign"> string        </td><td class="col3 leftalign"> yes(*)    </td><td class="col4 leftalign"> <em>(none)</em>  </td><td class="col5 leftalign"> Which DDNS online service do you use?<br/>
Choose one from <code>/usr/lib/ddns/services</code> file.<br/>
<strong>Since CC 15.05</strong> if <code>option use_ipv6</code> is enabled(1) choose a service from <code>/usr/lib/ddns/services_ipv6</code> file.<br/>
The latest versions can be downloaded from <a href="https://github.com/openwrt/packages/tree/master/net/ddns-scripts/files" class="urlextern" title="https://github.com/openwrt/packages/tree/master/net/ddns-scripts/files" rel="ugc nofollow">Github.com</a><br/>
<em><strong>(*) If your DDNS provider is not listed there, remove this option and use <code>&#039;option update_url</code>&#039; or since CC 15.05 <code>&#039;option update_script</code>&#039; instead.</strong></em>                                                              </td>
	</tr>
	<tr class="row5">
		<td class="col0 leftalign"> <code>update_url</code>       </td><td class="col1 leftalign">               </td><td class="col2 leftalign"> string        </td><td class="col3 leftalign"> yes(*)    </td><td class="col4 leftalign"> <em>(none)</em>  </td><td class="col5 leftalign"> Have a look at DDNS providers configuration help. Use the their <abbr title="Uniform Resource Locator">URL</abbr> here.<br/>
<em><strong>(*) Remove this option, if <code>&#039;option service_name</code>&#039; is set.</strong></em>                                                                                                                                                                                                                                                                                                                                                                                                                                 </td>
	</tr>
	<tr class="row6">
		<td class="col0 leftalign"> <code>update_script</code>    </td><td class="col1 leftalign">               </td><td class="col2 leftalign"> string        </td><td class="col3 leftalign"> no        </td><td class="col4 leftalign"> <em>(none)</em>  </td><td class="col5 leftalign"> <strong>Since CC 15.05</strong> <code>/path/to/update_script.sh</code><br/>
If your DDNS provider doesn&#039;t work with ddns-scripts, because there are additional parameters or other special thinks to be done, then you could write your own script to send updates to your DDNS provider.<br/>
Have a look into <a href="https://github.com/openwrt/packages/tree/master/net/ddns-scripts/samples" class="urlextern" title="https://github.com/openwrt/packages/tree/master/net/ddns-scripts/samples" rel="ugc nofollow">update_sample.sh</a><br/>
<img src="/lib/images/smileys/exclaim.svg" class="icon smiley" alt=":!:" /> Remove <code>&#039;option service_name</code>&#039; and use either this option <strong>OR</strong> <code>&#039;option update_url</code>&#039;.                                                                                              </td>
	</tr>
	<tr class="row7">
		<td class="col0 leftalign"> <code>domain</code>           </td><td class="col1 leftalign">               </td><td class="col2 leftalign"> string        </td><td class="col3 leftalign"> yes       </td><td class="col4 leftalign"> <em>(none)</em>  </td><td class="col5 leftalign"> The <abbr title="Domain Name System">DNS</abbr> name / Hostname to update<br/>
<em>(this name must already be registered with the DDNS provider)</em><br/>
<img src="/lib/images/smileys/exclaim.svg" class="icon smiley" alt=":!:" /> <strong>If your DDNS provider don&#039;t need this information being send for update, put it in anyway. <code>ddns-scripts</code> use it to compare local <abbr title="Internet Protocol">IP</abbr> with registered <abbr title="Internet Protocol">IP</abbr>.</strong><br/>
<img src="/lib/images/smileys/exclaim.svg" class="icon smiley" alt=":!:" /> <strong>Since DD</strong> <code>ddns-scripts</code> use <code>&#039;option lookup_host</code>&#039; (see below) to detect your registered <abbr title="Internet Protocol">IP</abbr>.<br/>
So this option can be used for special multihost update configurations supported by some providers.                                                                                      </td>
	</tr>
	<tr class="row8">
		<td class="col0 leftalign"> <code>username</code>         </td><td class="col1 leftalign">               </td><td class="col2 leftalign"> string        </td><td class="col3 leftalign"> yes(*)    </td><td class="col4 leftalign"> <em>(none)</em>  </td><td class="col5 leftalign"> Username of your DDNS providers account<br/>
Have a look at DDNS providers help, because some providers are using different information as “username” for DDNS updates (i.e. hostname).<br/>
Look at <a href="/docs/guide-user/services/ddns/client" class="wikilink1" title="docs:guide-user:services:ddns:client" data-wiki-id="docs:guide-user:services:ddns:client">DDNS client</a> for additional information.<br/>
<em><strong>(*)If your DDNS provider don&#039;t need this information being send for update, put in an “X” instead.</strong></em>                                                                                                                                                                                     </td>
	</tr>
	<tr class="row9">
		<td class="col0 leftalign"> <code>password</code>         </td><td class="col1 leftalign">               </td><td class="col2 leftalign"> string        </td><td class="col3 leftalign"> yes(*)    </td><td class="col4 leftalign"> <em>(none)</em>  </td><td class="col5 leftalign"> Password of your DDNS providers account<br/>
Have a look at DDNS providers help, because some providers are using different information as “password” for DDNS updates (i.e. tokenid). e.g. for afraid.org, put your 25 character random TOKEN here in the password field.<br/>
Look at <a href="/docs/guide-user/services/ddns/client" class="wikilink1" title="docs:guide-user:services:ddns:client" data-wiki-id="docs:guide-user:services:ddns:client">DDNS client</a> for additional information.<br/>
<em><strong>(*)If your DDNS provider don&#039;t need this information being send for update, put in an “X” instead.</strong></em>                                                                                                  </td>
	</tr>
	<tr class="row10">
		<td class="col0 leftalign"> <code>use_https</code>        </td><td class="col1 leftalign">               </td><td class="col2 leftalign"> boolean       </td><td class="col3 leftalign"> no        </td><td class="col4 leftalign"> &#039;0&#039;         </td><td class="col5 leftalign"> disable(0) / enable(1) the use of <abbr title="Hypertext Transfer Protocol Secure">HTTPS</abbr> for secure communication with your DDNS provider.<br/>
<em>Some providers having problems, when not sending updates via <abbr title="Hypertext Transfer Protocol Secure">HTTPS</abbr>.</em><br/>
<strong>You must NOT specify &#039;http“s”:&#039;, simply use &#039;http:&#039; in <code>update_url</code> above, if used.</strong><br/>
<img src="/lib/images/smileys/exclaim.svg" class="icon smiley" alt=":!:" /> Needs “Wget” or “cURL” package being installed.<br/>
Look at <a href="/docs/guide-user/services/ddns/client" class="wikilink1" title="docs:guide-user:services:ddns:client" data-wiki-id="docs:guide-user:services:ddns:client">DDNS client</a> for additional information.                                                                                                                                                                 </td>
	</tr>
	<tr class="row11">
		<td class="col0 leftalign"> <code>cacert</code>           </td><td class="col1 leftalign">               </td><td class="col2 leftalign"> string        </td><td class="col3 leftalign"> no(*)     </td><td class="col4 leftalign"> <em>(none)</em>  </td><td class="col5 leftalign"> <code>/path/to/certificates</code> directory or <code>/path/to/certificate.crt</code> file.<br/>
Package “ca-certificates” installs certificates to <code>/etc/ssl/certs</code> directory.<br/>
Look at <a href="/docs/guide-user/services/ddns/client" class="wikilink1" title="docs:guide-user:services:ddns:client" data-wiki-id="docs:guide-user:services:ddns:client">DDNS client</a> for additional information.<br/>
<em><strong>(*)required, if <code>option use_https</code> set to &#039;1&#039;</strong> (enabled)</em> <br/>
<strong>since CC 15.05</strong> a value <strong>&#039;IGNORE&#039;</strong> is supported.<br/>
<img src="/lib/images/smileys/exclaim.svg" class="icon smiley" alt=":!:" /> This uses secure http for transfer, but do not verify the DDNS providers server certificate. <strong>(insecure)</strong>                                                                           </td>
	</tr>
	<tr class="row12">
		<td class="col0 leftalign"> <code>ip_source</code>        </td><td class="col1 leftalign">               </td><td class="col2 leftalign"> string        </td><td class="col3 leftalign"> yes       </td><td class="col4 leftalign"> &#039;network&#039;   </td><td class="col5 leftalign"> Defines the source to determine you local <abbr title="Internet Protocol">IP</abbr> send to the DDNS provider.<br/>
Valid values are:<br/>
- &#039;network&#039; uses/needs <code>&#039;option ip_network</code>&#039;<br/>
- &#039;web&#039; uses/needs <code>&#039;option ip_url</code>&#039;<br/>
- &#039;interface&#039; uses/needs <code>&#039;option ip_interface</code>&#039;<br/>
- &#039;script&#039; uses/needs <code>&#039;option ip_script</code>&#039;<br/>
See details below.                                                                                                                                                                                                                                                                   </td>
	</tr>
	<tr class="row13">
		<td class="col0 leftalign"> <code>ip_network</code>       </td><td class="col1 leftalign">               </td><td class="col2 leftalign"> string        </td><td class="col3 leftalign"> no(*)     </td><td class="col4 leftalign"> &#039;wan&#039;       </td><td class="col5 leftalign"> Specify a network from your <code>/etc/config/network</code> file (e.g. “wan”) with the “ip_network” option. If you specify “wan”, you will send update with whatever the <abbr title="Internet Protocol">IP</abbr> for your wan is.<br/>
<em><strong>(*)required, if <code>option ip_source</code> set to &#039;network&#039;</strong></em>                                                                                                                                                                                                                                                                                                                             </td>
	</tr>
	<tr class="row14">
		<td class="col0 leftalign"> <code>ip_url</code>           </td><td class="col1 leftalign">               </td><td class="col2 leftalign"> string        </td><td class="col3 leftalign"> no(*)     </td><td class="col4 leftalign"> <em>(none)</em>  </td><td class="col5 leftalign"> Detects the current local <abbr title="Internet Protocol">IP</abbr> from specified webside that response with the <abbr title="Internet Protocol">IP</abbr> address of calling host. If you are behind a firewall/<abbr title="Network Address Translation">NAT</abbr> this is the best option since none of the local networks or interfaces will have the external <abbr title="Internet Protocol">IP</abbr>.<br/>
The correct <abbr title="Uniform Resource Locator">URL</abbr> might depend on the DDNS provider being used. Check with the DDNS providers&#039;s documentation to determine, if they offer this feature and, if so, what the correct <abbr title="Uniform Resource Locator">URL</abbr> is.<br/>
Sample: <a href="http://checkip.dyndns.org/" class="urlextern" title="http://checkip.dyndns.org/" rel="ugc nofollow">http://checkip.dyndns.org/</a> or <a href="http://checkipv6.dyndns.org/" class="urlextern" title="http://checkipv6.dyndns.org/" rel="ugc nofollow">http://checkipv6.dyndns.org/</a><br/>
<em><strong>(*)required, if value of <code>option ip_source</code> set to &#039;web&#039;</strong></em>  </td>
	</tr>
	<tr class="row15">
		<td class="col0 leftalign"> <code>ip_interface</code>     </td><td class="col1 leftalign">               </td><td class="col2 leftalign"> string        </td><td class="col3 leftalign"> no(*)     </td><td class="col4 leftalign"> <em>(none)</em>  </td><td class="col5 leftalign"> Specify a locally installed physical (hardware) interfaces (e.g. &#039;eth1&#039;) to detect your current <abbr title="Internet Protocol">IP</abbr> address, independent from network they configured to.<br/>
<em><strong>(*)required, if value of <code>option ip_source</code> set to &#039;interface&#039;</strong></em>                                                                                                                                                                                                                                                                                                                                              </td>
	</tr>
	<tr class="row16">
		<td class="col0 leftalign"> <code>ip_script</code>        </td><td class="col1 leftalign">               </td><td class="col2 leftalign"> string        </td><td class="col3 leftalign"> no(*)     </td><td class="col4 leftalign"> <em>(none)</em>  </td><td class="col5 leftalign"> Useful, if you want to write your own script to detect your current local <abbr title="Internet Protocol">IP</abbr>.<br/>
Put in full path &#039;/path/to/script.sh&#039;.<br/>
Have a look into <a href="https://github.com/openwrt/packages/tree/master/net/ddns-scripts/samples" class="urlextern" title="https://github.com/openwrt/packages/tree/master/net/ddns-scripts/samples" rel="ugc nofollow">getlocalip_sample.sh</a> and <a href="/docs/guide-user/network/wan/ddns.ipscript" class="wikilink1" title="docs:guide-user:network:wan:ddns.ipscript" data-wiki-id="docs:guide-user:network:wan:ddns.ipscript">Get IP from modem scripts collection</a> <br/>
<img src="/lib/images/smileys/exclaim.svg" class="icon smiley" alt=":!:" /> The script must be marked executable.<br/>
<em><strong>(*)required, if value of <code>option ip_source</code> set to &#039;script&#039;</strong></em>                                                                                                                          </td>
	</tr>
	<tr class="row17">
		<td class="col0 leftalign"> <code>check_interval</code>   </td><td class="col1 leftalign">               </td><td class="col2 leftalign"> number        </td><td class="col3 leftalign"> no        </td><td class="col4 leftalign"> &#039;10&#039;        </td><td class="col5 leftalign" rowspan="2"> Defines the time interval to check if local <abbr title="Internet Protocol">IP</abbr> has changed.<br/>
Accepted unit values: &#039;seconds&#039; &#039;minutes&#039; &#039;hours&#039;.<br/>
<img src="/lib/images/smileys/exclaim.svg" class="icon smiley" alt=":!:" /> <em>Checks below 5 minutes make no sense, because the <abbr title="Domain Name System">DNS</abbr> Servers in Internet needs about 5 minutes to sync.<br/>
<img src="/lib/images/smileys/exclaim.svg" class="icon smiley" alt=":!:" /> either <strong>both</strong> options are set or not set.</em>                                                                                                                                                                                                                                                                                            </td>
	</tr>
	<tr class="row18">
		<td class="col0 leftalign"> <code>check_unit</code>       </td><td class="col1 leftalign">               </td><td class="col2 leftalign"> string        </td><td class="col3 leftalign"> no        </td><td class="col4 leftalign"> &#039;minutes&#039;   </td>
	</tr>
	<tr class="row19">
		<td class="col0 leftalign"> <code>force_interval</code>   </td><td class="col1 leftalign">               </td><td class="col2 leftalign"> number        </td><td class="col3 leftalign"> no        </td><td class="col4 leftalign"> &#039;72&#039;        </td><td class="col5 leftalign" rowspan="2"> Force to send an update to service provider, if no <abbr title="Internet Protocol">IP</abbr> change was detected. Consult DDNS providers documentation, if your DDNS entry might timeout.<br/>
Accepted unit values: &#039;minutes&#039; &#039;hours&#039; &#039;days&#039;<br/>
<img src="/lib/images/smileys/exclaim.svg" class="icon smiley" alt=":!:" /> <em>Minimum needs to be greater or equal check interval (see above).<br/>
<img src="/lib/images/smileys/exclaim.svg" class="icon smiley" alt=":!:" /> either <strong>both</strong> options are set or not set.</em><br/>
<strong>since CC 15.05</strong> a value <strong>&#039;0&#039;</strong> is supported. This will stop script execution after one successful update.                                                                                                                                 </td>
	</tr>
	<tr class="row20">
		<td class="col0 leftalign"> <code>force_unit</code>       </td><td class="col1 leftalign">               </td><td class="col2 leftalign"> string        </td><td class="col3 leftalign"> no        </td><td class="col4 leftalign"> &#039;hours&#039;     </td>
	</tr>
	<tr class="row21">
		<td class="col0 leftalign"> <code>retry_interval</code>   </td><td class="col1 leftalign">               </td><td class="col2 leftalign"> number        </td><td class="col3 leftalign"> no        </td><td class="col4 leftalign"> &#039;60&#039;        </td><td class="col5 leftalign" rowspan="2"> If error happen on detecting, sending or updating, the script will retry the relevant action.<br/>
Here you define the time to wait before retry is started.<br/>
Accepted unit values: &#039;seconds&#039; &#039;minutes&#039;<br/>
<img src="/lib/images/smileys/exclaim.svg" class="icon smiley" alt=":!:" /> <em>either <strong>both</strong> options are set or not set.</em>                                                                                                                                                                                                                                                                                                                      </td>
	</tr>
	<tr class="row22">
		<td class="col0 leftalign"> <code>retry_unit</code>       </td><td class="col1 leftalign">               </td><td class="col2 leftalign"> string        </td><td class="col3 leftalign"> no        </td><td class="col4 leftalign"> &#039;seconds&#039;   </td>
	</tr>
	<tr class="row23">
		<td class="col0 leftalign"> <code>retry_max_count</code>  </td><td class="col1 leftalign">               </td><td class="col2 leftalign"> number        </td><td class="col3 leftalign"> no        </td><td class="col4 leftalign"> &#039;0&#039;         </td><td class="col5 leftalign"> <strong>Since CC 15.05</strong> (23→master, <code>retry_count</code> renamed to <code>retry_max_count</code>) Number of retries before the script terminates execution, when communication errors happen.<br/>
<img src="/lib/images/smileys/exclaim.svg" class="icon smiley" alt=":!:" /> A setting of &#039;0&#039; will retry indefinitely.                                                                                                                                                                                                                                                                                                                                                      </td>
	</tr>
	<tr class="row24">
		<td class="col0 leftalign"> <code>use_syslog</code>       </td><td class="col1 leftalign">               </td><td class="col2 leftalign"> boolean       </td><td class="col3 leftalign"> no        </td><td class="col4 leftalign"> &#039;0&#039;         </td><td class="col5 leftalign"> <strong>Since BB 14.07</strong> disable(0) / enable(1) logging events to syslog.<br/>
<strong>Since CC 15.05</strong> Level of events logged to syslog:<br/>
0 == disable<br/>
1 == info, notice, warning, errors<br/>
2 == notice, warning, errors<br/>
3 == warning, errors<br/>
4 == errors<br/>
<img src="/lib/images/smileys/exclaim.svg" class="icon smiley" alt=":!:" /> Critical errors forcing ddns-scripts to stop are always logged to syslog.                                                                                                                                                                                                                                               </td>
	</tr>
	<tr class="row25">
		<td class="col0 leftalign"> <code>use_logfile</code>      </td><td class="col1 leftalign">               </td><td class="col2 leftalign"> boolean       </td><td class="col3 leftalign"> no        </td><td class="col4 leftalign"> &#039;1&#039;         </td><td class="col5 leftalign"> <strong>Since CC 15.05</strong> disable(0) / enable(1) logging to log file.<br/>
You find the file per default in /var/log/ddns/[sectionname].log<br/>
The path can be modified for <strong>all</strong> log files in section <code>&#039;ddns</code>&#039; (see below)                                                                                                                                                                                                                                                                                                                                                             </td>
	</tr>
	<tr class="row26">
		<td class="col0 leftalign"> <code>dns_server</code>       </td><td class="col1 leftalign">               </td><td class="col2 leftalign"> string        </td><td class="col3 leftalign"> no        </td><td class="col4 leftalign"> <em>(none)</em>  </td><td class="col5 leftalign"> <strong>Since CC 15.05</strong> Normally the current (in the internet) registered ip is detected using the local defined name lookup policies (i.e. /etc/resolve.conf etc.)<br/>
Specify here a <abbr title="Domain Name System">DNS</abbr> server to be used instead of the defaults.<br/>
You can use <abbr title="Fully Qualified Domain Name">FQDN</abbr>, hostname or <abbr title="Internet Protocol">IP</abbr> address.                                                                                                                                                                                                                                                                                                       </td>
	</tr>
	<tr class="row27">
		<td class="col0 leftalign"> <code>force_dnstcp</code>     </td><td class="col1 leftalign">               </td><td class="col2 leftalign"> boolean       </td><td class="col3 leftalign"> no        </td><td class="col4 leftalign"> &#039;0&#039;         </td><td class="col5 leftalign"> <strong>Since CC 15.05</strong> disable(0) / enable(1) <abbr title="Domain Name System">DNS</abbr> requests via <abbr title="Transmission Control Protocol">TCP</abbr> protocol.<br/>
By default every <abbr title="Domain Name System">DNS</abbr> call is made via <abbr title="User Datagram Protocol">UDP</abbr> protocol. Some internet provider offer modems, caching <abbr title="User Datagram Protocol">UDP</abbr> <abbr title="Domain Name System">DNS</abbr> requests. They redirect every request to external servers to local modem cache.<br/>
To force the usage of <abbr title="Transmission Control Protocol">TCP</abbr> for <abbr title="Domain Name System">DNS</abbr> requests enable this option.<br/>
<img src="/lib/images/smileys/exclaim.svg" class="icon smiley" alt=":!:" /> Needs BIND host package to be installed.                                                                                                                                                                                              </td>
	</tr>
	<tr class="row28">
		<td class="col0 leftalign"> <code>proxy</code>            </td><td class="col1 leftalign">               </td><td class="col2 leftalign"> string        </td><td class="col3 leftalign"> no        </td><td class="col4 leftalign"> <em>(none)</em>  </td><td class="col5 leftalign"> <strong>Since CC 15.05</strong> If a Proxy is need to access <abbr title="Hypertext Transfer Protocol">HTTP</abbr>/<abbr title="Hypertext Transfer Protocol Secure">HTTPS</abbr> pages on the WEB, it can be configured here also for sending updates to the DDNS provider.<br/>
If you configured <code>option use_https &#039;1</code>&#039; above, you need to setup your <abbr title="Hypertext Transfer Protocol Secure">HTTPS</abbr> proxy here, otherwise your <abbr title="Hypertext Transfer Protocol">HTTP</abbr> proxy.<br/>
<img src="/lib/images/smileys/exclaim.svg" class="icon smiley" alt=":!:" /> You should not detect your current <abbr title="Internet Protocol">IP</abbr> (<code>option ip_source &#039;web</code>&#039; above) because this request is also send via the configured proxy.<br/>
Syntax: [user:password@]proxy:port <img src="/lib/images/smileys/exclaim.svg" class="icon smiley" alt=":!:" /> port is required !<br/>
<abbr title="Internet Protocol version 6">IPv6</abbr> address must be in squared brackets &#039;[...]&#039;                                          </td>
	</tr>
	<tr class="row29">
		<td class="col0 leftalign"> <code>force_ipversion</code>  </td><td class="col1 leftalign">               </td><td class="col2 leftalign"> boolean       </td><td class="col3 leftalign"> no        </td><td class="col4 leftalign"> &#039;0&#039;         </td><td class="col5 leftalign"> <strong>Since CC 15.05</strong> disable(0) / enable(1) this option.<br/>
Normally the system decide by various settings mostly compiled into the software, if it prefers <abbr title="Internet Protocol version 4">IPv4</abbr> or <abbr title="Internet Protocol version 6">IPv6</abbr> communication. Some DDNS providers update their DDNS record by using the <abbr title="Internet Protocol">IP</abbr> address you send the update from.<br/>
Then you need to force the usage of the <abbr title="Internet Protocol">IP</abbr> version you want to update or you want to force it for other reasons depending on your environment.<br/>
<img src="/lib/images/smileys/exclaim.svg" class="icon smiley" alt=":!:" /> Needs Wget or cURL package and BIND host package to be installed !                                                                    </td>
	</tr>
	<tr class="row30">
		<td class="col0 leftalign"> <code>bind_network</code>     </td><td class="col1 leftalign">               </td><td class="col2 leftalign"> string        </td><td class="col3 leftalign"> no        </td><td class="col4 leftalign"> <em>(none)</em>  </td><td class="col5 leftalign"> <strong>Since CC 15.05</strong> Network to use for communication when detecting <abbr title="Internet Protocol">IP</abbr> and sending updates.<br/>
<img src="/lib/images/smileys/exclaim.svg" class="icon smiley" alt=":!:" /> Needs Wget or cURL package to be installed !<br/>
Wget will bind to the <abbr title="Internet Protocol">IP</abbr> and cURL to physical interface of given network.                                                                                                                                                                                                                                                                                                                                                        </td>
	</tr>
	<tr class="row31">
		<td class="col0 leftalign"> <code>lookup_host</code>      </td><td class="col1 leftalign">               </td><td class="col2 leftalign"> string        </td><td class="col3 leftalign"> yes       </td><td class="col4 leftalign"> <em>(none)</em>  </td><td class="col5 leftalign"> <strong>Since DD</strong> Option domain (see above) is no longer used to get the registered ip. Configure here the host you like to get registered ip for. This is useful if updating multiple hosts in one configuration section.                                                                                                                                                                                                                                                                                                                                                            </td>
	</tr>
	<tr class="row32">
		<td class="col0 leftalign"> <code>rec_id</code>           </td><td class="col1 leftalign">               </td><td class="col2 leftalign"> string        </td><td class="col3 leftalign"> no        </td><td class="col4 leftalign"> <em>(none)</em>  </td><td class="col5 leftalign"> <strong>Since DD</strong> If this is set and the service is CloudFlare, updates the specified record (useful when there are multiple records for the same domain). Determined automatically when not set (but in case of multiple records for the same domain one will be arbitrarily chosen).                                                                                                                                                                                                                                                                                                </td>
	</tr>
	<tr class="row33">
		<td class="col0 leftalign"> <code>is_glue</code>          </td><td class="col1 leftalign">               </td><td class="col2 leftalign"> boolean       </td><td class="col3 leftalign"> no        </td><td class="col4 leftalign"> &#039;0&#039;         </td><td class="col5 leftalign"> <strong>Since DD</strong> This option is mandatory if the ddns record is a glue record and the registered ip should be compared against the glue record. This option requires bind host and does only work if the dns_server option is used. The dns_server value has to be the dns server where the glue record is defined.                                                                                                                                                                                                                                                                  </td>
	</tr>
</table></div>
<!-- EDIT{&quot;target&quot;:&quot;table&quot;,&quot;name&quot;:&quot;&quot;,&quot;hid&quot;:&quot;table&quot;,&quot;secid&quot;:7,&quot;range&quot;:&quot;2158-24121&quot;} -->
</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Section \&quot;service\&quot;&quot;,&quot;hid&quot;:&quot;section_service&quot;,&quot;codeblockOffset&quot;:2,&quot;secid&quot;:6,&quot;range&quot;:&quot;1934-24122&quot;} -->
<h3 class="sectionedit8" id="section_ddns">Section &quot;ddns&quot;</h3>
<div class="level3">

<p>
<strong> Supported since CC 15.05 </strong><br/>

<img src="/lib/images/smileys/exclaim.svg" class="icon smiley" alt=":!:" /> <strong>It is NOT recommended for casual users to change this settings.</strong><br/>

<img src="/lib/images/smileys/exclaim.svg" class="icon smiley" alt=":!:" /> Only section name “global” is supported<br/>

<img src="/lib/images/smileys/exclaim.svg" class="icon smiley" alt=":!:" /> This settings are used by <code>ddns-scripts</code> and corresponding <code>luci-app-ddns</code>.
</p>
<div class="table sectionedit9"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Name<br/>
(old) </th><th class="col1"> Name<br/>
(new) </th><th class="col2"> Values </th><th class="col3"> Required </th><th class="col4"> Default </th><th class="col5"> Description </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> <code>allow_local_ip</code> </td><td class="col1"> <code>upd_privateip</code> </td><td class="col2"> boolean </td><td class="col3"> no </td><td class="col4"> &#039;0&#039; </td><td class="col5"> disallow(0) / allow(1) to send Private/Special <abbr title="Internet Protocol">IP</abbr>&#039;s to the DDNS provider<br/>
blocked <abbr title="Internet Protocol version 4">IPv4</abbr>: 0/8, 10/8, 100.64/10, 127/8, 169.254/16, 172.16/12, 192.168/16<br/>
blocked <abbr title="Internet Protocol version 6">IPv6</abbr>: ::/32, f000::/4 </td>
	</tr>
	<tr class="row2">
		<td class="col0"> <code>date_format</code> </td><td class="col1"> <code>ddns_dateformat</code> </td><td class="col2"> string </td><td class="col3"> no </td><td class="col4"> &#039;%F %R&#039; </td><td class="col5"> set date format to use for display date in logfiles and LuCI WebUI.<br/>
For supported codes <a href="http://www.cplusplus.com/reference/ctime/strftime/" class="urlextern" title="http://www.cplusplus.com/reference/ctime/strftime/" rel="ugc nofollow">look here</a>. </td>
	</tr>
	<tr class="row3">
		<td class="col0"> <code>run_dir</code> </td><td class="col1"> <code>ddns_rundir</code> </td><td class="col2"> string </td><td class="col3"> no </td><td class="col4"> &#039;/var/run/ddns&#039; </td><td class="col5"> Set directory to use for <code>&#039;*.pid</code>&#039; and <code>&#039;*.update</code>&#039; files.<br/>
There are separate files for every running service section. </td>
	</tr>
	<tr class="row4">
		<td class="col0"> <code>log_dir</code> </td><td class="col1"> <code>ddns_logdir</code> </td><td class="col2"> string </td><td class="col3"> no </td><td class="col4"> &#039;/var/log/ddns&#039; </td><td class="col5"> Set directory to use for <code>&#039;*.log</code>&#039; files.<br/>
There are separate files for every running service section, if <code>option use_logfile</code> set to <strong>&#039;1&#039;</strong> (enable) (see above). </td>
	</tr>
	<tr class="row5">
		<td class="col0"> <code>log_lines</code> </td><td class="col1"> <code>ddns_loglines</code> </td><td class="col2"> number </td><td class="col3"> no </td><td class="col4"> &#039;250&#039; </td><td class="col5"> Set number of lines stored in .log file before auto truncated. </td>
	</tr>
	<tr class="row6">
		<td class="col0"> <code>use_curl</code> </td><td class="col1"> </td><td class="col2"> boolean </td><td class="col3"> no </td><td class="col4"> &#039;0&#039; </td><td class="col5"> If Wget and cURL package are installed, Wget is used for communication by default.<br/>
Set to &#039;1&#039; will use cURL instead. </td>
	</tr>
</table></div>
<!-- EDIT{&quot;target&quot;:&quot;table&quot;,&quot;name&quot;:&quot;&quot;,&quot;hid&quot;:&quot;table1&quot;,&quot;secid&quot;:9,&quot;range&quot;:&quot;24386-25651&quot;} -->
</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Section \&quot;ddns\&quot;&quot;,&quot;hid&quot;:&quot;section_ddns&quot;,&quot;codeblockOffset&quot;:2,&quot;secid&quot;:8,&quot;range&quot;:&quot;24123-25652&quot;} -->
<h3 class="sectionedit10" id="issues_and_known_bugs">Issues and known bugs</h3>
<div class="level3">

<p>
<img src="/lib/images/smileys/exclaim.svg" class="icon smiley" alt=":!:" /> Wget 1.x does not work correctly when using multiple <abbr title="Wide Area Network">WAN</abbr> interfaces (like with with mwan). <a href="https://github.com/openwrt/packages/issues/8277" class="urlextern" title="https://github.com/openwrt/packages/issues/8277" rel="ugc nofollow"> Issue 8277</a>
</p>

<p>
<strong>Reason:</strong> wget 1.x does not bind to an interface it can only change the <abbr title="Internet Protocol">IP</abbr> address (bind-address)
</p>

<p>
<strong>Fix:</strong> use curl via use_curl
</p>

<p>
(Untested) wget2 (not released as of March 2021) has bind-interface support
</p>
<hr />

<p>
<img src="/lib/images/smileys/exclaim.svg" class="icon smiley" alt=":!:" /> Since somewhere June 2021 <a href="https://opendns.com" class="urlextern" title="https://opendns.com" rel="ugc nofollow"> OpenDNS</a> gives an error “<strong><em>badauth</em></strong>” when using <em>Wget 1.x</em> or <em>uclient-fetch</em> (the default for OpenWRT 21.02.0).
</p>

<p>
<strong>Reason:</strong> in order to work properly with <a href="https://opendns.com" class="urlextern" title="https://opendns.com" rel="ugc nofollow"> OpenDNS</a>, Wget 1.x requires the <strong><em>--auth-no-challenge</em></strong> option in its command line.
</p>

<p>
<strong>Fix:</strong> Install and use curl via <strong><em>use_curl = 1</em></strong> option in the <em>Global</em> section
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Issues and known bugs&quot;,&quot;hid&quot;:&quot;issues_and_known_bugs&quot;,&quot;codeblockOffset&quot;:2,&quot;secid&quot;:10,&quot;range&quot;:&quot;25653-&quot;} -->