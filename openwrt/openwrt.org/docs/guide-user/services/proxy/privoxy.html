
<h1 class="sectionedit1" id="privoxy">Privoxy</h1>
<div class="level1">

<p>
<a href="https://en.wikipedia.org/wiki/Privoxy" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/Privoxy">Privoxy</a> is a non-caching web proxy with advanced filtering capabilities for enhancing privacy, modifying web page data and <abbr title="Hypertext Transfer Protocol">HTTP</abbr> headers, controlling access, and removing ads and other obnoxious Internet junk. Privoxy has a flexible configuration and can be customized to suit individual needs and tastes. It has application for both stand-alone systems and multi-user networks.
</p>
<ul>
<li class="level1"><div class="li"> <a href="http://www.privoxy.org/" class="urlextern" title="http://www.privoxy.org/" rel="ugc nofollow">http://www.privoxy.org/</a></div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Privoxy&quot;,&quot;hid&quot;:&quot;privoxy&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:1,&quot;range&quot;:&quot;1-437&quot;} -->
<h2 class="sectionedit2" id="installation">Installation</h2>
<div class="level2">

<p>
Use <em><a href="/docs/guide-user/additional-software/opkg" class="wikilink1" title="docs:guide-user:additional-software:opkg" data-wiki-id="docs:guide-user:additional-software:opkg">opkg</a></em> to install the <em>privoxy</em> package.
</p>
<pre class="code bash">opkg update
opkg <span class="kw2">install</span> privoxy
<span class="kw2">vi</span> <span class="sy0">/</span>etc<span class="sy0">/</span>config<span class="sy0">/</span>privoxy
<span class="sy0">/</span>etc<span class="sy0">/</span>init.d<span class="sy0">/</span>privoxy <span class="kw3">enable</span>
<span class="sy0">/</span>etc<span class="sy0">/</span>init.d<span class="sy0">/</span>privoxy start</pre>

<p>
<img src="/lib/images/smileys/exclaim.svg" class="icon smiley" alt=":!:" /> Since OpenWrt Chaos Calmer (trunk) there is also available a corresponding LuCI application to support setting of Privoxy configuration via Web-<abbr title="Graphical User Interface">GUI</abbr>.<br/>

<img src="/lib/images/smileys/exclaim.svg" class="icon smiley" alt=":!:" /> Require Privoxy v3.0.22 package
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Installation&quot;,&quot;hid&quot;:&quot;installation&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:2,&quot;range&quot;:&quot;438-875&quot;} -->
<h2 class="sectionedit3" id="configuration">Configuration</h2>
<div class="level2">

<p>
Change the listen-address in <code>/etc/config/privoxy</code> to your router ip address such as <code>listen-address 192.168.1.1:8118</code>.
You need change default setting <code>permit-access 192.168.1.0/24</code> to something else if you use a different subnet.
</p>

<p>
Last you need start up the proxy server with command <code>/etc/init.d/privoxy start</code>.<br/>

To have it start on boot, enable the init script with <code>/etc/init.d/privoxy enable</code>.
</p>

<p>
You&#039;ll need to add the proxy information to your internet browser to use it.
</p>

<p>
<img src="/lib/images/smileys/exclaim.svg" class="icon smiley" alt=":!:" /> Since OpenWrt Chaos Calmer (trunk) / <strong>Privoxy v3.0.22</strong> the <code>/etc/privoxy/config</code> file is no longer used <img src="/lib/images/smileys/exclaim.svg" class="icon smiley" alt=":!:" /> <br/>

The configuration was moved to the UCI configuration <code>/etc/config/privoxy</code>.<br/>

All Privoxy configuration variables are still supported.<br/>

</p>

<p>
Due to UCI does not support variables names with “-” this needs to be replaced by “_”<br/>

<strong>Sample:</strong> privoxy “listen-address” must be UCI “listen_address”<br/>
<br/>

If you add entries please use:<br/>

* <strong>option</strong> for options with one parameter (option confdir)<br/>

* <strong>list</strong>   for options with multiple parameters (list listen_address)<br/>

* special handling for debug option: privoxy option “debug 1024” must be UCI “option debug_1024 &#039;1&#039; “<br/>

Please see sample below
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Configuration&quot;,&quot;hid&quot;:&quot;configuration&quot;,&quot;codeblockOffset&quot;:1,&quot;secid&quot;:3,&quot;range&quot;:&quot;876-2109&quot;} -->
<h2 class="sectionedit4" id="example">Example</h2>
<div class="level2">

<p>
Below is an example of the <code>/etc/privoxy/config</code> file (deprecated--see below for current version)
</p>
<pre class="code">confdir                      /etc/privoxy
logdir                       /var/log
filterfile                   default.filter
logfile                      privoxy
actionsfile                  match-all.action  # Actions that are applied to all sites and maybe overruled later on.
actionsfile                  default.action    # Main actions file
listen-address               192.168.1.1:8118
toggle                       0
enable-remote-toggle         1
enable-remote-http-toggle    0
enable-edit-actions          1
enforce-blocks               0
buffer-limit                 4096
forwarded-connect-retries    0
accept-intercepted-requests  0
allow-cgi-request-crunching  0
split-large-forms            0
keep-alive-timeout           300
socket-timeout               300
permit-access                192.168.1.0/24
debug                        1     # show each GET/POST/CONNECT request
#debug                       4096  # or Startup banner and warnings
#debug                       8192  # or Errors - *we highly recommended enabling this*
#admin-address               privoxy-admin@example.com
#proxy-info-url              http://www.example.com/proxy-service.html</pre>

<p>
Below is an example of the current <code>/etc/config/privoxy</code> file used <strong>since Privoxy v3.0.22</strong>
</p>
<pre class="code">config	privoxy	&#039;privoxy&#039;
	option	confdir		&#039;/etc/privoxy&#039;
	option	logdir		&#039;/var/log&#039;
	option	logfile		&#039;privoxy.log&#039;
	list	filterfile	&#039;default.filter&#039;
#	list	filterfile	&#039;user.filter&#039;
	list	actionsfile	&#039;match-all.action&#039;
	list	actionsfile	&#039;default.action&#039;
#	list	actionsfile	&#039;user.action&#039;
#	list	listen_address	&#039;127.0.0.1:8118&#039;
	list	listen_address	&#039;192.168.1.1:8118&#039;
	option	toggle		&#039;0&#039;
	option	enable_remote_toggle	&#039;1&#039;
	option	enable_remote_http_toggle	&#039;0&#039;
	option	enable_edit_actions	&#039;1&#039;
	option	enforce_blocks		&#039;0&#039;
	option	buffer_limit		&#039;4096&#039;
	option	forwarded_connect_retries	&#039;0&#039;
	option	accept_intercepted_requests	&#039;0&#039;
	option	allow_cgi_request_crunching	&#039;0&#039;
	option	split_large_forms	&#039;0&#039;
	option	keep_alive_timeout	&#039;300&#039;
	option	socket_timeout		&#039;300&#039;
	list	permit_access		&#039;192.168.1.0/24&#039;
	option	debug_1		&#039;0&#039;
	option	debug_512	&#039;1&#039;
	option	debug_1024	&#039;0&#039;
	option	debug_4096	&#039;1&#039;
	option	debug_8192	&#039;1&#039;</pre>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Example&quot;,&quot;hid&quot;:&quot;example&quot;,&quot;codeblockOffset&quot;:1,&quot;secid&quot;:4,&quot;range&quot;:&quot;2110-&quot;} -->