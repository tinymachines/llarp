
<h1 class="sectionedit1" id="znc_irc_network_bouncer">ZNC IRC network bouncer</h1>
<div class="level1">

<p>
<a href="https://en.wikipedia.org/wiki/ZNC" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/ZNC">ZNC&#039;s</a> configuration is located in <code>/etc/config/znc</code>. You can use it to configure most common aspects of ZNC. Supplying your own configuration is supported as of 0.998-2.
</p>

<p>
Notes:
</p>
<ul>
<li class="level1"><div class="li"> This configuration is only for ZNC 0.094 or later.</div>
</li>
<li class="level1"><div class="li"> 10.03.1-rc4&#039;s ZNC 0.094 has a hidden dependency to <code>libstdcpp</code>. This is fixed in trunk and recent Backfire builds.</div>
</li>
<li class="level1"><div class="li"> 10.03.1-rc4&#039;s ZNC 0.094 takes 30 seconds until it actually works after starting it. This wait time is removed in trunk.</div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;ZNC IRC network bouncer&quot;,&quot;hid&quot;:&quot;znc_irc_network_bouncer&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:1,&quot;range&quot;:&quot;1-530&quot;} -->
<h2 class="sectionedit2" id="sections">Sections</h2>
<div class="level2">

<p>
There are two section types for ZNC, a common one and one or more user sections.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Sections&quot;,&quot;hid&quot;:&quot;sections&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:2,&quot;range&quot;:&quot;531-633&quot;} -->
<h3 class="sectionedit3" id="common_options">Common Options</h3>
<div class="level3">

<p>
The common section defines where ZNC is supposed to listen, which global modules should be loaded and some other global options.
A minimum configuration looks like this:
</p>
<pre class="code bash">config <span class="st_h">'znc'</span>
	list <span class="st_h">'listener'</span>	<span class="st_h">'192.168.1.1 1234'</span></pre>

</div>

<h4 id="valid_options">Valid Options</h4>
<div class="level4">
<div class="table sectionedit4"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Name </th><th class="col1"> Type </th><th class="col2"> Required </th><th class="col3"> Default </th><th class="col4"> Description </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> <code>anoniplimit</code> </td><td class="col1"> integer </td><td class="col2"> no </td><td class="col3"> <code>10</code> </td><td class="col4"> Number of anonymous connections allowed. </td>
	</tr>
	<tr class="row2">
		<td class="col0"> <code>connectdelay</code> </td><td class="col1"> integer </td><td class="col2"> no </td><td class="col3"> <code>5</code> </td><td class="col4"> Time in seconds ZNC waits between establishing connections. </td>
	</tr>
	<tr class="row3">
		<td class="col0"> <code>listener</code> </td><td class="col1"> list of strings </td><td class="col2"> Yes </td><td class="col3"> <em>none</em> </td><td class="col4"> One or more directives where ZNC should listen, in the format “&lt;<abbr title="Internet Protocol">IP</abbr>/Host&gt; [+]&lt;Port&gt;”. The “+” forces the port to be <abbr title="Secure Socket Layer">SSL</abbr>. Both <abbr title="Internet Protocol version 4">IPv4</abbr> and <abbr title="Internet Protocol version 6">IPv6</abbr> addresses are valid. <strong>Note:</strong> You need to provide a <abbr title="Secure Socket Layer">SSL</abbr> certificate for using <abbr title="Secure Socket Layer">SSL</abbr> ports. </td>
	</tr>
	<tr class="row4">
		<td class="col0"> <code>maxbuffersize</code> </td><td class="col1"> integer </td><td class="col2"> no </td><td class="col3"> <code>500</code> </td><td class="col4"> Sets the global Max Buffer Size a user can have. </td>
	</tr>
	<tr class="row5">
		<td class="col0"> <code>module</code> </td><td class="col1"> list of strings </td><td class="col2"> no </td><td class="col3"> <em>none</em> </td><td class="col4"> Instructs ZNC to load global modules. Uses the format “&lt;modulename&gt; [arguments...]”. </td>
	</tr>
	<tr class="row6">
		<td class="col0"> <code>runas_user</code> </td><td class="col1"> string </td><td class="col2"> no </td><td class="col3"> <em>root/nobody</em> </td><td class="col4"> Run ZNC as this user instead of the default user (root for external config, nobody for generated config) </td>
	</tr>
	<tr class="row7">
		<td class="col0"> <code>runas_group</code> </td><td class="col1"> string </td><td class="col2"> no </td><td class="col3"> <em>nogroup</em> </td><td class="col4"> Run ZNC as this group. Only used when using a generated config. </td>
	</tr>
	<tr class="row8">
		<td class="col0"> <code>runas_shell</code> </td><td class="col1"> string </td><td class="col2"> no </td><td class="col3"> <em>none</em> </td><td class="col4"> Use this when the <em>runas_user</em> does not have a shell, i.e. <em>nobody</em> in <em>passwd</em> is <em>/bin/false</em>. Only used when using a generated config. </td>
	</tr>
	<tr class="row9">
		<td class="col0"> <code>serverthrottle</code> </td><td class="col1"> integer </td><td class="col2"> no </td><td class="col3"> <code>30</code> </td><td class="col4"> Time in seconds ZNC waits between two connection attempts to an <abbr title="Internet Relay Chat">IRC</abbr> server. </td>
	</tr>
	<tr class="row10">
		<td class="col0"> <code>znc_config_path</code> </td><td class="col1"> string </td><td class="col2"> no </td><td class="col3"> <em>none</em> </td><td class="col4"> Use an external configuration at this location instead of the generated one. Any other options except <code>runas_user</code> will get ignored.<br/>
<strong>Note:</strong> Using runas_user to run ZNC as a different user with an external config requires <code>&#039;su</code>&#039; installed. Alternatively, you may make use of <a href="http://wiki.znc.in/Droproot" class="urlextern" title="http://wiki.znc.in/Droproot" rel="ugc nofollow">droproot</a> from your external configuration file, as it is always installed with ZNC. </td>
	</tr>
	<tr class="row11">
		<td class="col0"> <code>znc_ssl_cert</code> </td><td class="col1"> string </td><td class="col2"> no </td><td class="col3"> <em>none</em> </td><td class="col4"> Use this certificate for <abbr title="Secure Socket Layer">SSL</abbr> ports. </td>
	</tr>
</table></div>
<!-- EDIT{&quot;target&quot;:&quot;table&quot;,&quot;name&quot;:&quot;&quot;,&quot;hid&quot;:&quot;table&quot;,&quot;secid&quot;:4,&quot;range&quot;:&quot;922-2806&quot;} -->
<p>
<strong>Note:</strong> If you want your ZNC to be reachable from the outside, you can use &#039;0.0.0.0&#039; as the <abbr title="Internet Protocol">IP</abbr> address, which makes ZNC listen on all interfaces. You also need to allow connections to its port through the firewall.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Common Options&quot;,&quot;hid&quot;:&quot;common_options&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:3,&quot;range&quot;:&quot;634-3025&quot;} -->
<h3 class="sectionedit5" id="user_definition">User Definition</h3>
<div class="level3">

<p>
For each connection you want to use you need to create a separate user. Each user section corresponds to one user in ZNC. The section name is the user name for authentication to ZNC itself.
</p>

<p>
A minimal user configuration looks like this:
</p>
<pre class="code bash">config <span class="st_h">'user'</span> <span class="st_h">'sampleUser'</span>
	option <span class="st_h">'password'</span> <span class="st_h">'changeme'</span>
	option <span class="st_h">'nick'</span>     <span class="st_h">'sampleUser'</span></pre>

<p>
This would create a user with the login <code>sampleUser</code>, the password <code>changeme</code> and the nick <code>sampleUser</code>.
</p>

</div>

<h4 id="valid_options1">Valid Options</h4>
<div class="level4">
<div class="table sectionedit6"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Name </th><th class="col1"> Type </th><th class="col2"> Required </th><th class="col3"> Default </th><th class="col4"> Description </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> <code>altnick</code> </td><td class="col1"> string </td><td class="col2"> no </td><td class="col3"> <em>none</em> </td><td class="col4"> The Alternative Nickname, if the first one is occupied. </td>
	</tr>
	<tr class="row2">
		<td class="col0"> <code>buffer</code> </td><td class="col1"> integer </td><td class="col2"> no </td><td class="col3"> <code>50</code> </td><td class="col4"> Specifies the per channel log buffer limit in lines. </td>
	</tr>
	<tr class="row3">
		<td class="col0"> <code>chanmodes</code> </td><td class="col1"> string </td><td class="col2"> no </td><td class="col3"> <em>&lt;Server defaults&gt;</em> </td><td class="col4"> Overrides the channel modes. </td>
	</tr>
	<tr class="row4">
		<td class="col0"> <code>channel</code> </td><td class="col1"> list of strings </td><td class="col2"> no </td><td class="col3"> <em>none</em> </td><td class="col4"> Specifies one or more channels to join on connect. The required format is “&lt;channelname&gt; [&lt;password&gt;]”. <strong>Note:</strong> Only ZNC 0.096 or later. </td>
	</tr>
	<tr class="row5">
		<td class="col0"> <code>ident</code> </td><td class="col1"> string </td><td class="col2"> no </td><td class="col3"> <em>&lt;nick&gt;</em> </td><td class="col4"> Specifies the ident to use. </td>
	</tr>
	<tr class="row6">
		<td class="col0"> <code>module</code> </td><td class="col1"> list of strings </td><td class="col2"> no </td><td class="col3"> <em>none</em> </td><td class="col4"> Instructs ZNC to load user modules. The required format is “modulename&gt; [&lt;arguments...&gt;]”. </td>
	</tr>
	<tr class="row7">
		<td class="col0"> <code>nick</code> </td><td class="col1"> string </td><td class="col2"> Yes </td><td class="col3"> <em>none</em> </td><td class="col4"> The Nickname of this user. </td>
	</tr>
	<tr class="row8">
		<td class="col0"> <code>realname</code> </td><td class="col1"> string </td><td class="col2"> no </td><td class="col3"> <em>&lt;nick&gt;</em> </td><td class="col4"> The real name of this user. </td>
	</tr>
	<tr class="row9">
		<td class="col0"> <code>password</code> </td><td class="col1"> string </td><td class="col2"> Yes </td><td class="col3"> <em>none</em> </td><td class="col4"> Password for this user. Can be either a plain text password, or a generated password hash through <code>znc -s</code>. <strong>Note:</strong> ZNC 0.094 supports only plain text.</td>
	</tr>
</table></div>
<!-- EDIT{&quot;target&quot;:&quot;table&quot;,&quot;name&quot;:&quot;&quot;,&quot;hid&quot;:&quot;table1&quot;,&quot;secid&quot;:6,&quot;range&quot;:&quot;3534-4610&quot;} -->
<p>
 Example code for crypted
</p>
<pre class="code bash">        option <span class="st_h">'password'</span> <span class="st_h">'sha256#...'</span>
&nbsp;
<span class="sy0">&lt;</span>Pass password<span class="sy0">&gt;</span>
        Method = sha256
        Hash = 746a8a22b32f22c9dd92e9918b084ac8bcf1c94361d71fd5ee4a7154f86371d4
        Salt = <span class="nu0">8</span>+1Isl8ewZ+Bai;tx2ML
<span class="sy0">&lt;/</span>Pass<span class="sy0">&gt;</span></pre>
<div class="table sectionedit7"><table class="inline">
	<tr class="row0">
		<td class="col0"> <code>quitmsg</code> </td><td class="col1"> string </td><td class="col2"> no </td><td class="col3"> <em>&lt;ZNC default&gt;</em> </td><td class="col4"> Specifies the quit message used when closing the connection to the server. </td>
	</tr>
	<tr class="row1">
		<td class="col0"> <code>server</code> </td><td class="col1"> list of strings </td><td class="col2"> no </td><td class="col3"> <em>none</em> </td><td class="col4"> Specifies the list of servers to connect to. The required format “&lt;<abbr title="Internet Protocol">IP</abbr>/Host&gt; [+]&lt;Port&gt; [&lt;Password&gt;]”, where the “+” indicates that <abbr title="Secure Socket Layer">SSL</abbr> should be used. Both <abbr title="Internet Protocol version 4">IPv4</abbr> and <abbr title="Internet Protocol version 6">IPv6</abbr> addresses are valid. </td>
	</tr>
</table></div>
<!-- EDIT{&quot;target&quot;:&quot;table&quot;,&quot;name&quot;:&quot;&quot;,&quot;hid&quot;:&quot;table2&quot;,&quot;secid&quot;:7,&quot;range&quot;:&quot;4861-5228&quot;} -->
</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;User Definition&quot;,&quot;hid&quot;:&quot;user_definition&quot;,&quot;codeblockOffset&quot;:1,&quot;secid&quot;:5,&quot;range&quot;:&quot;3026-&quot;} -->