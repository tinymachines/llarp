
<h1 class="sectionedit1" id="nzbget">NZBGet</h1>
<div class="level1">

<p>
<a href="https://nzbget.net/" class="urlextern" title="https://nzbget.net/" rel="ugc nofollow">NZBGet</a> is a Usenet downloader written in C++ and designed with performance in mind to achieve maximum download speed by using very little system resources.
</p>

<p>
It can run successfully under OpenWRT on many embedded devices - an installation requires ~11MB storage, and little CPU or RAM. However, NZBGet isn&#039;t in the OpenWRT package repository, so it must be installed manually.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;NZBGet&quot;,&quot;hid&quot;:&quot;nzbget&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:1,&quot;range&quot;:&quot;1-422&quot;} -->
<h2 class="sectionedit2" id="prerequisites">Prerequisites</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> <a href="/docs/guide-user/storage/usb-drives" class="wikilink1" title="docs:guide-user:storage:usb-drives" data-wiki-id="docs:guide-user:storage:usb-drives">usb-drives</a>  obtain support for USB storage and mount local filesystem</div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Prerequisites&quot;,&quot;hid&quot;:&quot;prerequisites&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:2,&quot;range&quot;:&quot;423-551&quot;} -->
<h2 class="sectionedit3" id="stage_the_nzbget_installer_onto_openwrt_device">Stage the NZBGet Installer onto OpenWRT Device</h2>
<div class="level2">

<p>
Obtain the <abbr title="Uniform Resource Locator">URL</abbr> of the latest stable Linux version of NZBGet from the <a href="https://nzbget.net/download" class="urlextern" title="https://nzbget.net/download" rel="ugc nofollow">NZBGet Downloads page</a>.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Stage the NZBGet Installer onto OpenWRT Device&quot;,&quot;hid&quot;:&quot;stage_the_nzbget_installer_onto_openwrt_device&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:3,&quot;range&quot;:&quot;552-735&quot;} -->
<h3 class="sectionedit4" id="option_1download_directly_to_openwrt_device">Option 1: Download Directly to OpenWRT Device</h3>
<div class="level3">

<p>
It&#039;s important to download the NZBGet installer (currently ~30MB) to external storage.
</p>
<pre class="code bash">opkg update
opkg <span class="kw2">install</span> ca-bundle ca-certificates libustream-openssl
<span class="re2">FILE</span>=<span class="st0">&quot;/mnt/sda1/nzbget-21.0-bin-linux.run&quot;</span>  <span class="co0"># Substitute appropriate path</span>
<span class="re2">URL</span>=<span class="st0">&quot;https://github.com/nzbget/nzbget/releases/download/v21.0/nzbget-21.0-bin-linux.run&quot;</span>  <span class="co0"># Substitute actual URL</span>
<span class="kw2">wget</span> <span class="re5">-O</span> <span class="re1">$FILE</span> <span class="re1">$URL</span></pre>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Option 1: Download Directly to OpenWRT Device&quot;,&quot;hid&quot;:&quot;option_1download_directly_to_openwrt_device&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:4,&quot;range&quot;:&quot;736-1176&quot;} -->
<h3 class="sectionedit5" id="option_2download_to_pcupload_to_openwrt_device">Option 2: Download to PC; upload to OpenWRT Device</h3>
<div class="level3">

<p>
If you have already configured your OpenWRT device as an (S)<abbr title="File Transfer Protocol">FTP</abbr> server, NFS server, etc., you can skip installing the <abbr title="Secure Socket Layer">SSL</abbr> dependencies needed by wget by downloading the NZBGet installer to a PC, and staging it from there onto your OpenWRT device.  Again, you&#039;ll want to upload the NZBGet install to the OpenWRT device&#039;s external storage, because it may be too large for internal flash storage.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Option 2: Download to PC; upload to OpenWRT Device&quot;,&quot;hid&quot;:&quot;option_2download_to_pcupload_to_openwrt_device&quot;,&quot;codeblockOffset&quot;:1,&quot;secid&quot;:5,&quot;range&quot;:&quot;1177-1632&quot;} -->
<h2 class="sectionedit6" id="install_nzbget">Install NZBGet</h2>
<div class="level2">

<p>
If your device has sufficient internal flash storage (currently requiring ~11MB), it&#039;s most natural to install NZBGet under <code>/usr/share</code>.
</p>
<pre class="code bash"><span class="re2">FILE</span>=<span class="st0">&quot;/mnt/sda1/nzbget-21.0-bin-linux.run&quot;</span>  <span class="co0"># Substitute appropriate path</span>
<span class="kw2">sh</span> <span class="re1">$FILE</span> <span class="re5">--destdir</span> <span class="sy0">/</span>usr<span class="sy0">/</span>share<span class="sy0">/</span>nzbget</pre>

<p>
Test the install by executing <code>/usr/share/nzbget/nzbget -s</code> on the router, then browsing to
&lt;router_ip&gt;:6789 (default username/pw is “nzbget”/“tegbzn6789”).
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Install NZBGet&quot;,&quot;hid&quot;:&quot;install_nzbget&quot;,&quot;codeblockOffset&quot;:1,&quot;secid&quot;:6,&quot;range&quot;:&quot;1633-2091&quot;} -->
<h2 class="sectionedit7" id="create_nzbget_init_script">Create NZBGet Init Script</h2>
<div class="level2">

<p>
Create <code>/usr/share/nzbget/init</code> with the following contents:
</p>
<pre class="code bash"><span class="co0">#!/bin/sh /etc/rc.common</span>
<span class="re2">START</span>=<span class="nu0">99</span>
<span class="re2">STOP</span>=<span class="nu0">99</span>
<span class="re2">USE_PROCD</span>=<span class="nu0">1</span>
<span class="re2">PROG</span>=<span class="sy0">/</span>usr<span class="sy0">/</span>share<span class="sy0">/</span>nzbget<span class="sy0">/</span>nzbget
&nbsp;
start_service<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
    procd_open_instance
    procd_set_param <span class="kw3">command</span> <span class="re1">$PROG</span> <span class="re5">-s</span>
    <span class="co0"># if process dies sooner than respawn_threshold, it is considered crashed and after 5 retries the service is stopped</span>
    procd_set_param respawn <span class="co1">${respawn_threshold:-3600}</span> <span class="co1">${respawn_timeout:-5}</span> <span class="co1">${respawn_retry:-5}</span>
    procd_set_param pidfile <span class="sy0">/</span>var<span class="sy0">/</span>run<span class="sy0">/</span>nzbget.pid
    procd_set_param stdout <span class="nu0">1</span>  <span class="co0"># forward stdout of the command to logd</span>
    procd_set_param stderr <span class="nu0">1</span>  <span class="co0"># same for stderr</span>
    <span class="co0"># procd_set_param user nobody # run service as user nobody</span>
    procd_close_instance
<span class="br0">&#125;</span></pre>

<p>
Symlink this script under <code>/etc/init.d</code>, then start/enable the service.
</p>
<pre class="code bash"><span class="kw2">ln</span> <span class="re5">-s</span> <span class="sy0">/</span>usr<span class="sy0">/</span>share<span class="sy0">/</span>nzbget<span class="sy0">/</span>init <span class="sy0">/</span>etc<span class="sy0">/</span>init.d<span class="sy0">/</span>nzbget
<span class="sy0">/</span>etc<span class="sy0">/</span>init.d<span class="sy0">/</span>nzbget start
<span class="sy0">/</span>etc<span class="sy0">/</span>init.d<span class="sy0">/</span>nzbget <span class="kw3">enable</span></pre>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Create NZBGet Init Script&quot;,&quot;hid&quot;:&quot;create_nzbget_init_script&quot;,&quot;codeblockOffset&quot;:2,&quot;secid&quot;:7,&quot;range&quot;:&quot;2092-&quot;} -->