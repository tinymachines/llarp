
<h1 class="sectionedit1" id="set_up_a_lamp_webserver_stack">Set up a LAMP webserver stack</h1>
<div class="level1">



<p>
Read here: <a href="https://en.wikipedia.org/wiki/LAMP (software bundle)" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/LAMP (software bundle)">LAMP (software bundle)</a> about the concept. This guide provides step by step instructions for installing a full featured LAMP stack on OpenWrt.
</p>
<div class="table sectionedit2"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0 leftalign"> Service                                    </th><th class="col1 leftalign"> Examples                               </th><th class="col2 leftalign"> Description  </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0 leftalign" rowspan="4"> <a href="/docs/guide-user/services/webserver/start" class="wikilink1" title="docs:guide-user:services:webserver:start" data-wiki-id="docs:guide-user:services:webserver:start">Web server</a>               </td><td class="col1 leftalign"> <a href="/docs/guide-user/services/webserver/http.uhttpd" class="wikilink1" title="docs:guide-user:services:webserver:http.uhttpd" data-wiki-id="docs:guide-user:services:webserver:http.uhttpd">uHTTPd</a>                 </td><td class="col2"> OpenWrt&#039;s in-house server, used by default for the WebUI LuCI </td>
	</tr>
	<tr class="row2">
		<td class="col0 leftalign"> <a href="/docs/guide-user/services/webserver/lighttpd" class="wikilink1" title="docs:guide-user:services:webserver:lighttpd" data-wiki-id="docs:guide-user:services:webserver:lighttpd">Lighttpd</a>             </td><td class="col1"> Lightweight and flexible, many addons </td>
	</tr>
	<tr class="row3">
		<td class="col0 leftalign"> <a href="/docs/guide-user/services/webserver/http.apache" class="wikilink1" title="docs:guide-user:services:webserver:http.apache" data-wiki-id="docs:guide-user:services:webserver:http.apache">Apache</a>                 </td><td class="col1"> Powerful and widely used</td>
	</tr>
	<tr class="row4">
		<td class="col0 leftalign"> <a href="/docs/guide-user/services/webserver/nginx" class="wikilink1" title="docs:guide-user:services:webserver:nginx" data-wiki-id="docs:guide-user:services:webserver:nginx">Nginx</a>                   </td><td class="col1"> Aimed at good performance, low memory</td>
	</tr>
	<tr class="row5">
		<td class="col0 leftalign" rowspan="3"> <a href="/doc/howto/database.overview" class="wikilink2" title="doc:howto:database.overview" rel="nofollow" data-wiki-id="doc:howto:database.overview">Database server</a>      </td><td class="col1 leftalign"> <a href="/doc/howto/database.mysql" class="wikilink2" title="doc:howto:database.mysql" rel="nofollow" data-wiki-id="doc:howto:database.mysql">MySQL</a>               </td><td class="col2"> Widely used SQL server</td>
	</tr>
	<tr class="row6">
		<td class="col0 leftalign"> <a href="/doc/howto/database.postgresql" class="wikilink2" title="doc:howto:database.postgresql" rel="nofollow" data-wiki-id="doc:howto:database.postgresql">PostgreSQL</a>     </td><td class="col1"> Another popular SQL server</td>
	</tr>
	<tr class="row7">
		<td class="col0 leftalign"> <a href="/doc/howto/database.sqlite" class="wikilink2" title="doc:howto:database.sqlite" rel="nofollow" data-wiki-id="doc:howto:database.sqlite">SQLite</a>             </td><td class="col1"> Easy to use SQL <em>library</em> for low powered devices, runs within process</td>
	</tr>
	<tr class="row8">
		<td class="col0 leftalign" rowspan="3"> <a href="/doc/howto/scripting.overview" class="wikilink2" title="doc:howto:scripting.overview" rel="nofollow" data-wiki-id="doc:howto:scripting.overview">Scripting language</a>  </td><td class="col1 leftalign"> <a href="/docs/guide-user/services/webserver/php" class="wikilink1" title="docs:guide-user:services:webserver:php" data-wiki-id="docs:guide-user:services:webserver:php">php</a>                      </td><td class="col2"> Specially designed for making websites</td>
	</tr>
	<tr class="row9">
		<td class="col0 leftalign"> <a href="/doc/howto/perl" class="wikilink2" title="doc:howto:perl" rel="nofollow" data-wiki-id="doc:howto:perl">perl</a>                     </td><td class="col1"> Flexible high level general purpose language</td>
	</tr>
	<tr class="row10">
		<td class="col0 leftalign"> <a href="/doc/howto/python" class="wikilink2" title="doc:howto:python" rel="nofollow" data-wiki-id="doc:howto:python">python</a>                   </td><td class="col1"> Another high level scripting language</td>
	</tr>
</table></div>
<!-- EDIT{&quot;target&quot;:&quot;table&quot;,&quot;name&quot;:&quot;&quot;,&quot;hid&quot;:&quot;table&quot;,&quot;secid&quot;:2,&quot;range&quot;:&quot;808-2442&quot;} -->
</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Set up a LAMP webserver stack&quot;,&quot;hid&quot;:&quot;set_up_a_lamp_webserver_stack&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:1,&quot;range&quot;:&quot;1-2444&quot;} -->
<h2 class="sectionedit3" id="basic_system_configuration">Basic System Configuration</h2>
<div class="level2">

<p>
This article is a collection of examples of the configuration and integration of web servers, database servers and scripting languages, i.e. LAMP. For each example we assume to be creating a web page with <code>/srv/www/</code> as the document root and assume an otherwise standard OpenWrt configuration. Note that it currently has a lot of overlap with the main articles for the respective services. <img src="/lib/images/smileys/fixme.svg" class="icon smiley" alt="FIXME" /> It should be made more to the point and only about installing and especially integrating these services.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Basic System Configuration&quot;,&quot;hid&quot;:&quot;basic_system_configuration&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:3,&quot;range&quot;:&quot;2445-4386&quot;} -->
<h2 class="sectionedit4" id="installing_and_configuring_a_web_server">Installing and configuring a web server</h2>
<div class="level2">

<p>
You might already have a web server for the <a href="/docs/guide-user/luci/webinterface.overview" class="wikilink1" title="docs:guide-user:luci:webinterface.overview" data-wiki-id="docs:guide-user:luci:webinterface.overview">Web UI</a> installed and running.
Choose any of the available WebServer for this purpose: <a href="/docs/guide-user/services/webserver/start" class="wikilink1" title="docs:guide-user:services:webserver:start" data-wiki-id="docs:guide-user:services:webserver:start">webserver</a>. If the web server is not in the <a href="/packages/start" class="wikilink1" title="packages:start" data-wiki-id="packages:start">OpenWrt packet repository</a>, you could always <a href="/docs/guide-developer/toolchain/crosscompile" class="wikilink1" title="docs:guide-developer:toolchain:crosscompile" data-wiki-id="docs:guide-developer:toolchain:crosscompile">crosscompile</a> it from source.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Installing and configuring a web server&quot;,&quot;hid&quot;:&quot;installing_and_configuring_a_web_server&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:4,&quot;range&quot;:&quot;4387-4828&quot;} -->
<h3 class="sectionedit5" id="uhttpd">uHTTPd</h3>
<div class="level3">

<p>
→ <a href="/docs/guide-user/services/webserver/http.uhttpd" class="wikilink1" title="docs:guide-user:services:webserver:http.uhttpd" data-wiki-id="docs:guide-user:services:webserver:http.uhttpd">http.uhttpd</a> is an in-house web server under BSD-license. <a href="/docs/guide-user/luci/luci.essentials" class="wikilink1" title="docs:guide-user:luci:luci.essentials" data-wiki-id="docs:guide-user:luci:luci.essentials">LuCI WebUI</a> already uses this. If uHTTPd is not already installed you can install it with:
</p>
<pre class="code">opkg update
opkg install uhttpd</pre>

<p>
The default image runs a WebUI for OpenWrt on port 80 (<abbr title="Hypertext Transfer Protocol">HTTP</abbr>) and port 443 (<abbr title="Hypertext Transfer Protocol Secure">HTTPS</abbr>). For our PHP5 enabled uHTTPd web server we start a new uHTTPd instance on a different port. We use port 81 here.
</p>
<pre class="code">uci set uhttpd.llmp=uhttpd
uci set uhttpd.llmp.listen_http=81
uci set uhttpd.llmp.home=/srv/www
uci commit uhttpd</pre>

<p>
Create a directory for our web server content
</p>
<pre class="code">mkdir -p $(uci get uhttpd.llmp.home)</pre>

<p>
If uHTTPd was already installed and running restart it now with
</p>
<pre class="code">/etc/init.d/uhttpd restart</pre>

<p>
If you installed uHTTPd via opkg start the web server manually and also at boot by enabling the init script
</p>
<pre class="code">/etc/init.d/uhttpd start
/etc/init.d/uhttpd enable</pre>

<p>
Further configuration can also be performed manually, e.g. to enable php. <a href="/docs/guide-user/services/webserver/uhttpd" class="wikilink1" title="docs:guide-user:services:webserver:uhttpd" data-wiki-id="docs:guide-user:services:webserver:uhttpd">uhttpd</a>
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;uHTTPd&quot;,&quot;hid&quot;:&quot;uhttpd&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:5,&quot;range&quot;:&quot;4829-5951&quot;} -->
<h3 class="sectionedit6" id="lighttpd">Lighttpd</h3>
<div class="level3">

<p>
→ <a href="/docs/guide-user/services/webserver/lighttpd" class="wikilink1" title="docs:guide-user:services:webserver:lighttpd" data-wiki-id="docs:guide-user:services:webserver:lighttpd">lighttpd</a> is a lightweight and very flexible web server with lots of additional modules available.
</p>
<pre class="code bash">opkg update
opkg <span class="kw2">install</span> lighttpd lighttpd-mod-cgi</pre>

<p>
Edit <code>/etc/lighttpd/lighttpd.conf</code> and change a few settings:
</p>

<p>
Enable CGI:
</p>
<pre class="code bash">server.modules = <span class="br0">&#40;</span>
       <span class="st0">&quot;mod_cgi&quot;</span>
<span class="br0">&#41;</span></pre>

<p>
Set the document root and the port for our example:
</p>
<pre class="code bash">server.document-root = <span class="st0">&quot;/srv/www/&quot;</span>
server.port = <span class="nu0">81</span></pre>

<p>
Edit <code>/etc/php.ini</code> and set the document root here as well (or leave it empty, in which case it allows PHP serving anywhere outside the docroot):
</p>
<pre class="code bash">doc_root = <span class="st0">&quot;/srv/www&quot;</span></pre>

<p>
Create a directory for our web server content:
</p>
<pre class="code bash"><span class="kw2">mkdir</span> <span class="re5">-p</span> <span class="sy0">/</span>srv<span class="sy0">/</span>www</pre>

<p>
Start the server manually and also at boot by enabling the init script
</p>
<pre class="code bash"><span class="sy0">/</span>etc<span class="sy0">/</span>init.d<span class="sy0">/</span>lighttpd start
<span class="sy0">/</span>etc<span class="sy0">/</span>init.d<span class="sy0">/</span>lighttpd <span class="kw3">enable</span></pre>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Lighttpd&quot;,&quot;hid&quot;:&quot;lighttpd&quot;,&quot;codeblockOffset&quot;:5,&quot;secid&quot;:6,&quot;range&quot;:&quot;5952-6871&quot;} -->
<h3 class="sectionedit7" id="nginx">Nginx</h3>
<div class="level3">

<p>
→ <a href="/docs/guide-user/services/webserver/nginx" class="wikilink1" title="docs:guide-user:services:webserver:nginx" data-wiki-id="docs:guide-user:services:webserver:nginx">nginx</a> is nice as well.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Nginx&quot;,&quot;hid&quot;:&quot;nginx&quot;,&quot;codeblockOffset&quot;:11,&quot;secid&quot;:7,&quot;range&quot;:&quot;6872-6953&quot;} -->
<h3 class="sectionedit8" id="apache">Apache</h3>
<div class="level3">

<p>
→ <a href="/docs/guide-user/services/webserver/http.apache" class="wikilink1" title="docs:guide-user:services:webserver:http.apache" data-wiki-id="docs:guide-user:services:webserver:http.apache">http.apache</a> is nice as well.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Apache&quot;,&quot;hid&quot;:&quot;apache&quot;,&quot;codeblockOffset&quot;:11,&quot;secid&quot;:8,&quot;range&quot;:&quot;6954-7043&quot;} -->
<h3 class="sectionedit9" id="testing_the_web_server">Testing the web server</h3>
<div class="level3">

<p>
Create a little test web page, e.g. <code>/srv/www/index.html</code>:
</p>
<pre class="code">echo &quot;&lt;P&gt;Hello, this web server runs on OpenWrt!!&lt;/P&gt;&quot; &gt; /srv/www/index.html</pre>

<p>
Point your browser to the routers <abbr title="Internet Protocol">IP</abbr> address and the port the web server is listening on (e. g. <a href="http://192.168.1.1:81/index.html" class="urlextern" title="http://192.168.1.1:81/index.html" rel="ugc nofollow">http://192.168.1.1:81/index.html</a>)
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Testing the web server&quot;,&quot;hid&quot;:&quot;testing_the_web_server&quot;,&quot;codeblockOffset&quot;:11,&quot;secid&quot;:9,&quot;range&quot;:&quot;7044-7399&quot;} -->
<h2 class="sectionedit10" id="installing_and_configuring_php">Installing and Configuring PHP</h2>
<div class="level2">

<p>
See →<a href="/docs/guide-user/services/webserver/php" class="wikilink1" title="docs:guide-user:services:webserver:php" data-wiki-id="docs:guide-user:services:webserver:php">php</a> to install a version of PHP. The remainder of this section assumes you have a proper PHP install. 
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Installing and Configuring PHP&quot;,&quot;hid&quot;:&quot;installing_and_configuring_php&quot;,&quot;codeblockOffset&quot;:12,&quot;secid&quot;:10,&quot;range&quot;:&quot;7400-7591&quot;} -->
<h3 class="sectionedit11" id="uhttpd1">uHTTPd</h3>
<div class="level3">

<p>
<a href="/docs/guide-user/services/webserver/http.uhttpd#php" class="wikilink1" title="docs:guide-user:services:webserver:http.uhttpd" data-wiki-id="docs:guide-user:services:webserver:http.uhttpd">php</a>
</p>
<pre class="code">uci add_list uhttpd.llmp.interpreter=&quot;.php=/usr/bin/php-cgi&quot;
uci set uhttpd.llmp.index_page=&quot;index.html index.htm default.html default.htm index.php&quot;
uci commit uhttpd</pre>
<pre class="code">sed -i &#039;s,doc_root.*,doc_root = &quot;&quot;,g&#039; /etc/php.ini</pre>
<pre class="code">sed -i &#039;s,;short_open_tag = Off,short_open_tag = On,g&#039; /etc/php.ini</pre>

<p>
Restart uHTTPd now with
</p>
<pre class="code">/etc/init.d/uhttpd restart</pre>

<p>
Further configuration can also be performed manually, e.g. to enable php. <a href="/docs/guide-user/services/webserver/uhttpd" class="wikilink1" title="docs:guide-user:services:webserver:uhttpd" data-wiki-id="docs:guide-user:services:webserver:uhttpd">uhttpd</a>
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;uHTTPd&quot;,&quot;hid&quot;:&quot;uhttpd1&quot;,&quot;codeblockOffset&quot;:12,&quot;secid&quot;:11,&quot;range&quot;:&quot;7592-8187&quot;} -->
<h3 class="sectionedit12" id="lighttpd1">Lighttpd</h3>
<div class="level3">

<p>
<a href="/docs/guide-user/services/webserver/lighttpd#php" class="wikilink1" title="docs:guide-user:services:webserver:lighttpd" data-wiki-id="docs:guide-user:services:webserver:lighttpd">php</a>
</p>

<p>
In <code>/etc/lighttpd/lighttpd.conf</code> set the following to activate PHP for files with <code>.php</code> extension.
</p>
<div class="table sectionedit13"><table class="inline">
	<tr class="row0">
		<td class="col0"> <code>cgi.assign = ( &quot;.php&quot;  =&gt; &quot;/usr/bin/php-cgi&quot; )</code> </td>
	</tr>
</table></div>
<!-- EDIT{&quot;target&quot;:&quot;table&quot;,&quot;name&quot;:&quot;&quot;,&quot;hid&quot;:&quot;table1&quot;,&quot;secid&quot;:13,&quot;range&quot;:&quot;8365-8423&quot;} -->
<p>
Add index.php to the default file names, such that it loads it automatically if present.
</p>
<div class="table sectionedit14"><table class="inline">
	<tr class="row0">
		<td class="col0"> <code>index-file.names = ( “index.html”, “default.html”, “index.htm”, “default.htm”, “index.php” )</code> </td>
	</tr>
</table></div>
<!-- EDIT{&quot;target&quot;:&quot;table&quot;,&quot;name&quot;:&quot;&quot;,&quot;hid&quot;:&quot;table2&quot;,&quot;secid&quot;:14,&quot;range&quot;:&quot;8515-8615&quot;} -->
<p>
Set the proper document root
</p>
<div class="table sectionedit15"><table class="inline">
	<tr class="row0">
		<td class="col0"> <code>doc_root = “/srv/www”</code> </td>
	</tr>
</table></div>
<!-- EDIT{&quot;target&quot;:&quot;table&quot;,&quot;name&quot;:&quot;&quot;,&quot;hid&quot;:&quot;table3&quot;,&quot;secid&quot;:15,&quot;range&quot;:&quot;8647-8676&quot;} -->


<p>
Restart lighttpd:
</p>
<pre class="code">/etc/init.d/lighttpd restart</pre>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Lighttpd&quot;,&quot;hid&quot;:&quot;lighttpd1&quot;,&quot;codeblockOffset&quot;:16,&quot;secid&quot;:12,&quot;range&quot;:&quot;8188-9095&quot;} -->
<h3 class="sectionedit16" id="apache1">Apache</h3>
<div class="level3">

<p>
<a href="/docs/guide-user/services/webserver/http.apache#configuring_apache_and_php5" class="wikilink1" title="docs:guide-user:services:webserver:http.apache" data-wiki-id="docs:guide-user:services:webserver:http.apache">Configuring Apache and PHP5</a>
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Apache&quot;,&quot;hid&quot;:&quot;apache1&quot;,&quot;codeblockOffset&quot;:17,&quot;secid&quot;:16,&quot;range&quot;:&quot;9096-9192&quot;} -->
<h3 class="sectionedit17" id="nginx1">Nginx</h3>
<div class="level3">

<p>
<a href="/docs/guide-user/services/webserver/nginx#php" class="wikilink1" title="docs:guide-user:services:webserver:nginx" data-wiki-id="docs:guide-user:services:webserver:nginx">php</a>
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Nginx&quot;,&quot;hid&quot;:&quot;nginx1&quot;,&quot;codeblockOffset&quot;:17,&quot;secid&quot;:17,&quot;range&quot;:&quot;9193-9259&quot;} -->
<h3 class="sectionedit18" id="testing_php">Testing PHP</h3>
<div class="level3">

<p>
We are using the phpinfo() function for a first test.
</p>
<pre class="code">echo &quot;&lt;?php phpinfo(); ?&gt;&quot; &gt; /srv/www/index.php</pre>

<p>
Point your browser to the routers <abbr title="Internet Protocol">IP</abbr> address and the port the web server is listening on (e. g. <a href="http://192.168.1.1:81/index.php" class="urlextern" title="http://192.168.1.1:81/index.php" rel="ugc nofollow">http://192.168.1.1:81/index.php</a>)
</p>

<p>
If you get a blank page you can run your script with <code>php-cgi</code> from the router&#039;s shell to see if there are any errors
</p>
<pre class="code">php-cgi /srv/www/index.php</pre>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Testing PHP&quot;,&quot;hid&quot;:&quot;testing_php&quot;,&quot;codeblockOffset&quot;:17,&quot;secid&quot;:18,&quot;range&quot;:&quot;9260-9729&quot;} -->
<h2 class="sectionedit19" id="installing_and_configuring_a_database_server">Installing and configuring a database server</h2>
<div class="level2">

<p>
<a href="/doc/howto/database.overview" class="wikilink2" title="doc:howto:database.overview" rel="nofollow" data-wiki-id="doc:howto:database.overview">database.overview</a>
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Installing and configuring a database server&quot;,&quot;hid&quot;:&quot;installing_and_configuring_a_database_server&quot;,&quot;codeblockOffset&quot;:19,&quot;secid&quot;:19,&quot;range&quot;:&quot;9730-9819&quot;} -->
<h3 class="sectionedit20" id="mysql">MySQL</h3>
<div class="level3">

<p>
<a href="/doc/howto/database.mysql" class="wikilink2" title="doc:howto:database.mysql" rel="nofollow" data-wiki-id="doc:howto:database.mysql">database.mysql</a>
</p>
<pre class="code">opkg update
opkg install libpthread libncurses libreadline mysql-server

sed -i &#039;s,^datadir.*,datadir         = &quot;/srv/mysql&quot;,g&#039; /etc/my.cnf
sed -i &#039;s,^tmpdir.*,tmpdir          = &quot;/tmp&quot;,g&#039; /etc/my.cnf

mkdir -p /srv/mysql
mysql_install_db --force

/etc/init.d/mysqld start
/etc/init.d/mysqld enable

mysqladmin -u root password &#039;new-password&#039;</pre>

<p>
To enable MySQL in PHP install
</p>
<pre class="code">opkg update
opkg install php5-mod-mysql</pre>

<p>
and load the <code>mysql.so</code> module in <code>/etc/php.ini</code>
</p>
<pre class="code">sed -i &#039;s,;extension=mysql.so,extension=mysql.so,g&#039; /etc/php.ini</pre>

<p>
<a href="https://forum.openwrt.org/viewtopic.php?pid=145009#p145009" class="urlextern" title="https://forum.openwrt.org/viewtopic.php?pid=145009#p145009" rel="ugc nofollow">https://forum.openwrt.org/viewtopic.php?pid=145009#p145009</a>
</p>

<p>
To use the MySQLi module in PHP install
</p>
<pre class="code">opkg update
opkg install php5-mod-mysqli</pre>

<p>
and load the <code>mysqli.so</code> module in <code>/etc/php.ini</code>
</p>
<pre class="code">sed -i &#039;s,;extension=mysqli.so,extension=mysqli.so,g&#039; /etc/php.ini</pre>

<p>
Besides, in /etc/php.ini, duplicate the block named [MySQL] to [MySQLi] and rename all “mysql.”-options to “mysqli.”. To access a local MySQL server via socket, modify the value of “mysqli.default_socket” (which can be found in /etc/my.cnf):
</p>
<pre class="code">mysqli.default_socket = /var/run/mysqld.sock</pre>

<p>
For <strong>MySQL</strong> to work with <strong>PHP</strong>, you must also configure the <em><strong>php.ini</strong></em> (vi /etc/php.ini) file, under the [MySQL] section.  
</p>
<ul>
<li class="level1"><div class="li"> Here is an example:</div>
</li>
</ul>
<pre class="code">[MySQL]
mysql.allow_local_infile = On
mysql.allow_persistent = On
mysql.cache_size = 2000
mysql.max_persistent = -1
mysql.max_links = -1
mysql.default_port = 3306
mysql.default_socket = /tmp/run/mysqld.sock
mysql.default_host = 127.0.0.1
mysql.default_user = root
mysql.default_password = MySuperSecretPassword
mysql.connect_timeout = 60
mysql.trace_mode = Off</pre>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;MySQL&quot;,&quot;hid&quot;:&quot;mysql&quot;,&quot;codeblockOffset&quot;:19,&quot;secid&quot;:20,&quot;range&quot;:&quot;9820-11583&quot;} -->
<h3 class="sectionedit21" id="postgresql">PostgreSQL</h3>
<div class="level3">

<p>
<a href="/doc/howto/database.postgresql" class="wikilink2" title="doc:howto:database.postgresql" rel="nofollow" data-wiki-id="doc:howto:database.postgresql">database.postgresql</a>
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;PostgreSQL&quot;,&quot;hid&quot;:&quot;postgresql&quot;,&quot;codeblockOffset&quot;:26,&quot;secid&quot;:21,&quot;range&quot;:&quot;11584-11639&quot;} -->
<h2 class="sectionedit22" id="administering">Administering</h2>
<div class="level2">

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Administering&quot;,&quot;hid&quot;:&quot;administering&quot;,&quot;codeblockOffset&quot;:26,&quot;secid&quot;:22,&quot;range&quot;:&quot;11640-11665&quot;} -->
<h3 class="sectionedit23" id="cli">CLI</h3>
<div class="level3">

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;CLI&quot;,&quot;hid&quot;:&quot;cli&quot;,&quot;codeblockOffset&quot;:26,&quot;secid&quot;:23,&quot;range&quot;:&quot;11666-11680&quot;} -->
<h3 class="sectionedit24" id="webui">WebUI</h3>
<div class="level3">

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;WebUI&quot;,&quot;hid&quot;:&quot;webui&quot;,&quot;codeblockOffset&quot;:26,&quot;secid&quot;:24,&quot;range&quot;:&quot;11681-11698&quot;} -->
<h2 class="sectionedit25" id="troubleshooting">Troubleshooting</h2>
<div class="level2">

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Troubleshooting&quot;,&quot;hid&quot;:&quot;troubleshooting&quot;,&quot;codeblockOffset&quot;:26,&quot;secid&quot;:25,&quot;range&quot;:&quot;11699-11727&quot;} -->
<h2 class="sectionedit26" id="notes">Notes</h2>
<div class="level2">

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Notes&quot;,&quot;hid&quot;:&quot;notes&quot;,&quot;codeblockOffset&quot;:26,&quot;secid&quot;:26,&quot;range&quot;:&quot;11728-&quot;} -->