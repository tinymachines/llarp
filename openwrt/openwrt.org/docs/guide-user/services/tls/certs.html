
<h1 class="sectionedit1" id="tlsssl_certificates_for_a_server">TLS/SSL certificates for a server</h1>
<div class="level1">

<p>
<a href="https://en.wikipedia.org/wiki/Transport_Layer_Security" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/Transport_Layer_Security">Transport_Layer_Security</a> (<abbr title="Transport Layer Security">TLS</abbr>, formerly called <abbr title="Secure Socket Layer">SSL</abbr>) is used to encrypt and protect communication.
When a webserver works with regular <abbr title="Hypertext Transfer Protocol">HTTP</abbr> protocol i.e. its address starts with <code>http</code> but over the encrypted <abbr title="Transport Layer Security">TLS</abbr> this called <abbr title="Hypertext Transfer Protocol Secure">HTTPS</abbr> and a site address starts with <code>https</code>.
For all <abbr title="Hypertext Transfer Protocol Secure">HTTPS</abbr> sites a web browser shows a lock icon in an address bar.
For enabling <abbr title="Hypertext Transfer Protocol Secure">HTTPS</abbr> for a website&#039;s domain we need a private key and it&#039;s TSL certificate that was signed by a Certificate Authority (CA).
</p>

<p>
The OpenWrt admin site LuCI by default supports the <abbr title="Hypertext Transfer Protocol Secure">HTTPS</abbr> so you can open it with <a href="https://192.168.1.1/" class="urlextern" title="https://192.168.1.1/" rel="ugc nofollow">httpS://192.168.1.1/</a>.
But it&#039;s certificate is self signed and not verified by a CA so your browser will show a warning.
</p>

<p>
You can buy a <abbr title="Transport Layer Security">TLS</abbr> cert but nowadays the <a href="https://letsencrypt.org/how-it-works/" class="urlextern" title="https://letsencrypt.org/how-it-works/" rel="ugc nofollow">Let&#039;s Encrypt</a> CA allows to sign and verify certificates for free with a <strong>certbot</strong> program that uses ACME protocol.
The only problem is that the certificate will have a short period of validity and you have to configure certificate renewal.
</p>

<p>
There is few ACME clients that automates the cert issuing:
</p>
<ul>
<li class="level1"><div class="li"> <a href="https://certbot.eff.org/" class="urlextern" title="https://certbot.eff.org/" rel="ugc nofollow">certbot</a> is an official ACME client that is feature rich but is too heavy for small OpenWrt routers.</div>
</li>
<li class="level1"><div class="li"> <a href="https://github.com/acmesh-official/acme.sh" class="urlextern" title="https://github.com/acmesh-official/acme.sh" rel="ugc nofollow">acme.sh</a> is small ACME client that uses shell script and has a LUCI app to configure. This is a recommended for OpenWrt. </div>
</li>
<li class="level1"><div class="li"> <a href="https://github.com/ndilieto/uacme" class="urlextern" title="https://github.com/ndilieto/uacme" rel="ugc nofollow">uacme</a> lightweight ACME client written in plain C with minimal dependencies: libcurl and one of MbedTLS, OpenSSL or GnuTLS.</div>
</li>
<li class="level1"><div class="li"> Many others <a href="https://letsencrypt.org/docs/client-options/" class="urlextern" title="https://letsencrypt.org/docs/client-options/" rel="ugc nofollow">ACME Client Implementations</a> </div>
</li>
</ul>

<p>
If you have already taken care of certificate automation see also <a href="/docs/guide-user/luci/getting_rid_of_luci_https_certificate_warnings#option_ainstalling_a_publicly_trusted_certificate" class="wikilink1" title="docs:guide-user:luci:getting_rid_of_luci_https_certificate_warnings" data-wiki-id="docs:guide-user:luci:getting_rid_of_luci_https_certificate_warnings">Installing a publicly trusted certificate</a>.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;TLS\/SSL certificates for a server&quot;,&quot;hid&quot;:&quot;tlsssl_certificates_for_a_server&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:1,&quot;range&quot;:&quot;1-1950&quot;} -->
<h2 class="sectionedit2" id="acmesh">ACME.sh</h2>
<div class="level2">

<p>
See <a href="/docs/guide-user/services/tls/acmesh" class="wikilink1" title="docs:guide-user:services:tls:acmesh" data-wiki-id="docs:guide-user:services:tls:acmesh">acme.sh</a>
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;ACME.sh&quot;,&quot;hid&quot;:&quot;acmesh&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:2,&quot;range&quot;:&quot;1951-2023&quot;} -->
<h2 class="sectionedit3" id="self_signed_certs">Self signed certs</h2>
<div class="level2">

<p>
See <a href="/docs/guide-user/services/webserver/uhttpd#https_enable_and_certificate_settings_and_creation" class="wikilink1" title="docs:guide-user:services:webserver:uhttpd" data-wiki-id="docs:guide-user:services:webserver:uhttpd">HTTPS Enable and Certificate Settings and Creation</a> or <a href="/docs/guide-user/luci/getting_rid_of_luci_https_certificate_warnings#option_bcreating_installing_trusting_a_self-signed_certificate" class="wikilink1" title="docs:guide-user:luci:getting_rid_of_luci_https_certificate_warnings" data-wiki-id="docs:guide-user:luci:getting_rid_of_luci_https_certificate_warnings">Getting rid of LuCI HTTPS warnings</a>.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Self signed certs&quot;,&quot;hid&quot;:&quot;self_signed_certs&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:3,&quot;range&quot;:&quot;2024-2382&quot;} -->
<h2 class="sectionedit4" id="own_certificate_authority_with_pki">Own Certificate Authority with PKI</h2>
<div class="level2">

<p>
See <a href="/docs/guide-user/services/tls/pki" class="wikilink1" title="docs:guide-user:services:tls:pki" data-wiki-id="docs:guide-user:services:tls:pki">Installing and trusting a root CA certificate in a PKI</a>
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Own Certificate Authority with PKI&quot;,&quot;hid&quot;:&quot;own_certificate_authority_with_pki&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:4,&quot;range&quot;:&quot;2383-2526&quot;} -->
<h2 class="sectionedit5" id="external_services">External services</h2>
<div class="level2">

<p>
You can use CloudFlare.com as a proxy that will terminate <abbr title="Transport Layer Security">TLS</abbr> and forward requests to your router with <abbr title="Hypertext Transfer Protocol">HTTP</abbr> or <abbr title="Hypertext Transfer Protocol Secure">HTTPS</abbr> with a self signed certificate.
Some tunnels like PageKite or localhost.run are working through <abbr title="Hypertext Transfer Protocol Secure">HTTPS</abbr>.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;External services&quot;,&quot;hid&quot;:&quot;external_services&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:5,&quot;range&quot;:&quot;2527-&quot;} -->