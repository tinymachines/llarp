
<h1 class="sectionedit1" id="smtp_clients">SMTP clients</h1>
<div class="level1">

<p>
This page lists <abbr title="Simple Mail Transfer Protocol">SMTP</abbr> and SMTPS clients available on OpenWRT, that are able to send email to other email servers.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;SMTP clients&quot;,&quot;hid&quot;:&quot;smtp_clients&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:1,&quot;range&quot;:&quot;1-142&quot;} -->
<h2 class="sectionedit2" id="overview">Overview</h2>
<div class="level2">

<p>
The table shows all clients ported to OpenWrt:
</p>
<div class="table sectionedit3"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0 leftalign"> Name                                             </th><th class="col1 leftalign"> Version                    </th><th class="col2 leftalign"> Dependencies                                      </th><th class="col3 leftalign"> Size   </th><th class="col4 leftalign"> Features                                                                                                                                                                                                                                 </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0 leftalign"> <a href="/docs/techref/busybox" class="wikilink1" title="docs:techref:busybox" data-wiki-id="docs:techref:busybox">BusyBox</a> sendmail        </td><td class="col1 leftalign"> 1.33 <em>must be compiled</em>  </td><td class="col2 leftalign"> <em>libopenssl</em>                                    </td><td class="col3 leftalign"> 14KB   </td><td class="col4 leftalign"> <abbr title="Secure Socket Layer">SSL</abbr>, smarthost only, sendmail-compatible, <abbr title="Simple Mail Transfer Protocol">SMTP</abbr> auth                                                                                                                                                                                      </td>
	</tr>
	<tr class="row2">
		<td class="col0 leftalign"> <a href="/packages/pkgdata/msmtp" class="wikilink1" title="packages:pkgdata:msmtp" data-wiki-id="packages:pkgdata:msmtp">msmtp</a>                       </td><td class="col1 leftalign"> 1.8                        </td><td class="col2 leftalign"> <em>libgnutls</em>                                     </td><td class="col3 leftalign"> 51KB   </td><td class="col4 leftalign"> <abbr title="Secure Socket Layer">SSL</abbr>, smarthost only, sendmail-compatible, <abbr title="Simple Mail Transfer Protocol">SMTP</abbr> auth                                                                                                                                                                                      </td>
	</tr>
	<tr class="row3">
		<td class="col0 leftalign"> <a href="/packages/pkgdata/msmtp-nossl" class="wikilink1" title="packages:pkgdata:msmtp-nossl" data-wiki-id="packages:pkgdata:msmtp-nossl">msmtp-nossl</a>                 </td><td class="col1 leftalign"> 1.8                        </td><td class="col2 leftalign">                                                   </td><td class="col3 leftalign"> 47KB   </td><td class="col4 leftalign"> smarthost only, sendmail-compatible, <abbr title="Simple Mail Transfer Protocol">SMTP</abbr> auth                                                                                                                                                                                           </td>
	</tr>
	<tr class="row4">
		<td class="col0 leftalign"> <a href="/packages/pkgdata/mailsend" class="wikilink1" title="packages:pkgdata:mailsend" data-wiki-id="packages:pkgdata:mailsend">mailsend</a>                    </td><td class="col1 leftalign"> 1.19                       </td><td class="col2 leftalign"> <em>libopenssl</em>                                    </td><td class="col3 leftalign"> 39KB   </td><td class="col4 leftalign"> <abbr title="Secure Socket Layer">SSL</abbr>, smarthost only, no configuration required, MIME, attachements, <abbr title="Internet Protocol version 6">IPv6</abbr>, <abbr title="Simple Mail Transfer Protocol">SMTP</abbr> auth                                                                                                                                                      </td>
	</tr>
	<tr class="row5">
		<td class="col0 leftalign"> <a href="/packages/pkgdata/mailsend-nossl" class="wikilink1" title="packages:pkgdata:mailsend-nossl" data-wiki-id="packages:pkgdata:mailsend-nossl">mailsend-nossl</a>              </td><td class="col1 leftalign"> 1.19                       </td><td class="col2 leftalign">                                                   </td><td class="col3 leftalign"> 37KB   </td><td class="col4 leftalign"> smarthost only, no configuration required, MIME, attachements, <abbr title="Internet Protocol version 6">IPv6</abbr>, <abbr title="Simple Mail Transfer Protocol">SMTP</abbr> auth                                                                                                                                                           </td>
	</tr>
	<tr class="row6">
		<td class="col0 leftalign"> <a href="/packages/pkgdata_owrt18_6/ssmtp" class="wikilink1" title="packages:pkgdata_owrt18_6:ssmtp" data-wiki-id="packages:pkgdata_owrt18_6:ssmtp">ssmtp</a>              </td><td class="col1 leftalign"> 2.64                       </td><td class="col2 leftalign"> <em>libopenssl</em>                                    </td><td class="col3 leftalign"> 11KB   </td><td class="col4 leftalign"> <abbr title="Secure Socket Layer">SSL</abbr> support, smarthost only, <abbr title="Simple Mail Transfer Protocol">SMTP</abbr> auth. No longer available since OpenWRT 21                                                                                                                                                             </td>
	</tr>
	<tr class="row7">
		<td class="col0 leftalign"> mini-sendmail                                    </td><td class="col1 leftalign"> <em>no package</em>             </td><td class="col2 leftalign">                                                   </td><td class="col3 leftalign"> 5KB    </td><td class="col4 leftalign"> smarthost only, no configuration required. No longer available since OpenWRT 17                                                                                                                                                          </td>
	</tr>
	<tr class="row8">
		<td class="col0 leftalign"> <a href="/packages/pkgdata/emailrelay" class="wikilink1" title="packages:pkgdata:emailrelay" data-wiki-id="packages:pkgdata:emailrelay">emailrelay</a>                  </td><td class="col1 leftalign"> 2.3                        </td><td class="col2 leftalign"> <em>libc</em> <em>libssp</em> <em>libopenssl</em> <em>libstdcpp</em>  </td><td class="col3 leftalign"> 350KB  </td><td class="col4 leftalign"> <abbr title="Simple Mail Transfer Protocol">SMTP</abbr> proxy and store-and-forward message transfer agent (MTA); can be used similar to postfix with mail queue in combination with msmtp and mutt. In v2.5 can deliver mail directly. See <a href="/docs/guide-user/services/email/emailrelay" class="wikilink1" title="docs:guide-user:services:email:emailrelay" data-wiki-id="docs:guide-user:services:email:emailrelay">emailrelay</a>  </td>
	</tr>
	<tr class="row9">
		<td class="col0 leftalign"> <a href="/docs/guide-user/services/email/xmail" class="wikilink1" title="docs:guide-user:services:email:xmail" data-wiki-id="docs:guide-user:services:email:xmail">XMail </a>  </td><td class="col1 leftalign"> <em>no package</em>             </td><td class="col2 leftalign"> <em>libopenssl</em>                                    </td><td class="col3 leftalign">        </td><td class="col4 leftalign">                                                                                                                                                                                                                                          </td>
	</tr>
</table></div>
<!-- EDIT{&quot;target&quot;:&quot;table&quot;,&quot;name&quot;:&quot;&quot;,&quot;hid&quot;:&quot;table&quot;,&quot;secid&quot;:3,&quot;range&quot;:&quot;213-3992&quot;} -->
<p>
“smarthost only” means that the program is only capable to send email through a configured “smarthost”, that is, it cannot directly deliver to the destination <abbr title="Simple Mail Transfer Protocol">SMTP</abbr> server. E.g. it won&#039;t make a <abbr title="Domain Name System">DNS</abbr> lookup of the email address for MX record.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Overview&quot;,&quot;hid&quot;:&quot;overview&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:2,&quot;range&quot;:&quot;143-4234&quot;} -->
<h2 class="sectionedit4" id="using_msmtp">Using msmtp</h2>
<div class="level2">

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Using msmtp&quot;,&quot;hid&quot;:&quot;using_msmtp&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:4,&quot;range&quot;:&quot;4235-4259&quot;} -->
<h3 class="sectionedit5" id="description">Description</h3>
<div class="level3">

<p>
msmtp is an <abbr title="Simple Mail Transfer Protocol">SMTP</abbr> client.
In the default mode, it transmits a mail to an <abbr title="Simple Mail Transfer Protocol">SMTP</abbr> server (for example at a free mail provider) which does the delivery.
To use this program with your mail user agent (MUA), create a configuration file with your mail accounts and tell your MUA to
call msmtp instead of /usr/sbin/sendmail.
</p>

<p>
Since msmtp understands standard sendmail options, it can be used in places where sendmail is expected (e.g. PHP code).
</p>
<ul>
<li class="level1"><div class="li"> <a href="https://marlam.de/msmtp/" class="urlextern" title="https://marlam.de/msmtp/" rel="ugc nofollow">Official site</a> - Sources and documentation</div>
</li>
<li class="level1"><div class="li"> <a href="https://wiki.archlinux.org/title/Msmtp" class="urlextern" title="https://wiki.archlinux.org/title/Msmtp" rel="ugc nofollow">Arch Wiki</a></div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Description&quot;,&quot;hid&quot;:&quot;description&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:5,&quot;range&quot;:&quot;4260-4852&quot;} -->
<h3 class="sectionedit6" id="installation">Installation</h3>
<div class="level3">
<pre class="code">opkg install msmtp-mta</pre>

<p>
Installing <code>msmtp-mta</code> package will also create necessary <code>sendmail</code> symlink. If you do not need <code>sendmail</code> command (unlikely) then install only <code>msmtp</code> package.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Installation&quot;,&quot;hid&quot;:&quot;installation&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:6,&quot;range&quot;:&quot;4853-5085&quot;} -->
<h3 class="sectionedit7" id="configuration">Configuration</h3>
<div class="level3">

<p>
For router configuration, you very likely do not want to receive emails to local mailboxes. Define aliases file <code>/etc/aliases.msmtp</code> to send all local mails to your admin email:
</p>
<dl class="code">
<dt><a href="/_export/code/docs/guide-user/services/email/smtp.client?codeblock=1" title="Download Snippet" class="mediafile mf_msmtp">/etc/aliases.msmtp</a></dt>
<dd><pre class="code">default: admin@example.com</pre>
</dd></dl>

<p>
Place your configuration in <code>/etc/msmtprc</code>. There is an existing <code>default</code> block in the included config file so if you want to call <code>msmtp</code> without specifying an account, then you need to rename the existing <code>default</code> block to something else.
</p>

<p>
Here is an example configuration using Gmail that works with 2FA and an app password:
</p>
<dl class="code">
<dt><a href="/_export/code/docs/guide-user/services/email/smtp.client?codeblock=2" title="Download Snippet" class="mediafile mf_">/etc/msmtprc</a></dt>
<dd><pre class="code bash"><span class="co0"># A system wide configuration file.</span>
<span class="co0"># It defines a default account.</span>
<span class="co0"># This allows msmtp to be used like /usr/sbin/sendmail.</span>
&nbsp;
<span class="co0"># Set default values.</span>
defaults
aliases <span class="sy0">/</span>etc<span class="sy0">/</span>aliases.msmtp
syslog LOG_MAIL
&nbsp;
<span class="co0"># Gmail configuration that works with 2FA and an app password.</span>
<span class="co0"># Use TLS on port 465. On this port, TLS starts without STARTTLS.</span>
account gmail
host smtp.gmail.com
port <span class="nu0">465</span>
auth on
tls on
tls_starttls off
from_full_name Apartment Router
from home.lab<span class="sy0">@</span>gmail.com
user home.lab<span class="sy0">@</span>gmail.com
password abcd efgh ijkl mnop
&nbsp;
<span class="co0"># Select the default account</span>
account default : gmail</pre>
</dd></dl>

<p>
Now symlink <code>msmtp</code> to <code>sendmail</code> with <code>ln -s /usr/bin/msmtp /usr/sbin/sendmail</code> - this is not necessary if <code>msmtp-mta</code> was installed instead of <code>msmtp</code>.
</p>

<p>
Also you may configure env variables <code>EMAIL</code> for From address and <code>SMTPSERVER</code> to specify smarthost.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Configuration&quot;,&quot;hid&quot;:&quot;configuration&quot;,&quot;codeblockOffset&quot;:1,&quot;secid&quot;:7,&quot;range&quot;:&quot;5086-6565&quot;} -->
<h3 class="sectionedit8" id="sending_mail">Sending mail</h3>
<div class="level3">
<pre class="code bash"><span class="kw3">echo</span> <span class="re5">-e</span> <span class="st0">&quot;Subject: Test mail<span class="es1">\n</span><span class="es1">\n</span>This is a test <span class="es1">\&quot;</span>message<span class="es1">\&quot;</span>.&quot;</span> <span class="sy0">|</span> <span class="kw2">sendmail</span> abcd
<span class="kw3">echo</span> <span class="re5">-e</span> <span class="st0">&quot;Subject: Test mail<span class="es1">\n</span><span class="es1">\n</span>This is a test <span class="es1">\&quot;</span>message<span class="es1">\&quot;</span>.&quot;</span> <span class="sy0">|</span> <span class="kw2">sendmail</span> <span class="re5">-f</span> <span class="st0">&quot;&lt;something@your-domain.tld&gt;&quot;</span> <span class="st0">&quot;&lt;recipient@destination.tld&gt;&quot;</span></pre>

<p>
Note that the <em>sendmail</em> command (<code>/usr/sbin/sendmail</code>) is a symlink to <code>/usr/bin/msmtp</code>.
</p>

<p>
Use <code>logread</code> to check for the following log entry:
</p>
<pre class="code">Mon Oct 14 23:35:55 2024 mail.info msmtp: host=smtp.gmail.com tls=on auth=on user=******@gmail.com from=******@gmail.com recipients=admin@example.com mailsize=181 smtpstatus=250 smtpmsg=&#039;250 2.0.0 OK  1728948955 b640f23e62c3d-c9d29717ba4su6358366z.33 - gsmtp&#039; exitcode=EX_OK</pre>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Sending mail&quot;,&quot;hid&quot;:&quot;sending_mail&quot;,&quot;codeblockOffset&quot;:3,&quot;secid&quot;:8,&quot;range&quot;:&quot;6566-7263&quot;} -->
<h2 class="sectionedit9" id="using_ssmtp">Using ssmtp</h2>
<div class="level2">

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Using ssmtp&quot;,&quot;hid&quot;:&quot;using_ssmtp&quot;,&quot;codeblockOffset&quot;:5,&quot;secid&quot;:9,&quot;range&quot;:&quot;7264-7288&quot;} -->
<h3 class="sectionedit10" id="description1">Description</h3>
<div class="level3">

<p>
A secure, effective and simple way of getting mail off a system to your mail hub.
It contains no suid-binaries or other dangerous things - no mail spool to poke around in, and no daemons running in the background.
mail is simply forwarded to the configured mailhost. Extremely easy configuration.
</p>

<p>
<a href="https://tracker.debian.org/pkg/ssmtp" class="urlextern" title="https://tracker.debian.org/pkg/ssmtp" rel="ugc nofollow">Official site</a>
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Description&quot;,&quot;hid&quot;:&quot;description1&quot;,&quot;codeblockOffset&quot;:5,&quot;secid&quot;:10,&quot;range&quot;:&quot;7289-7665&quot;} -->
<h3 class="sectionedit11" id="installation1">Installation</h3>
<div class="level3">
<pre class="code">opkg install ssmtp</pre>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Installation&quot;,&quot;hid&quot;:&quot;installation1&quot;,&quot;codeblockOffset&quot;:5,&quot;secid&quot;:11,&quot;range&quot;:&quot;7666-7724&quot;} -->
<h3 class="sectionedit12" id="usage">Usage</h3>
<div class="level3">

<p>
ssmtp expects its two configuration files named <code>/etc/ssmtp/revaliases</code> and <code>/etc/ssmtp/ssmtp.conf</code>. Both are self-explaining:
</p>
<dl class="code">
<dt><a href="/_export/code/docs/guide-user/services/email/smtp.client?codeblock=6" title="Download Snippet" class="mediafile mf_conf">/etc/ssmtp/ssmtp.conf</a></dt>
<dd><pre class="code bash"><span class="re2">root</span>=arnold<span class="sy0">@</span>gmx.net
<span class="re2">mailhub</span>=mail.gmx.net:<span class="nu0">465</span>
<span class="re2">rewriteDomain</span>=gmx.net
<span class="re2">hostname</span>=gmx.net
<span class="re2">FromLineOverride</span>=YES
<span class="re2">UseTLS</span>=YES
<span class="co0">#UseSTARTTLS=YES</span></pre>
</dd></dl>
<dl class="code">
<dt><a href="/_export/code/docs/guide-user/services/email/smtp.client?codeblock=7" title="Download Snippet" class="mediafile mf_">/etc/ssmtp/revaliases</a></dt>
<dd><pre class="code bash"><span class="co0"># Format: local_account:outgoing_address:mailhub</span>
root:arnold<span class="sy0">@</span>gmx.net:mail.gmx.net:<span class="nu0">465</span></pre>
</dd></dl>

<p>
To use the program, with <abbr title="Simple Mail Transfer Protocol">SMTP</abbr> auth:
</p>
<pre class="code bash"><span class="kw2">cat</span> <span class="sy0">/</span>etc<span class="sy0">/</span>banner <span class="sy0">|</span> ssmtp <span class="re5">-vvv</span> -auultranerd<span class="sy0">@</span>universum.tb <span class="re5">-ap123password456</span> someguy<span class="sy0">@</span>gmx.net</pre>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Usage&quot;,&quot;hid&quot;:&quot;usage&quot;,&quot;codeblockOffset&quot;:6,&quot;secid&quot;:12,&quot;range&quot;:&quot;7725-8326&quot;} -->
<h2 class="sectionedit13" id="using_busybox_sendmail">Using BusyBox sendmail</h2>
<div class="level2">

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Using BusyBox sendmail&quot;,&quot;hid&quot;:&quot;using_busybox_sendmail&quot;,&quot;codeblockOffset&quot;:9,&quot;secid&quot;:13,&quot;range&quot;:&quot;8327-8362&quot;} -->
<h3 class="sectionedit14" id="description2">Description</h3>
<div class="level3">

<p>
The BusyBox sendmail is a smallest possible implementation but it must be compiled.
It works only in smarthost mode. <abbr title="Transport Layer Security">TLS</abbr> is not supported but can be used with <code>openssl s_client</code>.
</p>
<ul>
<li class="level1"><div class="li"> <a href="https://busybox.net/downloads/BusyBox.html#sendmail" class="urlextern" title="https://busybox.net/downloads/BusyBox.html#sendmail" rel="ugc nofollow">Documentation</a></div>
</li>
<li class="level1"><div class="li"> <a href="https://git.busybox.net/busybox/tree/mailutils/sendmail.c" class="urlextern" title="https://git.busybox.net/busybox/tree/mailutils/sendmail.c" rel="ugc nofollow">Sources</a></div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Description&quot;,&quot;hid&quot;:&quot;description2&quot;,&quot;codeblockOffset&quot;:9,&quot;secid&quot;:14,&quot;range&quot;:&quot;8363-8716&quot;} -->
<h3 class="sectionedit15" id="installation2">Installation</h3>
<div class="level3">

<p>
Enable the applet during compilation in menuconfig: <code>BusyBox options</code>,  <code>Mail</code> and <code>sendmail</code>.
Additionally you may want to enable <a href="https://busybox.net/downloads/BusyBox.html#makemime" class="urlextern" title="https://busybox.net/downloads/BusyBox.html#makemime" rel="ugc nofollow">makemime</a> applet that helps to send files with attachments.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Installation&quot;,&quot;hid&quot;:&quot;installation2&quot;,&quot;codeblockOffset&quot;:9,&quot;secid&quot;:15,&quot;range&quot;:&quot;8717-8993&quot;} -->
<h3 class="sectionedit16" id="usage1">Usage</h3>
<div class="level3">

<p>
You need to configure <code>SMTPHOST</code> env variable with the smarthost <abbr title="Simple Mail Transfer Protocol">SMTP</abbr> server to use.
Instead of the variable you may use an option <code>-S server[:port]</code> to specify the <abbr title="Simple Mail Transfer Protocol">SMTP</abbr> server.
</p>

<p>
You may also need <code><abbr title="Simple Mail Transfer Protocol">SMTP</abbr>_ANTISPAM_DELAY</code> env to bypass the <a href="https://en.wikipedia.org/wiki/Greylisting_(email)" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/Greylisting_(email)">Greylisting antispam</a> if it enabled for submission.
</p>

<p>
Usage:
</p>
<pre class="code">sendmail [-tv] [-f SENDER] [-amLOGIN 4&lt;user_pass.txt | -auUSER -apPASS]
		[-w SECS] [-H &#039;PROG ARGS&#039; | -S HOST] [RECIPIENT_EMAIL]...

Read email from stdin and send it
Standard options:
	-t		Read additional recipients from message body
	-f SENDER	For use in MAIL FROM:&lt;sender&gt;. Can be empty string
			Default: -auUSER, or username of current UID
	-o OPTIONS	Various options. -oi implied, others are ignored
	-i		-oi synonym, implied and ignored

Busybox specific options:
	-v		Verbose
	-w SECS		Network timeout
	-H &#039;PROG ARGS&#039;	Run connection helper. Examples:
		openssl s_client -quiet -tls1 -starttls smtp -connect smtp.gmail.com:25
		openssl s_client -quiet -tls1 -connect smtp.gmail.com:465
			$SMTP_ANTISPAM_DELAY: seconds to wait after helper connect
	-S HOST[:PORT]	Server (default $SMTPHOST or 127.0.0.1)
	-amLOGIN	Log in using AUTH LOGIN
	-amPLAIN	or AUTH PLAIN
			(-amCRAM-MD5 not supported)
	-auUSER		Username for AUTH
	-apPASS 	Password for AUTH

If no -a options are given, authentication is not done.
If -amLOGIN is given but no -au/-ap, user/password is read from fd #4.
Other options are silently ignored; -oi is implied.
Use makemime to create emails with attachments.</pre>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Usage&quot;,&quot;hid&quot;:&quot;usage1&quot;,&quot;codeblockOffset&quot;:9,&quot;secid&quot;:16,&quot;range&quot;:&quot;8994-10540&quot;} -->
<h2 class="sectionedit17" id="using_mailsend">Using mailsend</h2>
<div class="level2">

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Using mailsend&quot;,&quot;hid&quot;:&quot;using_mailsend&quot;,&quot;codeblockOffset&quot;:10,&quot;secid&quot;:17,&quot;range&quot;:&quot;10541-10568&quot;} -->
<h3 class="sectionedit18" id="description3">Description</h3>
<div class="level3">

<p>
Mailsend is a simple command line program to send mail via <abbr title="Simple Mail Transfer Protocol">SMTP</abbr> protocol.
</p>

<p>
Being quite lightweight and not requiring any configuration, <code>mailsend</code> is ideal for sending mails in shell scripts.
</p>

<p>
<a href="https://github.com/muquit/mailsend" class="urlextern" title="https://github.com/muquit/mailsend" rel="ugc nofollow">https://github.com/muquit/mailsend</a> - Sources and issues
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Description&quot;,&quot;hid&quot;:&quot;description3&quot;,&quot;codeblockOffset&quot;:10,&quot;secid&quot;:18,&quot;range&quot;:&quot;10569-10847&quot;} -->
<h3 class="sectionedit19" id="installation3">Installation</h3>
<div class="level3">

<p>
Depending on whether you want <abbr title="Secure Socket Layer">SSL</abbr> support or not (actually, the size of libopenssl will probably be the decisive factor), install one of the two versions:
</p>
<pre class="code">opkg install mailsend
opkg install mailsend-nossl</pre>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Installation&quot;,&quot;hid&quot;:&quot;installation3&quot;,&quot;codeblockOffset&quot;:10,&quot;secid&quot;:19,&quot;range&quot;:&quot;10848-11093&quot;} -->
<h3 class="sectionedit20" id="usage2">Usage</h3>
<div class="level3">

<p>
Simple usage:
</p>
<pre class="code bash">mailsend <span class="re5">-f</span> root<span class="sy0">@</span>openwrt <span class="re5">-t</span> foo<span class="sy0">@</span>example.com <span class="re5">-smtp</span> smtp.example.com <span class="re5">-sub</span> <span class="st0">&quot;My subject&quot;</span> <span class="re5">-msg-body</span> <span class="sy0">/</span>tmp<span class="sy0">/</span>body</pre>

<p>
For advanced usage (MIME attachments, authentication, BCC, etc), see:
</p>
<pre class="code">mailsend -h
mailsend -example</pre>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Usage&quot;,&quot;hid&quot;:&quot;usage2&quot;,&quot;codeblockOffset&quot;:11,&quot;secid&quot;:20,&quot;range&quot;:&quot;11094-11370&quot;} -->
<h2 class="sectionedit21" id="using_mini-sendmail">Using mini-sendmail</h2>
<div class="level2">

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Using mini-sendmail&quot;,&quot;hid&quot;:&quot;using_mini-sendmail&quot;,&quot;codeblockOffset&quot;:13,&quot;secid&quot;:21,&quot;range&quot;:&quot;11371-11403&quot;} -->
<h3 class="sectionedit22" id="description4">Description</h3>
<div class="level3">

<p>
mini_sendmail reads its standard input up to an end-of-file and sends a copy of the message found there to all of the addresses listed.
The message is sent by connecting to a local <abbr title="Simple Mail Transfer Protocol">SMTP</abbr> server. This means <code>mini_sendmail</code> can be used to send email from inside a chroot(2) area.
</p>

<p>
<a href="https://acme.com/software/mini_sendmail/" class="urlextern" title="https://acme.com/software/mini_sendmail/" rel="ugc nofollow">Official site</a>
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Description&quot;,&quot;hid&quot;:&quot;description4&quot;,&quot;codeblockOffset&quot;:13,&quot;secid&quot;:22,&quot;range&quot;:&quot;11404-11766&quot;} -->
<h3 class="sectionedit23" id="installation_and_configuration">Installation and Configuration</h3>
<div class="level3">
<pre class="code">opkg install mini-sendmail</pre>

<p>
On Chaos Calmer, the package is no longer available, but the version from Barrier Breaker still works (AA &amp; BB versions as installed below work in AA):
</p>
<pre class="code">opkg install http://downloads.openwrt.org/barrier_breaker/14.07/ar71xx/generic/packages/oldpackages/mini-sendmail_1.3.6-4_ar71xx.ipk</pre>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Installation and Configuration&quot;,&quot;hid&quot;:&quot;installation_and_configuration&quot;,&quot;codeblockOffset&quot;:13,&quot;secid&quot;:23,&quot;range&quot;:&quot;11767-12153&quot;} -->
<h3 class="sectionedit24" id="example">Example</h3>
<div class="level3">
<pre class="code bash">mini_sendmail -ssmtp.mail.yahoo.com <span class="re5">-p465</span> <span class="re5">-t</span> foo<span class="sy0">@</span>example.com <span class="sy0">&lt;</span> input_file
&nbsp;
usage: mini_sendmail <span class="br0">&#91;</span>-f<span class="sy0">&lt;</span>name<span class="sy0">&gt;</span><span class="br0">&#93;</span> <span class="br0">&#91;</span>-t<span class="br0">&#93;</span> <span class="br0">&#91;</span>-s<span class="sy0">&lt;</span>server<span class="sy0">&gt;</span><span class="br0">&#93;</span> <span class="br0">&#91;</span>-p<span class="sy0">&lt;</span>port<span class="sy0">&gt;</span><span class="br0">&#93;</span> <span class="br0">&#91;</span>-T<span class="sy0">&lt;</span>timeout<span class="sy0">&gt;</span><span class="br0">&#93;</span> <span class="br0">&#91;</span>-v<span class="br0">&#93;</span> <span class="br0">&#91;</span>address ...<span class="br0">&#93;</span></pre>

<p>
Note that there must not be a space between the option and the value; e.g. “-p 465” is incorrect.
</p>

<p>
Several sample configurations found on the internet failed, but as of 160413, this worked
</p>
<pre class="code bash"><span class="kw3">echo</span> <span class="re5">-e</span> <span class="st_h">'From: valid@email.com\r\nSubject: Test Subject\r\n\r\nTesting\r\n.'</span> <span class="sy0">|</span> mini_sendmail -fvalid<span class="sy0">@</span>email.com -smail.brighthouse.com toAddr<span class="sy0">@</span>gmail.com</pre>

<p>
smtp.gmail.com failed; omitting -f failed; omitting “From: ” resulted in transmission, but no sender shown.
</p>

<p>
This is a very small package if you can find an smtp server which works and you can configure the command so that the server accepts it.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Example&quot;,&quot;hid&quot;:&quot;example&quot;,&quot;codeblockOffset&quot;:15,&quot;secid&quot;:24,&quot;range&quot;:&quot;12154-&quot;} -->