
<h1 class="sectionedit1" id="rygel_dlna_media_server">Rygel DLNA Media Server</h1>
<div class="level1">

<p>
<a href="http://live.gnome.org/Rygel/" class="urlextern" title="http://live.gnome.org/Rygel/" rel="ugc nofollow">Rygel</a> implements several of the DLNA media server protocols. Given that several DLNA media servers are already packaged for OpenWrt, the most interesting functionality of rygel in this context is the implementation of the MediaRenderer protocol, which allows remote control of a media player using a standardized interface.
</p>

<p>
Rygel packaging in OpenWrt trunk is currently broken.
</p>

<p>
The latest packaging is available from <a href="https://github.com/aandyl/openwrt-packages" class="urlextern" title="https://github.com/aandyl/openwrt-packages" rel="ugc nofollow">https://github.com/aandyl/openwrt-packages</a>.
</p>

<p>
For trunk, you can add the rygel packages to feeds.conf with this entry (make sure to add it before the main packages repository):
</p>
<pre class="code">src-git rygel https://github.com/aandyl/openwrt-packages.git;rygel</pre>

<p>
Building the rygel packages with openwrt trunk currently requires some patches to the openwrt build tree. The necessary patches are available in the openwrt patchwork and are linked from the <a href="https://github.com/aandyl/openwrt-packages/blob/rygel/README" class="urlextern" title="https://github.com/aandyl/openwrt-packages/blob/rygel/README" rel="ugc nofollow">README</a> in the git repo.
</p>

<p>
For attitude adjustment, use the <code>rygel-aa</code> branch. feeds.conf entry (again, must be before the main packages repository):
</p>
<pre class="code">src-git rygel https://github.com/aandyl/openwrt-packages.git;rygel-aa</pre>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Rygel DLNA Media Server&quot;,&quot;hid&quot;:&quot;rygel_dlna_media_server&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:1,&quot;range&quot;:&quot;1-1218&quot;} -->
<h2 class="sectionedit2" id="system_requirements">System requirements</h2>
<div class="level2">

<p>
My squashfs images for TL-WR1043ND containing rygel and dependencies are around 6 <abbr title="Megabyte">MB</abbr>. That covers audio playback only. If you wanted to do video playback, the size would increase. Note that when installing packages to the JFFS with opkg, they are not compressed, so the space requirements will increase. (I don&#039;t expect an opkg install to fit in an 8 <abbr title="Megabyte">MB</abbr> device.)
</p>

<p>
Running rygel uses most of the 32 <abbr title="Megabyte">MB</abbr> of memory in the WR1043ND.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;System requirements&quot;,&quot;hid&quot;:&quot;system_requirements&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:2,&quot;range&quot;:&quot;1219-1680&quot;} -->
<h2 class="sectionedit3" id="installing">Installing</h2>
<div class="level2">

<p>
There are several rygel plugins available, and packages are defined for all of them. Only the <code>rygel-playbin</code> plugin implementing the MediaRenderer protocol has been tested. When installing the playbin plugin, you likely want to install the <code>rygel-playbin-gst-suggested</code> package as well, which will pull in a set of useful gstreamer plugins for playing a variety of common audio formats. Using a smaller set of plugins is definitely possible if you only use a limited set of formats. Note, however, that identifying the needed plugins for a given format can be tricky.
</p>

<p>
Additional packages may be needed to support your audio output. For the case of USB audio adapters, information can be found in <a href="/docs/guide-user/hardware/audio/usb.audio" class="wikilink1" title="docs:guide-user:hardware:audio:usb.audio" data-wiki-id="docs:guide-user:hardware:audio:usb.audio">usb.audio</a>.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Installing&quot;,&quot;hid&quot;:&quot;installing&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:3,&quot;range&quot;:&quot;1681-2453&quot;} -->
<h2 class="sectionedit4" id="configuring">Configuring</h2>
<div class="level2">

<p>
The name of the media renderer is displayed when selecting a network destination in player applications. The default name is “Audio/Video playback on &lt;hostname&gt;”. You can set the name by doing:
</p>
<pre class="code bash">uci <span class="kw1">set</span> rygel.Playbin.title=<span class="st0">&quot;MediaRendererName&quot;</span>
uci commit rygel
service rygel restart</pre>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Configuring&quot;,&quot;hid&quot;:&quot;configuring&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:4,&quot;range&quot;:&quot;2454-2781&quot;} -->
<h2 class="sectionedit5" id="using">Using</h2>
<div class="level2">

<p>
Once the media renderer is set up, it should appear as an option in your player. The exact means of choosing the media renderer as the sink device will vary between players.
</p>

<p>
If you have trouble getting things to work, here are some things to check:
</p>
<ul>
<li class="level1"><div class="li"> Check the syslog for errors using <code>logread</code></div>
</li>
<li class="level1"><div class="li"> Make sure the appropriate gstreamer plugins are installed</div>
</li>
<li class="level1"><div class="li"> See if you can play sound in other applications</div>
</li>
<li class="level1"><div class="li"> Try a different media player</div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Using&quot;,&quot;hid&quot;:&quot;using&quot;,&quot;codeblockOffset&quot;:1,&quot;secid&quot;:5,&quot;range&quot;:&quot;2782-3249&quot;} -->
<h2 class="sectionedit6" id="link_dump">Link dump</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> <a href="https://wiki.archlinux.org/index.php/Rygel" class="urlextern" title="https://wiki.archlinux.org/index.php/Rygel" rel="ugc nofollow">https://wiki.archlinux.org/index.php/Rygel</a></div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Link dump&quot;,&quot;hid&quot;:&quot;link_dump&quot;,&quot;codeblockOffset&quot;:1,&quot;secid&quot;:6,&quot;range&quot;:&quot;3250-&quot;} -->