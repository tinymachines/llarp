
<h1 class="sectionedit1" id="kadnode">KadNode</h1>
<div class="level1">

<p>
KadNode is a lightweight peer-to-peer (p2p) <abbr title="Domain Name System">DNS</abbr> system. Usable for DynDNS purposes.
</p>

<p>
KadNode finds the <abbr title="Internet Protocol">IP</abbr> address of other instances on the Internet or local network.
It is used like <abbr title="Domain Name System">DNS</abbr>, but is based on the decentralized BitTorrent network.
</p>

<p>
KadNode intercepts <code>.p2p</code> domain queries on the systems level and resolves them using a decentralized <a href="https://en.wikipedia.org/wiki/Kademlia" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/Kademlia">Kademlia</a> DHT network.
Additionally, <abbr title="Transport Layer Security">TLS</abbr> authentication can be used to make sure the correct <abbr title="Internet Protocol">IP</abbr> address was found.
If successful, the <abbr title="Internet Protocol">IP</abbr> address is passed to the application making the request.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;KadNode&quot;,&quot;hid&quot;:&quot;kadnode&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:1,&quot;range&quot;:&quot;1-570&quot;} -->
<h3 class="sectionedit2" id="features">Features</h3>
<div class="level3">
<ul>
<li class="level1"><div class="li"> Support for two kinds of domains:</div>
</li>
<li class="level1 node"><div class="li"> public key domains as &lt;public-key&gt;.p2p</div>
<ul>
<li class="level2"><div class="li"> No need to exchange any further keys/certificates</div>
</li>
<li class="level2"><div class="li"> Uses secp256r1 <a href="https://en.wikipedia.org/wiki/Elliptic-curve_cryptography" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/Elliptic-curve_cryptography">ECC</a> key pairs</div>
</li>
</ul>
</li>
<li class="level1 node"><div class="li"> named domains like yourdomain.com.p2p</div>
<ul>
<li class="level2"><div class="li"> Needs pre-shared certificates (self-signed root certificates or e.g. “Let&#039;s Encrypt”)</div>
</li>
<li class="level2"><div class="li"> Uses <abbr title="Transport Layer Security">TLS</abbr> session handshake for authentication</div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> Support for mapping of clear text domains to pubkey e.g. myname.p2p ⇒ &lt;public-key&gt;.p2p</div>
</li>
<li class="level1"><div class="li"> <abbr title="Internet Protocol version 4">IPv4</abbr>/<abbr title="Internet Protocol version 6">IPv6</abbr> support</div>
</li>
<li class="level1"><div class="li"> UPnP/<abbr title="Network Address Translation">NAT</abbr>-PMP support</div>
</li>
<li class="level1"><div class="li"> Local peer discovery</div>
</li>
<li class="level1"><div class="li"> Small size / ~100KB depending on features / ~50KB compressed</div>
</li>
<li class="level1"><div class="li"> Command line control program</div>
</li>
<li class="level1"><div class="li"> NSS support through /etc/nsswitch.conf</div>
</li>
<li class="level1"><div class="li"> <abbr title="Domain Name System">DNS</abbr> server interface and <abbr title="Domain Name System">DNS</abbr> proxy</div>
</li>
<li class="level1"><div class="li"> Handles A, AAAA, and SRV requests</div>
</li>
<li class="level1"><div class="li"> Packages for ArchLinux, Debian, FreeBSD, MacOSX, OpenWrt, Windows</div>
</li>
<li class="level1"><div class="li"> Peer file import/export on startup/shutdown and every 24h</div>
</li>
<li class="level1"><div class="li"> Uses sha256 hash method</div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Features&quot;,&quot;hid&quot;:&quot;features&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:2,&quot;range&quot;:&quot;571-1525&quot;} -->
<h3 class="sectionedit3" id="how_it_works">How it works</h3>
<div class="level3">
<ul>
<li class="level1 node"><div class="li"> DHT (Distrbuted Hash Table)</div>
<ul>
<li class="level2"><div class="li"> DHT code from Transmission Bittorrent client</div>
</li>
<li class="level2"><div class="li"> Maps 20 Bytes strings to addresses</div>
</li>
</ul>
</li>
<li class="level1 node"><div class="li"> <abbr title="Operating System">OS</abbr> interface to resolve .p2p domain</div>
<ul>
<li class="level2"><div class="li"> <abbr title="Domain Name System">DNS</abbr> service on separate port </div>
</li>
<li class="level2"><div class="li"> NSS (Name Service Switch)</div>
</li>
</ul>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;How it works&quot;,&quot;hid&quot;:&quot;how_it_works&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:3,&quot;range&quot;:&quot;1526-1782&quot;} -->
<h3 class="sectionedit4" id="documentation">Documentation</h3>
<div class="level3">
<ul>
<li class="level1"><div class="li"> <a href="https://github.com/mwarning/KadNode/blob/master/misc/manpage.md" class="urlextern" title="https://github.com/mwarning/KadNode/blob/master/misc/manpage.md" rel="ugc nofollow">Manual Page</a></div>
</li>
<li class="level1"><div class="li"> <a href="https://github.com/mwarning/KadNode/blob/master/misc/implementation.md" class="urlextern" title="https://github.com/mwarning/KadNode/blob/master/misc/implementation.md" rel="ugc nofollow">Implementation Details</a></div>
</li>
<li class="level1"><div class="li"> <a href="https://github.com/mwarning/KadNode/blob/master/misc/examples.md" class="urlextern" title="https://github.com/mwarning/KadNode/blob/master/misc/examples.md" rel="ugc nofollow">Usage examples</a></div>
</li>
<li class="level1"><div class="li"> <a href="https://github.com/mwarning/KadNode/blob/master/misc/faq.md" class="urlextern" title="https://github.com/mwarning/KadNode/blob/master/misc/faq.md" rel="ugc nofollow">FAQ</a></div>
</li>
<li class="level1"><div class="li"> <a href="https://www.youtube.com/watch?v=DFFNEoEYItE" class="urlextern" title="https://www.youtube.com/watch?v=DFFNEoEYItE" rel="ugc nofollow">Video: KadNode decentralized DNS system - 34. Chaos Communication Congress</a></div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Documentation&quot;,&quot;hid&quot;:&quot;documentation&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:4,&quot;range&quot;:&quot;1783-2280&quot;} -->
<h3 class="sectionedit5" id="installation">Installation</h3>
<div class="level3">
<pre class="code bash">opkg update
opkg <span class="kw2">install</span> kadnode</pre>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Installation&quot;,&quot;hid&quot;:&quot;installation&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:5,&quot;range&quot;:&quot;2281-2357&quot;} -->
<h3 class="sectionedit6" id="configuration">Configuration</h3>
<div class="level3">

<p>
Edit the following file:
</p>
<pre class="code bash"><span class="sy0">/</span>etc<span class="sy0">/</span>config<span class="sy0">/</span>kadnode</pre>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Configuration&quot;,&quot;hid&quot;:&quot;configuration&quot;,&quot;codeblockOffset&quot;:1,&quot;secid&quot;:6,&quot;range&quot;:&quot;2358-2447&quot;} -->
<h3 class="sectionedit7" id="luci_app">LuCI App</h3>
<div class="level3">

<p>
luci-app-kadnode is in development here <a href="https://github.com/stokito/luci/tree/luci-app-kadnode" class="urlextern" title="https://github.com/stokito/luci/tree/luci-app-kadnode" rel="ugc nofollow">https://github.com/stokito/luci/tree/luci-app-kadnode</a>
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;LuCI App&quot;,&quot;hid&quot;:&quot;luci_app&quot;,&quot;codeblockOffset&quot;:2,&quot;secid&quot;:7,&quot;range&quot;:&quot;2448-&quot;} -->