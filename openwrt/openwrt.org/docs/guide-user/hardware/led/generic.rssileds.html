
<h1 class="sectionedit1" id="use_leds_to_show_signal_strength_with_rssileds">Use LEDs to show signal strength with rssileds</h1>
<div class="level1">

<p>
The rssileds package allows you to control LEDs on a router or access point depending on the signal strength of a WiFi interface.
</p>

<p>
For instance, many wireless repeaters and range extenders have a signal strength meter on them for the received signal.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Use LEDs to show signal strength with rssileds&quot;,&quot;hid&quot;:&quot;use_leds_to_show_signal_strength_with_rssileds&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:1,&quot;range&quot;:&quot;1-313&quot;} -->
<h2 class="sectionedit2" id="step_1installing_rssileds">Step 1: installing rssileds</h2>
<div class="level2">
<pre class="code bash">opkg update
opkg <span class="kw2">install</span> rssileds</pre>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Step 1: installing rssileds&quot;,&quot;hid&quot;:&quot;step_1installing_rssileds&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:2,&quot;range&quot;:&quot;314-408&quot;} -->
<h2 class="sectionedit3" id="step_2configuring_the_system">Step 2: configuring the system</h2>
<div class="level2">

<p>
The rssileds configuration is stored in the “system” UCI section. At least two sections are needed.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Step 2: configuring the system&quot;,&quot;hid&quot;:&quot;step_2configuring_the_system&quot;,&quot;codeblockOffset&quot;:1,&quot;secid&quot;:3,&quot;range&quot;:&quot;409-552&quot;} -->
<h3 class="sectionedit4" id="rssileds_configuration">rssileds configuration</h3>
<div class="level3">
<div class="table sectionedit5"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Name </th><th class="col1"> Type </th><th class="col2"> Required </th><th class="col3"> Default </th><th class="col4"> Description </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> <code>refresh </code> </td><td class="col1"> integer </td><td class="col2"> yes </td><td class="col3"> <em>(none)</em> </td><td class="col4"> Refresh rate in microseconds </td>
	</tr>
	<tr class="row2">
		<td class="col0"> <code>threshold</code> </td><td class="col1"> integer </td><td class="col2"> yes </td><td class="col3"> <em>(none)</em> </td><td class="col4"> The minimun required change in the quality to trigger a LED refresh action </td>
	</tr>
	<tr class="row3">
		<td class="col0"> <code>dev</code> </td><td class="col1"> string </td><td class="col2 leftalign"> yes  </td><td class="col3"> <em>(none)</em> </td><td class="col4"> Specifies the used wireless adapter, must refer to one of the defined wifi-device sections </td>
	</tr>
	<tr class="row4">
		<td class="col0" colspan="5"> <img src="/lib/images/smileys/exclaim.svg" class="icon smiley" alt=":!:" /> The node name is used to link each LED rule to the rssi block configuration </td>
	</tr>
</table></div>
<!-- EDIT{&quot;target&quot;:&quot;table&quot;,&quot;name&quot;:&quot;&quot;,&quot;hid&quot;:&quot;table&quot;,&quot;secid&quot;:5,&quot;range&quot;:&quot;585-1058&quot;} -->
</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;rssileds configuration&quot;,&quot;hid&quot;:&quot;rssileds_configuration&quot;,&quot;codeblockOffset&quot;:1,&quot;secid&quot;:4,&quot;range&quot;:&quot;553-1059&quot;} -->
<h3 class="sectionedit6" id="led_definitions">LED definitions</h3>
<div class="level3">

<p>
Options available for the “rssi trigger”, for more details on other parameters refer to LED section in <a href="/docs/guide-user/base-system/led_configuration" class="wikilink1" title="docs:guide-user:base-system:led_configuration" data-wiki-id="docs:guide-user:base-system:led_configuration">System configuration</a>.
</p>
<div class="table sectionedit7"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0"> Name </th><th class="col1"> Type </th><th class="col2"> Required </th><th class="col3"> Default </th><th class="col4"> Description </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"> <code>iface</code> </td><td class="col1"> string </td><td class="col2"> yes </td><td class="col3"> <em>(none)</em> </td><td class="col4"> Specifies the rssi block, must refer to the name defined in the “rssid” block sections </td>
	</tr>
	<tr class="row2">
		<td class="col0"> <code>minq</code> </td><td class="col1"> integer </td><td class="col2"> yes </td><td class="col3"> <em>(none)</em> </td><td class="col4"> The minimum quality percentage for the LED to turn on </td>
	</tr>
	<tr class="row3">
		<td class="col0"> <code>maxq</code> </td><td class="col1"> integer </td><td class="col2"> yes </td><td class="col3"> <em>(none)</em> </td><td class="col4"> The maximum quality percentage for the LED to turn on </td>
	</tr>
	<tr class="row4">
		<td class="col0"> <code>offset</code> </td><td class="col1"> integer </td><td class="col2"> no </td><td class="col3"> 0 </td><td class="col4"> Used for PWM LED, the led brightness is equal to the quality with the specified offset </td>
	</tr>
	<tr class="row5">
		<td class="col0"> <code>factor</code> </td><td class="col1"> integer </td><td class="col2"> no </td><td class="col3"> 1 </td><td class="col4"> Used for PWM LED, after the offset is applied, the brightness is scaled by the specified factor </td>
	</tr>
	<tr class="row6">
		<td class="col0" colspan="5"> <img src="/lib/images/smileys/question.svg" class="icon smiley" alt=":?:" /> With PWM capable LEDs the brightness is calculated as: <code>brightness = ( quality + offset ) * factor</code> </td>
	</tr>
	<tr class="row7">
		<td class="col0" colspan="5"> <img src="/lib/images/smileys/exclaim.svg" class="icon smiley" alt=":!:" /> Any quality values outside the specified range will mean the LED is off </td>
	</tr>
</table></div>
<!-- EDIT{&quot;target&quot;:&quot;table&quot;,&quot;name&quot;:&quot;&quot;,&quot;hid&quot;:&quot;table1&quot;,&quot;secid&quot;:7,&quot;range&quot;:&quot;1261-2091&quot;} -->
</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;LED definitions&quot;,&quot;hid&quot;:&quot;led_definitions&quot;,&quot;codeblockOffset&quot;:1,&quot;secid&quot;:6,&quot;range&quot;:&quot;1060-2092&quot;} -->
<h3 class="sectionedit8" id="example">Example</h3>
<div class="level3">
<pre class="code bash">config rssid <span class="st_h">'wlan0'</span>         
        option refresh <span class="nu0">40000</span>          
        option threshold <span class="nu0">1</span>   
        option dev <span class="st_h">'wlan0'</span>
&nbsp;
config led <span class="st_h">'rssilow'</span>                        
        option trigger <span class="st_h">'rssi'</span>               
        option name <span class="st_h">'RSSILOW'</span>               
        option iface <span class="st_h">'wlan0'</span>                
        option sysfs <span class="st_h">'mt2681:green:rssilow'</span>
        option minq <span class="st_h">'1'</span>                    
        option maxq <span class="st_h">'100'</span>    
        option offset <span class="st_h">'0'</span>                  
        option factor <span class="st_h">'6'</span>    
&nbsp;
config led <span class="st_h">'rssimedium'</span>     
        option trigger <span class="st_h">'rssi'</span>              
        option name <span class="st_h">'RSSIMEDIUM'</span>
        option iface <span class="st_h">'wlan0'</span>    
        option sysfs <span class="st_h">'mt2681:green:rssimed'</span>
        option minq <span class="st_h">'30'</span>                   
        option maxq <span class="st_h">'100'</span>    
        option offset <span class="st_h">'-29'</span>                
        option factor <span class="st_h">'5'</span>    
&nbsp;
config led <span class="st_h">'rssihigh'</span>       
        option trigger <span class="st_h">'rssi'</span>              
        option name <span class="st_h">'RSSIHIGH'</span>
        option iface <span class="st_h">'wlan0'</span>  
        option sysfs <span class="st_h">'mt2681:green:rssihigh'</span>
        option minq <span class="st_h">'70'</span>                    
        option maxq <span class="st_h">'100'</span>    
        option offset <span class="st_h">'-69'</span>                 
        option factor <span class="st_h">'8'</span>    </pre>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Example&quot;,&quot;hid&quot;:&quot;example&quot;,&quot;codeblockOffset&quot;:1,&quot;secid&quot;:8,&quot;range&quot;:&quot;2093-&quot;} -->