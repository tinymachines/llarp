
<h1 class="sectionedit1" id="add_a_buzzer_beeper_to_the_router">Add a buzzer (beeper) to the router</h1>
<div class="level1">

<p>
A buzzer or beeper is an audio signalling device tipically used for alarms or timers. They need an oscillating circuit to make them work. Fortunatelly there are in the market buzzers with the oscillating circuit already built in. These buzzers with the oscillating circuit included are usually called:
</p>
<ul>
<li class="level1"><div class="li"> Active buzzers</div>
</li>
<li class="level1"><div class="li"> Self-drive buzzers</div>
</li>
<li class="level1"><div class="li"> DC buzzers</div>
</li>
</ul>

<p>
<a href="/_media/media/doc/howtos/buzzer.jpg" class="media" title="media:doc:howtos:buzzer.jpg"><img src="/_media/media/doc/howtos/buzzer.jpg?w=200&amp;tok=d572ee" class="media" loading="lazy" alt="" width="200" /></a>
</p>

<p>
They are commonly made with a piezoelectric buzzer plus the oscillating circuit. They work with a DC power source and the typical current consumption is about 10 mA.
</p>

<p>
The drawback of these active buzzers is they make beeps with a fixed frequency, about 2.3 kHz.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Add a buzzer (beeper) to the router&quot;,&quot;hid&quot;:&quot;add_a_buzzer_beeper_to_the_router&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:1,&quot;range&quot;:&quot;1-720&quot;} -->
<h2 class="sectionedit2" id="feed_the_buzzer_with_a_transistor">Feed the buzzer with a transistor</h2>
<div class="level2">

<p>
We can connect the buzzer to a LED GPIO driven on the router. Depending on the type of LED, active low or high, we will use a <strong>PNP</strong> or <strong>NPN</strong> transistor to feed the active buzzer. Almost any transistor should work since a buzzer doesn&#039;t require much current to work.
</p>

<p>
Most routers use use active LOW leds connected to GPIOs. Check both pins of the led, if one is connected to Vcc then it&#039;s an active low LED, if connected to GND then it&#039;s active HIGH.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Feed the buzzer with a transistor&quot;,&quot;hid&quot;:&quot;feed_the_buzzer_with_a_transistor&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:2,&quot;range&quot;:&quot;721-1223&quot;} -->
<h3 class="sectionedit3" id="active_low_circuit">Active low circuit</h3>
<div class="level3">

<p>
When the led is active LOW, we must use a PNP transistor: 
</p>

<p>
<a href="/_media/media/doc/howtos/buzzer-mod-low.png" class="media" title="media:doc:howtos:buzzer-mod-low.png"><img src="/_media/media/doc/howtos/buzzer-mod-low.png?w=300&amp;tok=2d258f" class="media" loading="lazy" alt="" width="300" /></a>
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Active low circuit&quot;,&quot;hid&quot;:&quot;active_low_circuit&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:3,&quot;range&quot;:&quot;1224-1369&quot;} -->
<h3 class="sectionedit4" id="active_high_circuit">Active high circuit</h3>
<div class="level3">

<p>
And when the led is active HIGH, we must use a NPN transistor:
</p>

<p>
<a href="/_media/media/doc/howtos/buzzer-mod-high.png" class="media" title="media:doc:howtos:buzzer-mod-high.png"><img src="/_media/media/doc/howtos/buzzer-mod-high.png?w=300&amp;tok=65f772" class="media" loading="lazy" alt="" width="300" /></a>
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Active high circuit&quot;,&quot;hid&quot;:&quot;active_high_circuit&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:4,&quot;range&quot;:&quot;1370-1517&quot;} -->
<h3 class="sectionedit5" id="example">Example</h3>
<div class="level3">

<p>
This is a board with active low LEDs
</p>

<p>
<a href="/_media/media/doc/howtos/buzzer-mod-low-board.jpg" class="media" title="media:doc:howtos:buzzer-mod-low-board.jpg"><img src="/_media/media/doc/howtos/buzzer-mod-low-board.jpg?w=300&amp;tok=fc658c" class="media" loading="lazy" alt="" width="300" /></a>
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Example&quot;,&quot;hid&quot;:&quot;example&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:5,&quot;range&quot;:&quot;1518-1633&quot;} -->
<h2 class="sectionedit6" id="connect_directly_the_buzzer">Connect directly the buzzer</h2>
<div class="level2">

<p>
It could be also possible to connect directly the buzzer in parallel with the led. This can be possible if the buzzer doesn&#039;t need more than about 2mA to work.
</p>

<p>
<a href="/_media/media/doc/howtos/buzzer-mod-direct.png" class="media" title="media:doc:howtos:buzzer-mod-direct.png"><img src="/_media/media/doc/howtos/buzzer-mod-direct.png?w=250&amp;tok=18d76e" class="media" loading="lazy" alt="" width="250" /></a>
</p>

<p>
Of course it could also be possible to attach the buzzer to a free GPIO. GPIOs usually can supply about 4mA safetly. An active high circuit should be used in this case:
<a href="/_media/media/doc/howtos/buzzer-mod-high-gpiodirect.png" class="media" title="media:doc:howtos:buzzer-mod-high-gpiodirect.png"><img src="/_media/media/doc/howtos/buzzer-mod-high-gpiodirect.png?w=250&amp;tok=290092" class="media" loading="lazy" alt="" width="250" /></a>
</p>

<p>
It&#039;s also possible to atach the buzzer directly to the gpio, but the buzzer shouldn&#039;t draw more than 4 mA
</p>

<p>
<a href="/_media/media/doc/howtos/buzzer-mod-direct-gpio.png" class="media" title="media:doc:howtos:buzzer-mod-direct-gpio.png"><img src="/_media/media/doc/howtos/buzzer-mod-direct-gpio.png?w=90&amp;tok=c2e1cd" class="media" loading="lazy" alt="" width="90" /></a>
</p>

<p>
If you draw more current from the GPIO beyond its capacity, you could damage the SoC.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Connect directly the buzzer&quot;,&quot;hid&quot;:&quot;connect_directly_the_buzzer&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:6,&quot;range&quot;:&quot;1634-2382&quot;} -->
<h2 class="sectionedit7" id="make_some_beeps">Make some beeps</h2>
<div class="level2">

<p>
Since the buzzer is connected to a configurable LED on the router, they will be controlled together. Just configure the LED where the buzzer is soldered via Luci web interface, or use the sys filesystem interface.
</p>

<p>
Examples:
</p>
<pre class="code bash"><span class="kw3">echo</span> timer <span class="sy0">&gt;</span> <span class="sy0">/</span>sys<span class="sy0">/</span>class<span class="sy0">/</span>leds<span class="sy0">/</span>MYLED<span class="sy0">/</span>trigger
&nbsp;
<span class="kw3">echo</span> oneshot <span class="sy0">&gt;</span> <span class="sy0">/</span>sys<span class="sy0">/</span>class<span class="sy0">/</span>leds<span class="sy0">/</span>MYLED<span class="sy0">/</span>trigger
<span class="kw3">echo</span> <span class="nu0">1</span> <span class="sy0">&gt;</span> <span class="sy0">/</span>sys<span class="sy0">/</span>class<span class="sy0">/</span>leds<span class="sy0">/</span>MYLED<span class="sy0">/</span>shot
&nbsp;
<span class="kw3">echo</span> morse <span class="sy0">&gt;</span> <span class="sy0">/</span>sys<span class="sy0">/</span>class<span class="sy0">/</span>leds<span class="sy0">/</span>MYLED<span class="sy0">/</span>trigger
<span class="kw3">echo</span> <span class="st0">&quot;SOS&quot;</span> <span class="sy0">&gt;</span> <span class="sy0">/</span>sys<span class="sy0">/</span>class<span class="sy0">/</span>leds<span class="sy0">/</span>MYLED<span class="sy0">/</span>message
&nbsp;
<span class="kw3">echo</span> <span class="nu0">1</span> <span class="sy0">&gt;</span> <span class="sy0">/</span>sys<span class="sy0">/</span>class<span class="sy0">/</span>leds<span class="sy0">/</span>MYLED<span class="sy0">/</span>brightness
<span class="kw3">echo</span> <span class="nu0">0</span> <span class="sy0">&gt;</span> <span class="sy0">/</span>sys<span class="sy0">/</span>class<span class="sy0">/</span>leds<span class="sy0">/</span>MYLED<span class="sy0">/</span>brightness</pre>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Make some beeps&quot;,&quot;hid&quot;:&quot;make_some_beeps&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:7,&quot;range&quot;:&quot;2383-&quot;} -->