
<h1 class="sectionedit1" id="atheros_switches">Atheros Switches</h1>
<div class="level1">

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Atheros Switches&quot;,&quot;hid&quot;:&quot;atheros_switches&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:1,&quot;range&quot;:&quot;1-33&quot;} -->
<h2 class="sectionedit2" id="ar8327qca8337">AR8327 / QCA8337</h2>
<div class="level2">

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;AR8327 \/ QCA8337&quot;,&quot;hid&quot;:&quot;ar8327qca8337&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:2,&quot;range&quot;:&quot;34-63&quot;} -->
<h3 class="sectionedit3" id="fine_tuning_rgmii_delay">Fine Tuning RGMII delay</h3>
<div class="level3">

<p>
For boards with uboot as the bootloader, with an available console, it will set registers when boot cycle is interrupted.
</p>

<p>
The necessary registers needed for the QCA8337 switch
can be read from interrupted boot (tftpboot, bootm)
by using the following lines in the switch driver ar8327.c
in the function &#039;ar8327_hw_config_of&#039;
where &#039;qca,ar8327-initvals&#039; is parsed from DTS
before the new register values are written:
</p>
<pre class="code">  pr_info(&quot;0x04 %08x\n&quot;, ar8xxx_read(priv, AR8327_REG_PAD0_MODE));
  pr_info(&quot;0x08 %08x\n&quot;, ar8xxx_read(priv, AR8327_REG_PAD5_MODE));
  pr_info(&quot;0x0c %08x\n&quot;, ar8xxx_read(priv, AR8327_REG_PAD6_MODE));
  pr_info(&quot;0x10 %08x\n&quot;, ar8xxx_read(priv, AR8327_REG_POWER_ON_STRAP));
  ...
  ...</pre>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Fine Tuning RGMII delay&quot;,&quot;hid&quot;:&quot;fine_tuning_rgmii_delay&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:3,&quot;range&quot;:&quot;64-814&quot;} -->
<h3 class="sectionedit4" id="common_pad_ctrl_mode_values">common PAD CTRL MODE values</h3>
<div class="level3">
<div class="table sectionedit5"><table class="inline">
	<tr class="row0">
		<td class="col0">0x04000000</td><td class="col1">RGMII enable no delay</td>
	</tr>
	<tr class="row1">
		<td class="col0">0x05000000</td><td class="col1">rx delay min</td>
	</tr>
	<tr class="row2">
		<td class="col0">0x05300000</td><td class="col1">rx delay max</td>
	</tr>
	<tr class="row3">
		<td class="col0">0x06000000</td><td class="col1">tx delay min</td>
	</tr>
	<tr class="row4">
		<td class="col0">0x06c00000</td><td class="col1">tx delay max</td>
	</tr>
	<tr class="row5">
		<td class="col0">0x07000000</td><td class="col1">rx/tx delay min</td>
	</tr>
	<tr class="row6">
		<td class="col0">0x07f00000</td><td class="col1">rx/tx delay max</td>
	</tr>
</table></div>
<!-- EDIT{&quot;target&quot;:&quot;table&quot;,&quot;name&quot;:&quot;&quot;,&quot;hid&quot;:&quot;table&quot;,&quot;secid&quot;:5,&quot;range&quot;:&quot;856-1052&quot;} -->
</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;common PAD CTRL MODE values&quot;,&quot;hid&quot;:&quot;common_pad_ctrl_mode_values&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:4,&quot;range&quot;:&quot;815-&quot;} -->