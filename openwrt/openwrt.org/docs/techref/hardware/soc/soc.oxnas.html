
<h1 class="sectionedit1" id="oxnas">oxnas</h1>
<div class="level1">

<p>
A family of ARM-based SoCs developed by Oxford Semi, later sold to PLXTECH.
</p>
<div class="table sectionedit2"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0 leftalign"> SoC                </th><th class="col1 leftalign"> cores            </th><th class="col2 leftalign"> S-ATA   </th><th class="col3 leftalign"> PCIe   </th><th class="col4 leftalign"> GigE   </th><th class="col5 leftalign"> OpenWrt support   </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0 leftalign"> OX815SE            </td><td class="col1 leftalign"> ARM10            </td><td class="col2 leftalign"> 1       </td><td class="col3 leftalign"> -      </td><td class="col4 leftalign"> 1      </td><td class="col5 leftalign"> no                </td>
	</tr>
	<tr class="row2">
		<td class="col0 leftalign"> OX815DSE           </td><td class="col1 leftalign"> ARM10            </td><td class="col2 leftalign"> 2       </td><td class="col3 leftalign"> -      </td><td class="col4 leftalign"> 1      </td><td class="col5 leftalign"> no                </td>
	</tr>
	<tr class="row3">
		<td class="col0 leftalign"> OX820 <br/>
NAS7820   </td><td class="col1 leftalign"> 2x ARM11MPcore   </td><td class="col2 leftalign"> 2       </td><td class="col3 leftalign"> 1      </td><td class="col4 leftalign"> 1      </td><td class="col5 leftalign"> yes               </td>
	</tr>
	<tr class="row4">
		<td class="col0 leftalign"> OX821 <br/>
NAS7821   </td><td class="col1 leftalign"> 2x ARM11MPcore   </td><td class="col2 leftalign"> 2       </td><td class="col3 leftalign"> 1      </td><td class="col4 leftalign"> 1      </td><td class="col5 leftalign"> yes               </td>
	</tr>
	<tr class="row5">
		<td class="col0 leftalign"> NAS7825            </td><td class="col1 leftalign"> 2x ARM11MPcore   </td><td class="col2 leftalign"> 2       </td><td class="col3 leftalign"> 2      </td><td class="col4 leftalign"> 2      </td><td class="col5 leftalign"> ?                 </td>
	</tr>
</table></div>
<!-- EDIT{&quot;target&quot;:&quot;table&quot;,&quot;name&quot;:&quot;&quot;,&quot;hid&quot;:&quot;table&quot;,&quot;secid&quot;:2,&quot;range&quot;:&quot;98-637&quot;} -->
</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;oxnas&quot;,&quot;hid&quot;:&quot;oxnas&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:1,&quot;range&quot;:&quot;1-638&quot;} -->
<h2 class="sectionedit3" id="ox82xnas782x_architecture_overview">OX82x / NAS782x architecture overview</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> 2x ARM11MPCORE (ARMv7) core</div>
</li>
<li class="level1"><div class="li"> LEON2 (SPARC v8) co-processor usable for power-management and DMA offloading tasks</div>
</li>
<li class="level1"><div class="li"> no PCIe on OX820/NAS7820, 1x PCIe on OX821/NAS7821, 2x PCIe on NAS7825</div>
</li>
<li class="level1"><div class="li"> up to 512MB DDR2 SDRAM</div>
</li>
<li class="level1"><div class="li"> NAND or SPI serial flash (128MiB NAND typically found in the wild)</div>
</li>
<li class="level1"><div class="li"> DesignWare/ST GigE core with GMII/RMGII (2x in NAS7825)</div>
</li>
<li class="level1"><div class="li"> EHCI USB 2.0 Host (USB gadget mode might be possible as well)</div>
</li>
<li class="level1"><div class="li"> OX934 single-DMA dual-port S-ATA controller (SoC supports JBOD and RAID0/1 in hardware, OpenWrt doesn&#039;t yet)</div>
</li>
<li class="level1"><div class="li"> 2x DesignWare/Synopsis S-ATA phy</div>
</li>
<li class="level1"><div class="li"> Crypto engine (?)</div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;OX82x \/ NAS782x architecture overview&quot;,&quot;hid&quot;:&quot;ox82xnas782x_architecture_overview&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:3,&quot;range&quot;:&quot;639-1279&quot;} -->
<h2 class="sectionedit4" id="history_and_availability">History and availability</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> originally developed at Oxford Semi</div>
</li>
<li class="level1"><div class="li"> Oxford Semi acquired by PLXTECH, NAS products renamed</div>
</li>
<li class="level1"><div class="li"> PLXTECH acquired by Avago, announced end-of-life for NAS products</div>
</li>
<li class="level1"><div class="li"> however, Avago got bulk-agreement with Rochester...</div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;History and availability&quot;,&quot;hid&quot;:&quot;history_and_availability&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:4,&quot;range&quot;:&quot;1280-1541&quot;} -->
<h2 class="sectionedit5" id="known_limitations">Known Limitations</h2>
<div class="level2">

<p>
The OpenWrt oxnas target doesn&#039;t support all hardware features of the SoC.
</p>
<ul>
<li class="level1 node"><div class="li"> vendor&#039;s U-Boot doesn&#039;t support booting modern kernels</div>
<ul>
<li class="level2 node"><div class="li"> chain-load a recent U-Boot which does <br/>
This additional U-Boot stage uses UBI to load OpenWrt and stores it&#039;s environment in UBI <br/>
In future, it may instead be feasible to replace the stock loader, kwboot-like serial recovery yet needs to be found...</div>
<ul>
<li class="level3"><div class="li">  PLL and SDRAM setup is board specific and needs to be taken care of if we want that</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li class="level1 node"><div class="li"> S-ATA core requires host-lock for port transfers</div>
<ul>
<li class="level2"><div class="li"> S-ATA performance sucks when using both drivers simultanously e.g. for RAID-1 <br/>
vendor&#039;s Linux SDK uses hardware-supported RAID and JBOD, OpenWrt doesn&#039;t (yet) <br/>
reference code: <a href="https://github.com/kref/linux-oxnas/blob/reference/sdk/drivers/md/ox820hwraid.c" class="urlextern" title="https://github.com/kref/linux-oxnas/blob/reference/sdk/drivers/md/ox820hwraid.c" rel="ugc nofollow">https://github.com/kref/linux-oxnas/blob/reference/sdk/drivers/md/ox820hwraid.c</a></div>
</li>
</ul>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> no USB gadget support</div>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> USB 1.1 isochronous transfers are broken. As a work-around an extra USB 2.0 hub between the oxnas box and USB 1.x devices making use of isochronous transfers (e.g. USB audio interfaces) can be used.</div>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> Crypto engine undocumented/unsupported in all known <abbr title="GNU General Public License">GPL</abbr> drops, no support in OpenWrt</div>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> LEON microcode loading not yet implemented, thus no watchdog and wake-on-lan <br/>
reference code: <a href="https://github.com/kref/linux-oxnas/blob/reference/sdk/arch/arm/plat-oxnas/leon.c" class="urlextern" title="https://github.com/kref/linux-oxnas/blob/reference/sdk/arch/arm/plat-oxnas/leon.c" rel="ugc nofollow">https://github.com/kref/linux-oxnas/blob/reference/sdk/arch/arm/plat-oxnas/leon.c</a> <br/>
The <abbr title="GNU General Public License">GPL</abbr> tarball WD-<abbr title="GNU General Public License">GPL</abbr>-v1.18 of the Western Digital “My Book World Edition II (blue rings)” contains toolchain and sources of some LEON programs meant to be used with older oxnas SoCs. Besides the addresses, this looks very much the same as on newer SoCs.</div>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> no decent hddtemp-driven fancontrol for devices with fan implemented in OpenWrt <br/>
reference code: <a href="https://github.com/kref/linux-oxnas/blob/reference/sdk/arch/arm/plat-oxnas/thermAndFan.c" class="urlextern" title="https://github.com/kref/linux-oxnas/blob/reference/sdk/arch/arm/plat-oxnas/thermAndFan.c" rel="ugc nofollow">https://github.com/kref/linux-oxnas/blob/reference/sdk/arch/arm/plat-oxnas/thermAndFan.c</a> <br/>
<a href="https://github.com/kref/linux-oxnas/blob/reference/sdk/arch/arm/plat-oxnas/thermistorCalibration.h" class="urlextern" title="https://github.com/kref/linux-oxnas/blob/reference/sdk/arch/arm/plat-oxnas/thermistorCalibration.h" rel="ugc nofollow">https://github.com/kref/linux-oxnas/blob/reference/sdk/arch/arm/plat-oxnas/thermistorCalibration.h</a></div>
</li>
</ul>
<!-- EDIT{&quot;target&quot;:&quot;plugin_wrap_start&quot;,&quot;hid&quot;:&quot;&quot;,&quot;secid&quot;:6,&quot;range&quot;:&quot;0-&quot;} --><div class="wrap_center wrap_round wrap_important plugin_wrap" style="width: 60%;">
<p>
The Chaos Calmer 15.05 images for the Oxnas targets are missing some essential packages and kernel modules, most notably <strong>iptables</strong> and the <strong>conntrack</strong> kernel modules which are required for the firewall to work correctly. If you reconfigure the firewall or network (for example to create a <abbr title="Wide Area Network">WAN</abbr> interface), be sure to install the respective packages beforehand.
</p>
</div><!-- EDIT{&quot;target&quot;:&quot;plugin_wrap_end&quot;,&quot;hid&quot;:&quot;&quot;,&quot;secid&quot;:7,&quot;range&quot;:&quot;0-&quot;} -->
</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Known Limitations&quot;,&quot;hid&quot;:&quot;known_limitations&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:5,&quot;range&quot;:&quot;1542-3864&quot;} -->
<h2 class="sectionedit8" id="supported_boardsdevices">Supported boards/devices</h2>
<div class="level2">

<p>
k=known backdoor<br/>

i=installer/flash image available<br/>

h=how-to available<br/>

s=serial access required for installation<br/>

0=missing fdt, please get in touch if you got that board/device and want to help porting or loan or donate hardware
</p>
<div class="table sectionedit9"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0 leftalign"> board name     </th><th class="col1 leftalign"> product name                                         </th><th class="col2 leftalign"> status   </th><th class="col3 leftalign"> wiki page                                       </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0 leftalign"> stg-212        </td><td class="col1 leftalign"> ZyXEL NSA-212 / MitraStra STG-212 / Medion ...       </td><td class="col2 leftalign"> k,h      </td><td class="col3 leftalign"> <a href="/toh/medion/md86587" class="wikilink1" title="toh:medion:md86587" data-wiki-id="toh:medion:md86587">md86587</a>                          </td>
	</tr>
	<tr class="row2">
		<td class="col0 leftalign"> pogoplug-pro   </td><td class="col1 leftalign"> Cloud Engines PogoPlug Pro (with mPCIe slot)         </td><td class="col2 leftalign"> k,s      </td><td class="col3 leftalign"> <a href="/toh/cloud_engines/pogoplugpro" class="wikilink1" title="toh:cloud_engines:pogoplugpro" data-wiki-id="toh:cloud_engines:pogoplugpro">Pogoplug Pro</a>   </td>
	</tr>
	<tr class="row3">
		<td class="col0 leftalign"> pogoplug-v3    </td><td class="col1 leftalign"> Cloud Engines PogoPlug v3  (no PCIe)                 </td><td class="col2 leftalign"> k,s      </td><td class="col3 leftalign"> <a href="/toh/cloud_engines/pogoplugpro" class="wikilink1" title="toh:cloud_engines:pogoplugpro" data-wiki-id="toh:cloud_engines:pogoplugpro">pogoplugpro</a>                </td>
	</tr>
	<tr class="row4">
		<td class="col0 leftalign"> kd20           </td><td class="col1 leftalign"> Shuttle OMNINAS KD20                                 </td><td class="col2 leftalign"> i        </td><td class="col3 leftalign"> <a href="/toh/shuttle/kd20" class="wikilink1" title="toh:shuttle:kd20" data-wiki-id="toh:shuttle:kd20">kd20</a>                            </td>
	</tr>
	<tr class="row5">
		<td class="col0 leftalign"> ch3hnas2       </td><td class="col1 leftalign"> Conceptronic CH3HNAS2                                </td><td class="col2 leftalign"> 0        </td><td class="col3 leftalign">                                                 </td>
	</tr>
	<tr class="row6">
		<td class="col0 leftalign"> em4172         </td><td class="col1 leftalign"> Eminent EM4172 / Akitio MyCloud Duo                  </td><td class="col2 leftalign"> 0        </td><td class="col3 leftalign">                                                 </td>
	</tr>
	<tr class="row7">
		<td class="col0 leftalign"> hmnhdce        </td><td class="col1 leftalign"> iomega Home Media Network Hard Drive Cloud Edition   </td><td class="col2 leftalign"> 0        </td><td class="col3 leftalign">                                                 </td>
	</tr>
	<tr class="row8">
		<td class="col0 leftalign"> akitio         </td><td class="col1 leftalign"> Silverstone DC01 / Akitio MyCloud mini               </td><td class="col2 leftalign"> s        </td><td class="col3 leftalign">                                                 </td>
	</tr>
	<tr class="row9">
		<td class="col0 leftalign"> voyager        </td><td class="col1 leftalign"> Corsair Voyager Air                                  </td><td class="col2 leftalign"> 0        </td><td class="col3 leftalign">                                                 </td>
	</tr>
</table></div>
<!-- EDIT{&quot;target&quot;:&quot;table&quot;,&quot;name&quot;:&quot;&quot;,&quot;hid&quot;:&quot;table1&quot;,&quot;secid&quot;:9,&quot;range&quot;:&quot;4139-5490&quot;} -->
</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Supported boards\/devices&quot;,&quot;hid&quot;:&quot;supported_boardsdevices&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:8,&quot;range&quot;:&quot;3865-5491&quot;} -->
<h2 class="sectionedit10" id="devices">Devices</h2>
<div class="level2">

<p>
The list of related devices:
<a href="/toh/views/toh_dev_arch-target-cpu?dataflt[Target_target*~]=oxnas" class="wikilink1" title="toh:views:toh_dev_arch-target-cpu" data-wiki-id="toh:views:toh_dev_arch-target-cpu">ToH:oxnas</a>
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Devices&quot;,&quot;hid&quot;:&quot;devices&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:10,&quot;range&quot;:&quot;5492-&quot;} -->