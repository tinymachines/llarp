
<h1 class="sectionedit1" id="openwrt_image_conversion">OpenWrt image conversion</h1>
<div class="level1">

<p>
If you wish to upgrade your firmware from OpenWrt without resetting to stock first then you might get:
</p>
<pre class="code">The uploaded image file does not contain a supported format. Make sure that you choose the generic image format for your platform.</pre>

<p>
<code>.bin</code> files are for flashing from a stock firmware.  <code>.trx</code> files are for flashing from OpenWrt.  To convert from <code>.bin</code> to <code>.trx</code>, strip the 32-byte header from the <code>.bin</code> file:
</p>
<pre class="code">dd if=openwrt-10.03.1-brcm47xx-wrt150n-squashfs.bin bs=32 skip=1 of=openwrt-10.03.1-brcm47xx-wrt150n-squashfs.trx</pre>

<p>
IMPORTANT: Verify that the output file is only 32 bytes smaller than the input file and that the <code>.trx</code> file begins with <code>HDR0</code>:
</p>
<pre class="code">hd /tmp/openwrt-10.03.1-brcm47xx-wrt150n-squashfs.trx | head</pre>

<p>
NOTE: However, the <code>.trx</code> file that is offered for download is identical to the file that you produce with <code>dd</code>, so use the official <code>.trx</code> instead of this method if possible!
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;OpenWrt image conversion&quot;,&quot;hid&quot;:&quot;openwrt_image_conversion&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:1,&quot;range&quot;:&quot;1-966&quot;} -->
<h2 class="sectionedit2" id="devices">Devices</h2>
<div class="level2">

<p>
The list of related devices:
<a href="/tag/bcm47xx?do=showtag&amp;tag=bcm47xx" class="wikilink1 tag label label-default mx-1" title="tag:bcm47xx" rel="tag"><span class="iconify"  data-icon="mdi:tag-text-outline"></span> bcm47xx</a>
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Devices&quot;,&quot;hid&quot;:&quot;devices&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:2,&quot;range&quot;:&quot;967-&quot;} -->