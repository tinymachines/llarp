
<h1 class="sectionedit1" id="serial_console">Serial Console</h1>
<div class="level1">

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Serial Console&quot;,&quot;hid&quot;:&quot;serial_console&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:1,&quot;range&quot;:&quot;1-29&quot;} -->
<h2 class="sectionedit2" id="overview">Overview</h2>
<div class="level2">

<p>
Most people get along without a serial console for their device because they&#039;re able to flash a working firmware the first time - or are able to apply various recovery methods - and do all their communicating with the device over a network.  However, some bootloaders don&#039;t have a <em>“really</em> failsafe” network re-flash feature, making a serial console one of the few ways to recover from a “bad flash” or an error in a user&#039;s own configuration.
</p>

<p>
Most devices supported by OpenWrt have or can be modified to have a serial port. These serial ports typically provide a console to the bootloader and, when the firmware has booted, a console to the running system. A console to the running system will let you correct a misconfigured network, for example. Console access to the bootloader will often allow one to fetch and flash new firmware and may be the only way to do so on some routers if the firmware is not functional. 
</p>

<p>
Enabling a serial port, if there is not one already available on the case, typically involves opening the case and basic soldering skills. The cost of components is relatively low; a 10-euro/dollar project if one uses “eBay-grade” parts (which are likely sufficient). If one wishes a more permanent installation, mechanical skills in modifying the case may also be needed.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Overview&quot;,&quot;hid&quot;:&quot;overview&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:2,&quot;range&quot;:&quot;30-1348&quot;} -->
<h2 class="sectionedit3" id="about_a_serial_port">About a Serial Port</h2>
<div class="level2">

<p>
Most routers come with an <a href="https://en.wikipedia.org/wiki/Universal asynchronous receiver/transmitter" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/Universal asynchronous receiver/transmitter">UART</a> integrated into the <a href="/docs/techref/hardware/soc" class="wikilink1" title="docs:techref:hardware:soc" data-wiki-id="docs:techref:hardware:soc">System-on-chip</a> and its pins are routed on the <a href="https://en.wikipedia.org/wiki/Printed circuit board" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/Printed circuit board">Printed Circuit Board (PCB)</a> to allow debugging, firmware replacement or serial device connection (like modems). 
</p>

<p>
Typically, a router first starts its “permanent” <a href="/docs/techref/bootloader" class="wikilink1" title="docs:techref:bootloader" data-wiki-id="docs:techref:bootloader">bootloader</a> which is responsible for the first steps of finding the OpenWrt firmware and starting OpenWrt running. During these early phases, the bootloader often gives information over the serial port and can respond to its own set of commands. These commands are not “OpenWrt” commands, but ones pre-programmed into the bootloader. Details on these commands can often be found on the device-specific pages on the OpenWrt wiki.
</p>

<p>
Once OpenWrt starts running, it is generally possible to enter failsafe mode with a terminal program attached to the serial port. Either in failsafe mode, or with OpenWrt running in normal mode, it is generally possible to enter commands the same way one would if using ssh over a network. One advantage is that if you&#039;ve somehow configured your router so that the network or ssh isn&#039;t working, you can still access your router to manage it.
</p>

<p>
While a functional serial port can&#039;t protect you from a damaged bootloader or other low-level problems, it can be used to resolve many user-configuration errors, including, with luck, when the cat pulled the plug on your router as you were flashing it:-/
</p>

<p>
For low-level developers, or those that choose to flash their own bootloader, accessing the <a href="/docs/techref/hardware/port.jtag" class="wikilink1" title="docs:techref:hardware:port.jtag" data-wiki-id="docs:techref:hardware:port.jtag">JTAG</a> port may be the next step, as the serial port requires functional software (either the bootloader or a running system) to be useful. JTAG access falls into the realm of expert use. It is mentioned here mainly as a reminder that flashing a bootloader, no matter how many have been successful before you, is a risky endeavor that a serial port may not allow recovery from errors.
</p>
<ul>
<li class="level1 node"><div class="li"> → <a href="/docs/techref/hardware/port.serial" class="wikilink1" title="docs:techref:hardware:port.serial" data-wiki-id="docs:techref:hardware:port.serial">port.serial</a> (this article)</div>
<ul>
<li class="level2"><div class="li"> → <a href="/docs/techref/hardware/port.serial.cables" class="wikilink1" title="docs:techref:hardware:port.serial.cables" data-wiki-id="docs:techref:hardware:port.serial.cables">port.serial.cables</a> (homemade cables)</div>
</li>
<li class="level2 node"><div class="li"> → <a href="/docs/techref/hardware/port.serial.utilization" class="wikilink2" title="docs:techref:hardware:port.serial.utilization" rel="nofollow" data-wiki-id="docs:techref:hardware:port.serial.utilization">port.serial.utilization</a></div>
<ul>
<li class="level3"><div class="li"> → <a href="/docs/guide-user/troubleshooting/generic.debrick" class="wikilink1" title="docs:guide-user:troubleshooting:generic.debrick" data-wiki-id="docs:guide-user:troubleshooting:generic.debrick">generic.debrick</a> there is content on utilizing JTAG  (link to it or from it, don&#039;t leave double content!)</div>
</li>
<li class="level3"><div class="li"> → <a href="/docs/techref/bootloader" class="wikilink1" title="docs:techref:bootloader" data-wiki-id="docs:techref:bootloader">bootloader</a></div>
</li>
<li class="level3"><div class="li"> → <a href="/docs/techref/bootloader/uboot" class="wikilink1" title="docs:techref:bootloader:uboot" data-wiki-id="docs:techref:bootloader:uboot">uboot</a></div>
</li>
<li class="level3"><div class="li"> → <a href="/docs/techref/bootloader/uboot.config" class="wikilink1" title="docs:techref:bootloader:uboot.config" data-wiki-id="docs:techref:bootloader:uboot.config">uboot.config</a></div>
</li>
</ul>
</li>
</ul>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;plugin_include_start&quot;,&quot;name&quot;:&quot;meta:infobox:cleanup&quot;,&quot;hid&quot;:&quot;&quot;,&quot;secid&quot;:4,&quot;range&quot;:&quot;0-&quot;} --><div class="plugin_include_content plugin_include__meta:infobox:cleanup" id="plugin_include__meta__infobox__cleanup">
<div class="level2">
<!-- EDIT{&quot;target&quot;:&quot;plugin_wrap_start&quot;,&quot;hid&quot;:&quot;&quot;,&quot;secid&quot;:6,&quot;range&quot;:&quot;0-&quot;} --><div class="wrap_center wrap_cleanup plugin_wrap" style="width: 70%;">
<p>
<strong>Cleanup Required!</strong><br/>

This page or section needs cleanup. You can edit this page to fix wiki markup, redundant content or outdated information. 
</p>
</div><!-- EDIT{&quot;target&quot;:&quot;plugin_wrap_end&quot;,&quot;hid&quot;:&quot;&quot;,&quot;secid&quot;:7,&quot;range&quot;:&quot;0-&quot;} -->
</div>
<!-- EDIT{&quot;target&quot;:&quot;plugin_include_end&quot;,&quot;name&quot;:&quot;meta:infobox:cleanup&quot;,&quot;hid&quot;:&quot;&quot;,&quot;secid&quot;:5,&quot;range&quot;:&quot;0-&quot;} --></div>
<div class="level2">

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;About a Serial Port&quot;,&quot;hid&quot;:&quot;about_a_serial_port&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:3,&quot;range&quot;:&quot;1349-3946&quot;} -->
<h2 class="sectionedit8" id="router_serial_connector_portspoints">Router Serial Connector Ports / Points</h2>
<div class="level2">

<p>
All <a href="/docs/techref/hardware/soc" class="wikilink1" title="docs:techref:hardware:soc" data-wiki-id="docs:techref:hardware:soc">soc</a>s have some sort of <a href="https://en.wikipedia.org/wiki/Universal asynchronous receiver/transmitter" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/Universal asynchronous receiver/transmitter">UART</a>. Depending on the model, the device&#039;s serial port could be available
</p>
<ul>
<li class="level1"><div class="li"> as a 9-pin D connector accessible from the exterior of the case, </div>
</li>
<li class="level1"><div class="li"> as pin headers on the PCB,</div>
</li>
<li class="level1"><div class="li"> as unpopulated holes in the PCB.</div>
</li>
</ul>

<p>
For help with the latter two, see <a href="/docs/techref/hardware/soldering" class="wikilink1" title="docs:techref:hardware:soldering" data-wiki-id="docs:techref:hardware:soldering">soldering</a>. But even if there is 9-pin D connector, beware the Voltage levels! While some may refer to this as an RS-232 or RS-422 interface, in most cases the voltage levels associated with those specifications are inappropriate and may permanently damage your router.
</p>

<p>
Also, in many modern devices you will only have 3-5 pins or holes, and that would be a <abbr title="Time To Live">TTL</abbr> serial connection, requiring a <abbr title="Time To Live">TTL</abbr>-USB dongle, which can be bought for real cheap from ebay or Amazon or any reputable DIY electronics seller as they are used to communicate with Arduino boards and other microcontroller-based IoT development boards.
</p>

<p>
Hint: In case of unpopulated holes in the shape of a SubD9, try fitting the pins from a disassembled SubD9 male plug into the holes instead of soldering the cable directly to the board. Fit perfectly on unbricked Asus and TP-Link routers and leaves no trace. 
</p>

<p>
If the serial port is not readily accessible from the exterior of the device enclosure (which is common), you have some choices:
</p>
<ul>
<li class="level1 node"><div class="li"> modify the enclosure, either to allow passage of a cable or to attach a convenient connector, e.g.:</div>
<ul>
<li class="level2"><div class="li"> a 9-pin D connector (this is a good choice if you are going to build a level-shifter into the interior of the enclosure, so as to provide a standard +/- 12V interface externally);</div>
</li>
<li class="level2"><div class="li"> a 1/8-inch stereo headphone jack (this is a good choice if you are simply bringing the lines to the exterior)</div>
</li>
</ul>
</li>
<li class="level1 node"><div class="li"> open the case to attach to header pins or holes, as needed, this is a good choice if:</div>
<ul>
<li class="level2"><div class="li"> opening the enclosure is easy;</div>
</li>
<li class="level2"><div class="li"> access to the serial port is needed only very occasionally; and/or</div>
</li>
<li class="level2"><div class="li"> you have many devices you would rather not modify.</div>
</li>
</ul>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Router Serial Connector Ports \/ Points&quot;,&quot;hid&quot;:&quot;router_serial_connector_portspoints&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:8,&quot;range&quot;:&quot;3947-5997&quot;} -->
<h2 class="sectionedit9" id="serial_modes">Serial modes</h2>
<div class="level2">

<p>
Sometimes by shortcutting some pins, connecting them to ground or to power you can change the serial mode. Some of them can help you to restore the bootloader since they allow you to write directly to memory or load something to ram through the serial connection, which can be useful for restoring a bootloader. Also if the original bootloader is password protected with this method you can replace it with a custom bootloader and bypass it.
</p>

<p>
For example in <a href="/docs/techref/hardware/soc/soc.lantiq#boot" class="wikilink1" title="docs:techref:hardware:soc:soc.lantiq" data-wiki-id="docs:techref:hardware:soc:soc.lantiq">Lantiq Danube SoCs</a> the default mode is CFG 01, but changing to CFG 04 which is known as UART mode allows you to upload to ram through the serial connection and automatically execute a bootloader in ascii format through the serial connection.
</p>

<p>
It is recommended that you don&#039;t try blindly to shortcut or connect to anything the pins as it can brick the device. Find documentation before doing anything.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Serial modes&quot;,&quot;hid&quot;:&quot;serial_modes&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:9,&quot;range&quot;:&quot;5998-6929&quot;} -->
<h2 class="sectionedit10" id="voltage_levels">Voltage levels</h2>
<div class="level2">

</div>
<!-- EDIT{&quot;target&quot;:&quot;plugin_include_start&quot;,&quot;name&quot;:&quot;meta:infobox:dangerous&quot;,&quot;hid&quot;:&quot;&quot;,&quot;secid&quot;:11,&quot;range&quot;:&quot;0-&quot;} --><div class="plugin_include_content plugin_include__meta:infobox:dangerous" id="plugin_include__meta__infobox__dangerous">
<div class="level2">
<!-- EDIT{&quot;target&quot;:&quot;plugin_wrap_start&quot;,&quot;hid&quot;:&quot;&quot;,&quot;secid&quot;:13,&quot;range&quot;:&quot;0-&quot;} --><div class="wrap_center wrap_dangerous plugin_wrap" style="width: 70%;">
<p>
<strong>Warning!</strong><br/>

This section describes actions that might damage your device or firmware. Proceed with care!
</p>
</div><!-- EDIT{&quot;target&quot;:&quot;plugin_wrap_end&quot;,&quot;hid&quot;:&quot;&quot;,&quot;secid&quot;:14,&quot;range&quot;:&quot;0-&quot;} -->
</div>
<!-- EDIT{&quot;target&quot;:&quot;plugin_include_end&quot;,&quot;name&quot;:&quot;meta:infobox:dangerous&quot;,&quot;hid&quot;:&quot;&quot;,&quot;secid&quot;:12,&quot;range&quot;:&quot;0-&quot;} --></div>
<div class="level2">
<div class="table sectionedit15"><table class="inline">
	<tr class="row0">
		<td class="col0"><img src="/_media/meta/icons/tango/48px-dialog-warning.svg.png" class="media" loading="lazy" alt="" /></td><td class="col1"> <strong>Caution:</strong> Very few devices have standard <a href="https://en.wikipedia.org/wiki/RS-232" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/RS-232">RS-232</a> +/- 12V serial ports, but in many OpenWrt-supported devices the serial ports operate at <abbr title="Time To Live">TTL</abbr> voltage (sometimes 5V, most often 3.3V) levels, meaning you cannot use a standard serial or USB to serial cable: it will fry your board. Buy a USB-<abbr title="Time To Live">TTL</abbr> dongle instead, it will still show up as serial port in your computer, but it will be able to safely communicate with your OpenWrt device </td>
	</tr>
</table></div>
<!-- EDIT{&quot;target&quot;:&quot;table&quot;,&quot;name&quot;:&quot;&quot;,&quot;hid&quot;:&quot;table&quot;,&quot;secid&quot;:15,&quot;range&quot;:&quot;7018-7517&quot;} -->
<p>
In order for the serial console to work, the logic levels on the wires should match those expected by your device.  The first step therefore is to determine which voltage levels are required.  Often, you can find this documented on the OpenWrt wiki or elsewhere.  If you can&#039;t determine the voltage based on a clear description in the OpenWrt page for your device or your own knowledge of electronics, you should probably stop here until you are reasonably certain of the voltage levels required.
</p>

<p>
In case your device is using a <abbr title="Time To Live">TTL</abbr> connection or what seems to be a <abbr title="Time To Live">TTL</abbr> connection, you can try to find out by trial and error, at the risk of burning the USB-<abbr title="Time To Live">TTL</abbr> dongle or to damage the OpenWrt device.
</p>

<p>
Start by identifying the power wire (i.e. the wire carrying the 5V or 3.3 volt) and the ground pin with a multimeter on the 3-5 pin or holes in the board. The live pin should be labeled “1”, or “vcc” or have other signs that identify it as first pin.
</p>

<p>
You can then proceed to connect the ground pin to your dongle, and then try to connect the other two pins (data pins) randomly and trying different serial settings on your terminal. 
</p>

<p>
Reversing Rx and Tx will not damage anything (it may will result in garbled text on your terminal), as long as the pins or holes are indeed a <abbr title="Time To Live">TTL</abbr> port. If it is not a <abbr title="Time To Live">TTL</abbr> port then you could probably damage your OpenWrt device, or (more commonly) burn the USB-<abbr title="Time To Live">TTL</abbr> dongle. 
</p>

<p>
<strong>DO NOT connect the voltage output pin</strong> (usually the 3.3 or 5V one) to your USB-<abbr title="Time To Live">TTL</abbr> dongle as that could damage the dongle or device. It&#039;s not required by the vast majority of dongles (<em>except</em> optically or digitally isolated types which explicitly require voltage inputs “VIN” - these are rare and often expensive - if you&#039;re not sure, then you almost certainly don&#039;t have one of these) since they are USB-powered and typically have the input signal voltage levels fixed (usually at 3.3v) or selectable by a jumper on the adapter board.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Voltage levels&quot;,&quot;hid&quot;:&quot;voltage_levels&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:10,&quot;range&quot;:&quot;6930-9473&quot;} -->
<h3 class="sectionedit16" id="multimeter_method">Multimeter method</h3>
<div class="level3">

</div>

<h4 id="voltmeter">Voltmeter</h4>
<div class="level4">

<p>
Use a voltmeter and measure voltages if board pin layout is unknown, for savety not damaging USB-<abbr title="Time To Live">TTL</abbr>:
</p>
<div class="table sectionedit17"><table class="inline">
	<tr class="row0">
		<td class="col0">GND</td><td class="col1">to</td><td class="col2">3.3V (VCC)</td><td class="col3">→3.3V</td>
	</tr>
	<tr class="row1">
		<td class="col0">3.3V (VCC)</td><td class="col1">to</td><td class="col2">RX</td><td class="col3">→0.0V</td>
	</tr>
	<tr class="row2">
		<td class="col0">3.3V (VCC)</td><td class="col1">to</td><td class="col2">TX</td><td class="col3">→0.0V</td>
	</tr>
	<tr class="row3">
		<td class="col0">GND</td><td class="col1">to</td><td class="col2">RX</td><td class="col3">→3.3V</td>
	</tr>
	<tr class="row4">
		<td class="col0">GND</td><td class="col1">to</td><td class="col2">TX</td><td class="col3">→3.3V</td>
	</tr>
	<tr class="row5">
		<td class="col0">RX</td><td class="col1">to</td><td class="col2">TX</td><td class="col3">→0.0V</td>
	</tr>
</table></div>
<!-- EDIT{&quot;target&quot;:&quot;table&quot;,&quot;name&quot;:&quot;&quot;,&quot;hid&quot;:&quot;table1&quot;,&quot;secid&quot;:17,&quot;range&quot;:&quot;9626-9760&quot;} --><div class="table sectionedit18"><table class="inline">
	<tr class="row0">
		<td class="col0"><strong>FritzBox 7320</strong></td><td class="col1"><strong>3.3V</strong> (VCC)</td><td class="col2"><strong>RX</strong></td><td class="col3"><strong>TX</strong></td><td class="col4"><strong>GND</strong></td>
	</tr>
	<tr class="row1">
		<td class="col0">Board</td><td class="col1">square</td><td class="col2">circle</td><td class="col3">circle</td><td class="col4">circle</td>
	</tr>
	<tr class="row2">
		<td class="col0" colspan="2"><a href="/docs/techref/hardware/port.serial.cables#prebuilt_cables" class="wikilink1" title="docs:techref:hardware:port.serial.cables" data-wiki-id="docs:techref:hardware:port.serial.cables">Siemens Data Cable (PL2303)</a></td><td class="col2">white</td><td class="col3">blue</td><td class="col4">black</td>
	</tr>
</table></div>
<!-- EDIT{&quot;target&quot;:&quot;table&quot;,&quot;name&quot;:&quot;&quot;,&quot;hid&quot;:&quot;table2&quot;,&quot;secid&quot;:18,&quot;range&quot;:&quot;9762-9963&quot;} -->
</div>

<h4 id="ohmmeter">Ohmmeter</h4>
<div class="level4">

<p>
Electrical resistance between pins should be measured while the board is not powered.
</p>

<p>
Different hardware has different measured resistances between GND and other pins.
However, there is often a common pattern as follows:
</p>
<div class="table sectionedit19"><table class="inline">
	<tr class="row0">
		<td class="col0">Smallest to Largest Ohm</td><td class="col1">Ranges</td>
	</tr>
	<tr class="row1">
		<td class="col0">GND to GND</td><td class="col1"> 0</td>
	</tr>
	<tr class="row2">
		<td class="col0">GND to VCC</td><td class="col1"> 5k ~ 200k </td>
	</tr>
	<tr class="row3">
		<td class="col0">GND to TX</td><td class="col1"> 8k ~ 2M </td>
	</tr>
	<tr class="row4">
		<td class="col0">GND to RX</td><td class="col1"> 10k ~ 8M </td>
	</tr>
</table></div>
<!-- EDIT{&quot;target&quot;:&quot;table&quot;,&quot;name&quot;:&quot;&quot;,&quot;hid&quot;:&quot;table3&quot;,&quot;secid&quot;:19,&quot;range&quot;:&quot;10207-10325&quot;} -->
<p>
If you find something else, for example, that TX is shorted (0 Ohms) or that RX is open (OL = Open Line),
this may mean that there is a resistor connecting a pin to GND that must be removed,
or a resistor missing that is disconnecting the pin from the traces.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Multimeter method&quot;,&quot;hid&quot;:&quot;multimeter_method&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:16,&quot;range&quot;:&quot;9474-10587&quot;} -->
<h2 class="sectionedit20" id="talking_and_listening">Talking and Listening</h2>
<div class="level2">

<p>
You will need a terminal emulation program on your computer (aka: client-device), such as minicom, hyperterminal, etc to communicate with your router&#039;s serial port (aka: host-device&#039;s serial port) to talk-with &amp; listen-from router.  This type of terminal emulation programs are also known as: communication tool/app. These communication terminal emulation programs need to be configured, to be compatible with your router (host-device), in particular, with regard to baud rate and flow control.  If you are using only three wires (GND, TX, and RX) then hardware flow control should be turned off; you aren&#039;t using the pins (RTS and CTS) necessary for it to work. Rarely, the baud rate that the device expects <em>might</em> be different in the bootloader and the running firmware; if so, you&#039;ll need to modify the baud rate settings in your terminal emulator after the firmware boots up.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Talking and Listening&quot;,&quot;hid&quot;:&quot;talking_and_listening&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:20,&quot;range&quot;:&quot;10588-11505&quot;} -->
<h3 class="sectionedit21" id="name_of_serial_portdevice">Name of Serial Port/Device</h3>
<div class="level3">

<p>
Start a <a href="https://en.wikipedia.org/wiki/Comparison_of_command_shells" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/Comparison_of_command_shells">shell</a> instance/program, in.example: <a href="https://en.wikipedia.org/wiki/Bash_%2528Unix_shell%2529" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/Bash_%2528Unix_shell%2529">bash</a> shell, inside any one of the <a href="https://en.wikipedia.org/wiki/Tab_(interface)" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/Tab_(interface)">tab</a> of your <strong>shell manager</strong> software (aka: <a href="https://en.wikipedia.org/wiki/Terminal_emulator" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/Terminal_emulator">Terminal emulator</a> software, sometime aka: Command-line-interface(<a href="https://en.wikipedia.org/wiki/Command-line_interface" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/Command-line_interface">CLI</a>) software) provided by your operating system (aka: distro)<strong>,</strong> Or run your own preferred choice of shell inside your preferred choice of shell manager<strong>.</strong> Then run below command inside a shell.
</p>
<ul>
<li class="level1 node"><div class="li"> Example of few <strong>shell manager</strong> software / application<strong>:</strong> <a href="https://en.wikipedia.org/wiki/GNOME_Terminal" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/GNOME_Terminal">GNOME Terminal</a> in GNU-Linux <abbr title="Operating System">OS</abbr><strong>,</strong> <a href="https://en.wikipedia.org/wiki/Xterm" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/Xterm">Xterm</a> in Unix <abbr title="Operating System">OS</abbr> (or GNU-Linux <abbr title="Operating System">OS</abbr>)<strong>,</strong> <a href="https://en.wikipedia.org/wiki/Terminal_(macOS)" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/Terminal_(macOS)">Terminal</a> in macOS<strong>,</strong> <a href="https://en.wikipedia.org/wiki/Command_prompt" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/Command_prompt">Command Prompt</a> or <a href="https://en.wikipedia.org/wiki/Windows_Console" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/Windows_Console">Command Console</a> in Windows <abbr title="Operating System">OS</abbr><strong>,</strong> etc.</div>
<ul>
<li class="level2"><div class="li"> Note: as Windows do not support case-sensitive file-system, so options are: (1) create a case-sensitive file-system drive via Cygwin tools, &amp; use <code>bash</code> shell for it, or (2) run a Debian/Ubuntu/Fedora GNU-Linux inside/under a Windows-Sub-System-for-Linux, then inside that GNU-Linux you can use <code>GNOME Terminal</code> to do build related works.</div>
</li>
</ul>
</li>
</ul>

<p>
To view list of all serial/TTY devices in GNU-Linux distros:<sup><a href="https://stackoverflow.com/questions/2530096/" class="urlextern" title="https://stackoverflow.com/questions/2530096/" rel="ugc nofollow">1</a></sup><br/>

</p>
<ul>
<li class="level1 node"><div class="li"> <pre class="code bash">ll <span class="sy0">/</span>sys<span class="sy0">/</span>class<span class="sy0">/</span>tty</pre>
</div>
<ul>
<li class="level2"><div class="li"> To view list of all USB based serial/TTY devices: <pre class="code bash">ll <span class="sy0">/</span>sys<span class="sy0">/</span>class<span class="sy0">/</span>tty<span class="sy0">/*/</span>device<span class="sy0">/</span>driver</pre>
</div>
</li>
</ul>
</li>
</ul>

<p>
To view list of all serial/TTY devices in macOS:<sup><a href="https://stackoverflow.com/questions/3815211/" class="urlextern" title="https://stackoverflow.com/questions/3815211/" rel="ugc nofollow">1</a></sup><br/>

</p>
<ul>
<li class="level1"><div class="li"> <pre class="code bash"><span class="kw2">ls</span> <span class="sy0">/</span>dev<span class="sy0">/</span><span class="br0">&#123;</span>tty,cu<span class="br0">&#125;</span>.<span class="sy0">*</span></pre>
</div>
</li>
</ul>

<p>
Some <abbr title="Graphical User Interface">GUI</abbr> based terminal emulation software can also show all serial/parallel port list.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Name of Serial Port\/Device&quot;,&quot;hid&quot;:&quot;name_of_serial_portdevice&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:21,&quot;range&quot;:&quot;11506-13265&quot;} -->
<h3 class="sectionedit22" id="terminal_emulation_software">Terminal emulation software</h3>
<div class="level3">

<p>
<a href="https://en.wikipedia.org/wiki/Terminal_emulator" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/Terminal_emulator">Terminal emulation software</a> can interact with users via <abbr title="Graphical User Interface">GUI</abbr><sup><a href="https://en.wikipedia.org/wiki/Graphical_user_interface" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/Graphical_user_interface">1</a></sup>, TUI<sup><a href="https://en.wikipedia.org/wiki/Text-based_user_interface" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/Text-based_user_interface">1</a></sup>, or CLI<sup><a href="https://en.wikipedia.org/wiki/Command-line_interface" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/Command-line_interface">1</a></sup> interface. Some terminal emulator software are specially programed/developed, to allow us communicate with remote device/terminal or local device/terminal or responder, so also known as: <strong>Communication tool</strong>. Some of such specially developed (communication) software/tool/app has its own <abbr title="Graphical User Interface">GUI</abbr> interface, and some (communication) software/tool/app needs to run inside/under a running <a href="https://en.wikipedia.org/wiki/Comparison_of_command_shells" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/Comparison_of_command_shells">shell</a>.
</p>

<p>
<strong>GNU-Linux/Posix:<sup><a href="https://en.wikipedia.org/wiki/POSIX" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/POSIX">1</a></sup></strong>
</p>
<ul>
<li class="level1"><div class="li"> <a href="http://man.cx/screen" class="interwiki iw_man" title="http://man.cx/screen">screen</a>: the most simple, it runs inside a CLI shell. example command: <pre class="code bash"><span class="kw2">screen</span> <span class="sy0">/</span>dev<span class="sy0">/</span>ttyUSB0 <span class="nu0">115200</span></pre>

<p>
 sometimes needs manual configuration, try picocom or another software if you have any troubles
</p>
</div>
</li>
<li class="level1"><div class="li"> <a href="http://man.cx/picocom" class="interwiki iw_man" title="http://man.cx/picocom">picocom</a>: it runs inside a CLI shell. example command: <pre class="code bash">picocom <span class="re5">-b</span> <span class="nu0">115200</span> <span class="sy0">/</span>dev<span class="sy0">/</span>ttyUSB0</pre>

<p>
 if you need to send uboot.asc files via serial.  once connected you can open another terminal to send boot code as follows 
</p>
<pre class="code bash"><span class="kw2">cat</span> openwrt-lantiq-ram-u-boot.asc <span class="sy0">&gt;</span> <span class="sy0">/</span>dev<span class="sy0">/</span>ttyUSB0</pre>
</div>
</li>
<li class="level1"><div class="li"> <a href="https://gitlab.com/cutecom/cutecom" class="urlextern" title="https://gitlab.com/cutecom/cutecom" rel="ugc nofollow">CuteCom</a> with a friendly Qt5 <abbr title="Graphical User Interface">GUI</abbr>. Old Qt4 <abbr title="Graphical User Interface">GUI</abbr> → <a href="http://cutecom.sourceforge.net/" class="urlextern" title="http://cutecom.sourceforge.net/" rel="ugc nofollow">CuteCom</a></div>
</li>
<li class="level1"><div class="li"> <a href="http://man.cx/Minicom" class="interwiki iw_man" title="http://man.cx/Minicom">Minicom</a> (for POSIX systems), it runs inside a CLI shell.</div>
</li>
<li class="level1"><div class="li"> <a href="http://man.cx/kermit" class="interwiki iw_man" title="http://man.cx/kermit">kermit</a>, a mature terminal emulator, it runs inside a CLI shell.</div>
</li>
<li class="level1"><div class="li"> <a href="http://man.cx/cu" class="interwiki iw_man" title="http://man.cx/cu">cu</a> (part of the Taylor UUCP package, for POSIX systems), it runs inside a CLI shell.</div>
</li>
<li class="level1"><div class="li"> <a href="https://github.com/tio/tio" class="urlextern" title="https://github.com/tio/tio" rel="ugc nofollow">tio</a> (Mac and Linux) it runs inside a CLI shell.</div>
</li>
<li class="level1"><div class="li"> <a href="http://www.chiark.greenend.org.uk/~sgtatham/putty/" class="urlextern" title="http://www.chiark.greenend.org.uk/~sgtatham/putty/" rel="ugc nofollow">Putty</a>, uses both <abbr title="Graphical User Interface">GUI</abbr> &amp; CLI.</div>
</li>
</ul>
<!-- EDIT{&quot;target&quot;:&quot;plugin_wrap_start&quot;,&quot;hid&quot;:&quot;&quot;,&quot;secid&quot;:23,&quot;range&quot;:&quot;0-&quot;} --><div class="wrap_center wrap_round wrap_info plugin_wrap" style="width: 60%;">
<p>
Under a Desktop <abbr title="Operating System">OS</abbr> Linux distro the access to the serial adapter requires root permissions. We can override this behavior by making an udev rule. Create the file <code>/etc/udev/rules.d/60-ttyUSBx.rules</code> with this content:
</p>
<pre class="code bash"><span class="re2">KERNEL</span>==<span class="st0">&quot;ttyUSB[0-9]&quot;</span>,              <span class="re2">MODE</span>=<span class="st0">&quot;0666&quot;</span></pre>

<p>
This way you can access to USB UART device as a normal user.
</p>
</div><!-- EDIT{&quot;target&quot;:&quot;plugin_wrap_end&quot;,&quot;hid&quot;:&quot;&quot;,&quot;secid&quot;:24,&quot;range&quot;:&quot;0-&quot;} -->
<p>
<strong>Windows:</strong>
</p>
<ul>
<li class="level1"><div class="li"> Hyperterm (comes with many versions of MS Windows)</div>
</li>
<li class="level1"><div class="li"> <a href="https://es.osdn.net/projects/ttssh2/" class="urlextern" title="https://es.osdn.net/projects/ttssh2/" rel="ugc nofollow">Tera Term</a></div>
</li>
<li class="level1"><div class="li"> <a href="http://www.chiark.greenend.org.uk/~sgtatham/putty/" class="urlextern" title="http://www.chiark.greenend.org.uk/~sgtatham/putty/" rel="ugc nofollow">Putty</a> v0.59 or newer (now with serial console support!)</div>
</li>
<li class="level1"><div class="li"> <a href="https://sites.google.com/site/terminalbpp/" class="urlextern" title="https://sites.google.com/site/terminalbpp/" rel="ugc nofollow">Bray&#039;s Terminal</a></div>
</li>
<li class="level1"><div class="li"> <a href="http://www.vandyke.com/products/securecrt/" class="urlextern" title="http://www.vandyke.com/products/securecrt/" rel="ugc nofollow">Vandyke SecureCRT</a> (commercial but very good)</div>
</li>
<li class="level1"><div class="li"> <a href="https://www.eltima.com/products/serial-over-ethernet/" class="urlextern" title="https://www.eltima.com/products/serial-over-ethernet/" rel="ugc nofollow">Serial to Ethernet Connector</a> (access remote COM port over Network)</div>
</li>
</ul>

<p>
<strong>Other:</strong>
</p>
<ul>
<li class="level1"><div class="li"> Pocketterm  (for Palm PDAs)</div>
</li>
<li class="level1"><div class="li"> <a href="http://www.gnu.org/software/screen/" class="urlextern" title="http://www.gnu.org/software/screen/" rel="ugc nofollow">GNU Screen</a> (available on most OSes, including Windows (via cygwin<sup><a href="https://www.cygwin.com/" class="urlextern" title="https://www.cygwin.com/" rel="ugc nofollow">1</a></sup> pkg-mngr)) can connect to a serial device. The format is: <pre class="code bash"><span class="kw2">screen</span> <span class="br0">&#123;</span>path to device<span class="br0">&#125;</span> <span class="br0">&#123;</span>baud rate<span class="br0">&#125;</span>,<span class="br0">&#123;</span>options<span class="br0">&#125;</span></pre>

<p>
A common set of options (for setting 8N1) is <code>cs8,-parenb,-cstopb</code>. For example, to connect to an Asus WL-520GU (115200 baud, 8N1) with a USB-serial adapter on OSX: 
</p>
<pre class="code bash"><span class="kw2">screen</span> <span class="sy0">/</span>dev<span class="sy0">/</span>tty.SLAB_USBtoUART <span class="nu0">115200</span>,-parenb,-cstopb,cs8</pre>

<p>
The command on GNU-Linux is the same with a different device path. For other routers, you may need to adjust the speed and options.
</p>
</div>
</li>
<li class="level1 node"><div class="li"> macOS has builtin posix compliant layer (aka: support), so CLI tool <code>Terminal</code> can run <code>screen</code>, <code>picocom</code>, etc communication tools mentioned above.</div>
<ul>
<li class="level2 node"><div class="li"> picocom performs better in macOS:</div>
<ul>
<li class="level3"><div class="li"> obtain it via <code>Macports</code>: <pre class="code bash"><span class="kw2">sudo</span> port <span class="kw2">install</span> picocom</pre>
</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Terminal emulation software&quot;,&quot;hid&quot;:&quot;terminal_emulation_software&quot;,&quot;codeblockOffset&quot;:3,&quot;secid&quot;:22,&quot;range&quot;:&quot;13266-16964&quot;} -->
<h3 class="sectionedit25" id="use_your_old_pda_as_a_console">Use your old PDA as a console</h3>
<div class="level3">

<p>
Since many older PDAs (e.g. Palm series) have <abbr title="Time To Live">TTL</abbr> serial connections already, you can use them to get a direct serial connection to the router.
</p>

<p>
Solder the RX, TX, and ground (but <strong>never</strong> Vcc) <abbr title="Time To Live">TTL</abbr>-level connectors on the OpenWrt box to the PDA&#039;s <abbr title="Time To Live">TTL</abbr> level serial connectors.
</p>

<p>
Example: Palm IIIc, <a href="http://www.neophob.com/serendipity/index.php?url=archives/121-Reuse-your-old-Palm-as-Serial-Console.html" class="urlextern" title="http://www.neophob.com/serendipity/index.php?url=archives/121-Reuse-your-old-Palm-as-Serial-Console.html" rel="ugc nofollow">http://www.neophob.com/serendipity/index.php?url=archives/121-Reuse-your-old-Palm-as-Serial-Console.html</a>.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Use your old PDA as a console&quot;,&quot;hid&quot;:&quot;use_your_old_pda_as_a_console&quot;,&quot;codeblockOffset&quot;:10,&quot;secid&quot;:25,&quot;range&quot;:&quot;16965-17413&quot;} -->
<h3 class="sectionedit26" id="use_another_openwrt_router_as_a_console">Use another OpenWrt router as a console</h3>
<div class="level3">

<p>
First <a href="/docs/guide-user/hardware/terminate.console.on.serial" class="wikilink1" title="docs:guide-user:hardware:terminate.console.on.serial" data-wiki-id="docs:guide-user:hardware:terminate.console.on.serial">disable the console</a> in the router you want to use it as a serial console adapter and install screen in it. Connect to the target router the serial pins, and then execute screen in the first router:
</p>
<pre class="code">screen /dev/ttyS0 115200</pre>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Use another OpenWrt router as a console&quot;,&quot;hid&quot;:&quot;use_another_openwrt_router_as_a_console&quot;,&quot;codeblockOffset&quot;:10,&quot;secid&quot;:26,&quot;range&quot;:&quot;17414-17763&quot;} -->
<h2 class="sectionedit27" id="communicate_with_router">Communicate with router</h2>
<div class="level2">

<p>
Communicate with router from your computer/device.<br/>

Steps (in general)<strong>:</strong>
</p>
<ul>
<li class="level1"><div class="li"> Load driver software in your computer for the <a href="/docs/techref/hardware/port.serial.cables" class="wikilink1" title="docs:techref:hardware:port.serial.cables" data-wiki-id="docs:techref:hardware:port.serial.cables">serial cable/adapter</a>, that you will be using for communication in between your host-device (in this case: your router) and client-device (in this case: your computer).</div>
</li>
<li class="level1"><div class="li"> In your computer, configure or re-verify your communication tool&#039;s settings<strong>:</strong> baud rate, data bits, flow-control, etc. Please read <code>Talking and Listening</code> section in above.</div>
</li>
<li class="level1"><div class="li"> Find out serial port&#039;s exact name in your client-device, that is, your computer. See <code>Name of Serial Port/Device</code> section in above to find out which command you can use.</div>
</li>
<li class="level1"><div class="li"> First boot-up the router, wait 30 seconds, then connect the serial cable<sup><a href="https://en.wikipedia.org/wiki/Serial_cable" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/Serial_cable">1</a></sup>/adapter<sup><a href="https://en.wikipedia.org/wiki/Serial_communication" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/Serial_communication">1</a></sup>. <strong>Do not connect the <code>Vcc</code> or <code>V+</code> pin</strong>. (Disconnect Vcc/V+ pin from serial cable/adapter&#039;s side). Connect only these 3 pins: <code>GND</code>, <code>TX</code>, <code>RX</code> pins<sup><a href="https://en.wikipedia.org/wiki/Universal_asynchronous_receiver-transmitter" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/Universal_asynchronous_receiver-transmitter">1</a></sup>.  Router&#039;s serial (UART) port&#039;s <code>TX</code> pin connection need to go into your serial cable/adapter&#039;s <code>RX</code> pin, and router&#039;s <code>RX</code> pin needs to be connected with <code>TX</code> pin of your serial cable/adapter, and router&#039;s <code>GND</code> pin connects with <code>GND</code> pin of serial cable/adapter.  Your router will begin to prepare internal hardware configurations and then load an internal shell program inside the router, for serial interface/port communication.</div>
</li>
<li class="level1"><div class="li"> Run your preferred/choice of communication tool program (aka: Terminal emulation software, aka: Terminal software)<sup><a href="https://en.wikipedia.org/wiki/List_of_terminal_emulators" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/List_of_terminal_emulators">1</a></sup> in your computer.  Some communication tool needs to run inside a CLI or shell, you can use your <abbr title="Operating System">OS</abbr>/distro&#039;s shell-manager software (example: GNOME Terminal in GNU-Linux, Terminal in macOS, Xterm in Unix (or GNU-Linux), etc). Shell programs run under the shell-manager software. List of shell programs/tools are <a href="https://en.wikipedia.org/wiki/Comparison_of_command_shells" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/Comparison_of_command_shells">here</a>.  List of communication tools and commands are displayed few paragraphs above. More info on terminal emulators is <a href="https://en.wikipedia.org/wiki/Terminal_emulator" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/Terminal_emulator">here</a>.</div>
</li>
<li class="level1"><div class="li"> When you can view sensible alpha-numeric characters based output, (not garbled output), from your router (via serial cable/adapter connection) inside your communication tool program, and when your typed keys can appear inside communication tool (aka: Terminal emulation software), then that usually indicates connection&#039;s basic settings are correct &amp; working.  If not, then we have to close existing connection session completely, do these<strong>:</strong> (1) exit out from communication tool program or close/terminate the tool, then (2) the USB-to-serial adapter or serial cable (which is connected with router), disconnect that from your computer, then (3) in some cases you may also need to close the (bash shell) tab inside the shell manager program, then (4) again start another instance of (bash shell) tab inside your <abbr title="Operating System">OS</abbr>/distro&#039;s shell-manager, and then (5) reconnect back USB-to-Serial adapter or serial cable, then (6) start another instance of communication tool with slightly-different settings, and (6) test again if/whether you can view sensible output from router, and test if your typed characters are appearing correctly inside the communication tool&#039;s screen. See <code>Troubleshooting</code> section / paragraph in below for more info.</div>
</li>
<li class="level1"><div class="li"> when your serial connection is apparently ok/working, then: remember the communication tool&#039;s command-line, write it down, and do not change connector-cable&#039;s pin connections in router&#039;s serial port, or in your serial cable/adapter.</div>
</li>
<li class="level1"><div class="li"> disconnect the power-plug from router or use the power-button in router to turn it off, without moving the router where you&#039;ve placed it. Wait for about 15 seconds.</div>
</li>
<li class="level1"><div class="li"> if you disconnected serial adapter/cable then reconnect it back. Wait about 30 seconds, for your computer to enable serial adapter again.</div>
</li>
<li class="level1"><div class="li"> type the communication tool command-line that worked, to start the communication tool again with correct settings. Wait for about 2 to 5 seconds.</div>
</li>
<li class="level1"><div class="li"> start the router.</div>
</li>
<li class="level1"><div class="li"> now you will/should see (inside your communication tool&#039;s window) various output messages have began to appear or coming from router, coming via serial connection into your computer<strong>:</strong> your router will begin to send/output all activity data during boot-time, displaying all hardware configuration &amp; preparation &amp; basic initial test data, etc.</div>
</li>
<li class="level1"><div class="li"> Wait for about 2 minutes (120 seconds).</div>
</li>
<li class="level1"><div class="li"> and after above step, press ENTER button inside communication tool&#039;s window, then your router will usually start a <a href="https://en.wikipedia.org/wiki/Shell_(computing)" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/Shell_(computing)">shell</a> instance program inside the router, so you will see a shell interface prompt has appeared inside the communication tool program in your computer. <strong>This is what we need</strong>, to collect further detail data from the router, and to send/receive data/file into/from the router. Usually there is no login/signin prompt in serial connection. But if your router asks you to enter password/key, then enter admin/root user&#039;s password/key, or press just enter button, etc. Key-code/password can be saved in a file, and there is a command shown in above on how to send the (key/password) code from a file into the router, (via another tab in your shell-manager software).</div>
</li>
<li class="level1"><div class="li"> scroll upward in communication tool program in your computer, and copy all data output from the router, and save into a <code>filename.txt</code> or <code>filename.log.txt</code> file. Then run other commands inside communication tool window, which you need.</div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Communicate with router&quot;,&quot;hid&quot;:&quot;communicate_with_router&quot;,&quot;codeblockOffset&quot;:11,&quot;secid&quot;:27,&quot;range&quot;:&quot;17764-23394&quot;} -->
<h3 class="sectionedit28" id="troubleshooting">Troubleshooting</h3>
<div class="level3">

</div>

<h4 id="garbled_output">Garbled output</h4>
<div class="level4">

<p>
If you get something like this during the bootcycle (output is garbled)
</p>
<pre class="code">����������������������������������|� 2000-2008 Broadcom Corporation.
Init Arena
Init Devs.
This is ������������������?����������?����BCM4wXX�������������Ǉ����������0735750 - 0x80)
BSS:        0x80739790 -   0x80���4���������~�~������߇~����������������������������5.10
The boot is CFE</pre>

<p>
then probably the GND is not connected (soldered?) well. The router wont listen to any keyboard actions.
After solving the problem output should look fine.
</p>

<p>
Another possible cause for the garbled output is wrong serial port speed, try different settings, most common ones are 9600, 38400 and 115200 bps.
</p>

</div>

<h4 id="unable_to_send_data">Unable to send data</h4>
<div class="level4">

<p>
If you successfully receive router bootup logs but seem unable to send data (e.g. some keyboard input which might be required to intercept bootup, and where you&#039;re unable to stop continued kernel bootup), then this may be due to having configured the connection as hardware flow control rather than software (happened on TL-WDR3600 in my case).
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Troubleshooting&quot;,&quot;hid&quot;:&quot;troubleshooting&quot;,&quot;codeblockOffset&quot;:11,&quot;secid&quot;:28,&quot;range&quot;:&quot;23395-24775&quot;} -->
<h2 class="sectionedit29" id="physical_connection">Physical Connection</h2>
<div class="level2">

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Physical Connection&quot;,&quot;hid&quot;:&quot;physical_connection&quot;,&quot;codeblockOffset&quot;:11,&quot;secid&quot;:29,&quot;range&quot;:&quot;24776-24807&quot;} -->
<h3 class="sectionedit30" id="router_with_usb_port">Router with USB port</h3>
<div class="level3">

<p>
For routers with a built in USB-connector (such as WNDR3700 for example), simply plugging in a USB-serial converter and installing the appropriate software will provide a serial console to the router.
</p>
<ul>
<li class="level1"><div class="li"> Install the appropriate packages, e.g. <code>kmod-usb-serial</code> and <code>kmod-usb-serial-ftdi</code> for FTDI based converters or <code>kmod-usb-serial-pl2303</code> for prolific based converters</div>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> Add the new serial port to /etc/inittab, (if you have multiple adaptors find the right one in /proc/tty/driver/usbserial):<br/>
<pre class="code bash">ttyUSB0::askfirst:<span class="sy0">/</span>usr<span class="sy0">/</span>libexec<span class="sy0">/</span>login.sh</pre>
</div>
</li>
</ul>

<p>
Be aware, using this method relies on the kernel loading the modules so will only work once OpenWrt is up and running.  It won&#039;t bring you the possibility to use the bootloader console to reflash since the USB drivers on the router won&#039;t be running.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Router with USB port&quot;,&quot;hid&quot;:&quot;router_with_usb_port&quot;,&quot;codeblockOffset&quot;:11,&quot;secid&quot;:30,&quot;range&quot;:&quot;24808-25658&quot;} -->
<h3 class="sectionedit31" id="router_with_serial_portheaderpins">Router with serial port / header / pins</h3>
<div class="level3">

<p>
In order to interact with your device over its serial port, you need a minimum of three wires connected: a ground (GND); transmit (TX); and receive (RX). It is possible to get useful information about what is happening with only GND and RX, but in order to fix a problem you will usually also need TX.  Your computer&#039;s TX should be connected to the device&#039;s RX, and your computer&#039;s RX should be connected to the device&#039;s TX. The computer&#039;s GND should connect the the device&#039;s GND. That way, what you say will get heard by the device and what the device says will get heard by your computer. This is often called a “null-modem” configuration.
</p>
<div class="table sectionedit32"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0 leftalign"> PC    </th><th class="col1 leftalign"> Router                </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0 leftalign"> TX    </td><td class="col1 leftalign"> RX                    </td>
	</tr>
	<tr class="row2">
		<td class="col0 leftalign"> RX    </td><td class="col1 leftalign"> TX                    </td>
	</tr>
	<tr class="row3">
		<td class="col0 leftalign"> GND   </td><td class="col1 leftalign"> GND                   </td>
	</tr>
	<tr class="row4">
		<td class="col0 leftalign"> VCC   </td><td class="col1"> <strong><span style='color:crimson; '>Do not connect VCC!</span></strong> </td>
	</tr>
</table></div>
<!-- EDIT{&quot;target&quot;:&quot;table&quot;,&quot;name&quot;:&quot;&quot;,&quot;hid&quot;:&quot;table4&quot;,&quot;secid&quot;:32,&quot;range&quot;:&quot;26352-26546&quot;} -->
<p>
Some things to consider:
</p>
<ul>
<li class="level1"><div class="li"> If your computer has a serial port, you can use a level-shifter (see below) and a “null-modem cable”.</div>
</li>
<li class="level1 node"><div class="li"> If your computer has a USB port, then:</div>
<ul>
<li class="level2"><div class="li"> if your device uses standard RS232 logic levels, you can use a standard USB-serial converter along with a standard “null-modem cable”</div>
</li>
<li class="level2"><div class="li"> if your device uses 0/5V or 0/3.3V logic levels, you can use a USB-serial cable with a serial to <abbr title="Time To Live">TTL</abbr> adaptor or a USB to <abbr title="Time To Live">TTL</abbr> adapter (that use the right <abbr title="Time To Live">TTL</abbr> voltage) and a connector suitably wired to connect to your device.</div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> If your computer has neither a serial port or a USB port, you are in trouble!</div>
</li>
</ul>

<p>
These days, computer manufacturers are dropping <a href="http://www.flexihub.com/serial-over-network.html" class="urlextern" title="http://www.flexihub.com/serial-over-network.html" rel="ugc nofollow"> RS232 serial ports</a>, while USB ports are increasingly ubiquitous. Particularly if you need to <abbr title="Time To Live">TTL</abbr> logic levels, USB is probably the way to go since you can get the right logic levels (the voltage) integrated in the USB-<abbr title="Time To Live">TTL</abbr> converter.
</p>

<p>
See <a href="/docs/techref/hardware/port.serial.cables" class="wikilink1" title="docs:techref:hardware:port.serial.cables" data-wiki-id="docs:techref:hardware:port.serial.cables">port.serial.cables</a> for a variety of ways to make the physical connection from PC to router using homemade or commercial USB-serial and serial-serial cables.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Router with serial port \/ header \/ pins&quot;,&quot;hid&quot;:&quot;router_with_serial_portheaderpins&quot;,&quot;codeblockOffset&quot;:12,&quot;secid&quot;:31,&quot;range&quot;:&quot;25659-27699&quot;} -->
<h2 class="sectionedit33" id="serial_port_pinouts">Serial port pinouts</h2>
<div class="level2">

<p>
Pinouts for your model can often be found on your model&#039;s devicepage, see <a href="/toh/start" class="wikilink1" title="toh:start" data-wiki-id="toh:start">Table of Hardware</a>.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Serial port pinouts&quot;,&quot;hid&quot;:&quot;serial_port_pinouts&quot;,&quot;codeblockOffset&quot;:12,&quot;secid&quot;:33,&quot;range&quot;:&quot;27700-27839&quot;} -->
<h2 class="sectionedit34" id="finding_serial_console">Finding Serial Console</h2>
<div class="level2">

<p>
If the serial port pinout is not shown on your model&#039;s devicepage, do a Google search. Most of the time, the serial port(s), if they exist, have already been documented by others. If methods listed here are not enough for you, consider to go deeper reading <a href="http://www.devttys0.com/2012/11/reverse-engineering-serial-ports/" class="urlextern" title="http://www.devttys0.com/2012/11/reverse-engineering-serial-ports/" rel="ugc nofollow">http://www.devttys0.com/2012/11/reverse-engineering-serial-ports/</a>
</p>

<p>
Finding an UART on a router is fairly easy since it only needs 3 signals (without modem signaling) to work: GND, TX and RX (often accompanied by VCC). Try looking for a populated or unpopulated 4-pin header, which can be far from the SoC (signals are relatively slow) and usually with tracks on the top or bottom layer of the PCB, and connected to the TX and RX.
</p>

<p>
Once found, you can easily check where is the GND, which is connected to the same ground layer than the power connector. The VCC should be fixed at 3.3V and connected to the supply layer; the TX is also at 3.3V level, but using a multimeter as an ohm-meter, if you find an infinite resistance between the TX and VCC pins, it means they&#039;re distinct signals (else, you&#039;ll need to find the correct TX or VCC pin). The RX and GND are by default at 0V, so you can check them using the same technique.
</p>

<p>
If you don&#039;t have a multimeter, a simple trick that usually works is using a speaker or a LED to determine the 3.3V signals. Additionally, most PCB designers will draw a square pad to indicate pin number 1.
</p>

<p>
Since your router is very likely to have its I/O pins working at 3.3V (<a href="https://en.wikipedia.org/wiki/Transistor–transistor logic" class="interwiki iw_wp" title="https://en.wikipedia.org/wiki/Transistor–transistor logic">TTL</a> level voltage), you&#039;ll need <a href="/docs/techref/hardware/port.serial#usbtors232ttlconvertermodule" class="wikilink1" title="docs:techref:hardware:port.serial" data-wiki-id="docs:techref:hardware:port.serial">usb.to.rs232.ttl.converter.module</a> or a level shifter such as a Maxim MAX232 to change the level from 3.3V to your computer level which is usually at 12V.
</p>

<p>
Once the correct pins are found, just interface your level shifter with the device, and the serial port on the PC on the other side. Most common baud rates for the off-the-shelf devices are 9600, 38400 and 115200 with 8-bits data, no parity, 1-bit stop.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Finding Serial Console&quot;,&quot;hid&quot;:&quot;finding_serial_console&quot;,&quot;codeblockOffset&quot;:12,&quot;secid&quot;:34,&quot;range&quot;:&quot;27840-29859&quot;} -->
<h3 class="sectionedit35" id="piezoelectric_buzzer_method">Piezoelectric buzzer method</h3>
<div class="level3">
<ol>
<li class="level1"><div class="li"> Use a Piezoelectric buzzer and attach its ground (usually black) wire to a ground point on the router; the back of the power regulators are usually good candidates, but check this with a multimeter/voltmeter.</div>
</li>
<li class="level1"><div class="li"> Use the other wire to probe any of the header pins which may be pre-installed, or any of the component holes which look like they could have header pins installed into (typically in a row of 4 pins for a serial port).  Reset the router.  The bootloader/linux bootup messages will only happen for a few seconds, and after that, the serial console will be silent - so even if you have the right pin you will not hear anything.</div>
</li>
<li class="level1"><div class="li"> Once you get the right pin, the Piezoelectric buzzer should make a screeching sound much like that of a 56kbps connection.</div>
</li>
</ol>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Piezoelectric buzzer method&quot;,&quot;hid&quot;:&quot;piezoelectric_buzzer_method&quot;,&quot;codeblockOffset&quot;:12,&quot;secid&quot;:35,&quot;range&quot;:&quot;29860-30667&quot;} -->
<h3 class="sectionedit36" id="digital_multimeter_method">Digital multimeter method</h3>
<div class="level3">

<p>
Typically there are four pins to identify: GND - Ground, Vcc - 3.3VDC or 5VDC, TXD - Transmit data, and RXD - Receive data.  There may be additional/extra pins.  Every router is different.
</p>
<ol>
<li class="level1"><div class="li"> Locate the set of four/five/more pins that are most likely to be the serial console.</div>
</li>
<li class="level1"><div class="li"> Set the multimeter to measure resistance/continuity.  Place the black probe on a known ground point and use the red probe to check each of the pins.  Whenever you see zero or nearly zero ohms resistance, that pin should be the GND connection.</div>
</li>
<li class="level1"><div class="li"> Switch the multimeter to measure DC voltage on a scale greater than 10 but less than 100 volts.  Meters vary, but you should be able to select a range greater than five volts.  Place the black probe on the known ground point again, and with the router powered on, use the red probe to check the remaining pins of the port for steady 3.3V or 5V DC.  When you find it, that pin is likely to be the VCC connection. Note however that on some routers RX and VCC both have same voltage. One suggestion on how to distinguish them is to power off your device, and switch to continuity test if you have it(so that your mm would emit audible beep on near-zero ohms). VCC pin usually has a capacitor and shorting them would result in a very short beep once. RX would not emit any beeps.</div>
</li>
<li class="level1"><div class="li"> It&#039;s easiest to find the router&#039;s TXD pin first, because all the console output from the boot process appears there. Measuring DC V with multimeter would easily point to TX pin as on output it would irregularly drop from ~3.3 or ~5 as console output occurs. If booting is long and produces a lot of output it would be easy to notice that even with a cheap multimeter. Sometimes with a very brief output some multimeters&#039; sampling points may come at the moments when there&#039;s no output so reboot it a few times to make sure. When you see an irregular drops, that&#039;s TX. Then you can connect the RXD pin of your level shifter to that router pin and re-start the router.  You should have a terminal window connected to the serial port at the correct bitrate and parity, and you&#039;ve connected the proper pin, you should see output data the router&#039;s startup process.  If not, try another pin, restarting the router until you receive valid output.  Now you&#039;ve located the serial port TXD connection. Anyway router TX and VCC are really one of the simpliest to find.</div>
</li>
<li class="level1"><div class="li"> The only pin remaining is RXD, where the serial port receives data from your terminal session.  Connect the TXD pin of your level shifter to the remaining pin (or multiple pins) until you find the one that correctly echoes characters you type in your terminal session. Sometimes when your RX pin has VCC voltage you would want to introduce a ~1K resistor in series between router RX and <abbr title="Time To Live">TTL</abbr> TX not to fry something.</div>
</li>
</ol>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Digital multimeter method&quot;,&quot;hid&quot;:&quot;digital_multimeter_method&quot;,&quot;codeblockOffset&quot;:12,&quot;secid&quot;:36,&quot;range&quot;:&quot;30668-33490&quot;} -->
<h3 class="sectionedit37" id="logic_analyzeroscilloscope">Logic analyzer/oscilloscope</h3>
<div class="level3">

<p>
A more accurate method would be to use either a logic analyzer or an oscilloscope, but these are expensive and for the basic task of locating a serial pin a little overkill. <img src="/lib/images/smileys/wink.svg" class="icon smiley" alt=";-)" />
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Logic analyzer\/oscilloscope&quot;,&quot;hid&quot;:&quot;logic_analyzeroscilloscope&quot;,&quot;codeblockOffset&quot;:12,&quot;secid&quot;:37,&quot;range&quot;:&quot;33491-33707&quot;} -->
<h2 class="sectionedit38" id="serial_port_speed">Serial port speed</h2>
<div class="level2">

<p>
If you want to change serial port speed read <a href="/docs/guide-user/hardware/serialbaudratespeed" class="wikilink1" title="docs:guide-user:hardware:serialbaudratespeed" data-wiki-id="docs:guide-user:hardware:serialbaudratespeed">this article</a>.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Serial port speed&quot;,&quot;hid&quot;:&quot;serial_port_speed&quot;,&quot;codeblockOffset&quot;:12,&quot;secid&quot;:38,&quot;range&quot;:&quot;33708-33846&quot;} -->
<h2 class="sectionedit39" id="devices">Devices</h2>
<div class="level2">

<p>
The list of related devices:
<a href="/tag/serial?do=showtag&amp;tag=serial" class="wikilink1 tag label label-default mx-1" title="tag:serial" rel="tag"><span class="iconify"  data-icon="mdi:tag-text-outline"></span> serial</a>
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Devices&quot;,&quot;hid&quot;:&quot;devices&quot;,&quot;codeblockOffset&quot;:12,&quot;secid&quot;:39,&quot;range&quot;:&quot;33847-&quot;} -->